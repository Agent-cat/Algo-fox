{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/Algo-fox/components/dashboard/ActivityHeatmap.tsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo, memo } from \"react\";\nimport { motion } from \"framer-motion\";\n\ninterface ActivityHeatmapProps {\n    submissions: {\n        createdAt: Date;\n        status: string;\n    }[];\n}\n\nfunction ActivityHeatmap({ submissions }: ActivityHeatmapProps) {\n    // Utilities\n    const formatDateKey = (date: Date) => {\n        return date.toISOString().split('T')[0];\n    };\n\n    // 1. Generate the calendar grid data (last 365 days approx, aligned to weeks)\n    const { weeks, monthLabels } = useMemo(() => {\n        const today = new Date();\n        const endDate = new Date(today);\n\n        // Start date: 1 year ago\n        const startDate = new Date(today);\n        startDate.setFullYear(startDate.getFullYear() - 1);\n\n        // Adjust start date to the previous Sunday to align the grid\n        // Day 0 is Sunday\n        const dayOfWeek = startDate.getDay();\n        startDate.setDate(startDate.getDate() - dayOfWeek);\n\n        const weeksArr = [];\n        const monthsArr = [];\n\n        const currentDate = new Date(startDate);\n        let currentWeek = [];\n        let weekIndex = 0;\n\n        while (currentDate <= endDate) {\n            // Add day to current week\n            currentWeek.push(new Date(currentDate));\n\n            // If week is full (7 days), push to weeks and reset\n            if (currentWeek.length === 7) {\n                weeksArr.push(currentWeek);\n\n                // check for month label\n                const firstDayOfWeek = currentWeek[0];\n                const month = firstDayOfWeek.toLocaleString('default', { month: 'short' });\n\n                // Logic: Show label if it's the first week of the month visible in this row\n                // Or simply every ~4 weeks, but let's try to be accurate\n                // A simplified standard github-like approach:\n                // If the first day of the week is roughly the start of the month (1st-7th)\n                if (firstDayOfWeek.getDate() <= 7) {\n                    monthsArr.push({ month, weekIndex });\n                }\n\n                currentWeek = [];\n                weekIndex++;\n            }\n\n            // Next day\n            currentDate.setDate(currentDate.getDate() + 1);\n        }\n\n        // Handle partial last week if needed (though loop usually finishes on a boundary if we align precisely)\n        if (currentWeek.length > 0) {\n            weeksArr.push(currentWeek);\n        }\n\n        return { weeks: weeksArr, monthLabels: monthsArr };\n    }, []);\n\n    // 2. Map submissions to dates\n    const submissionMap = useMemo(() => {\n        const map = new Map<string, number>();\n        submissions.forEach(sub => {\n            const dateKey = formatDateKey(new Date(sub.createdAt));\n            map.set(dateKey, (map.get(dateKey) || 0) + 1);\n        });\n        return map;\n    }, [submissions]);\n\n    // 3. Color scale\n    const getIntensityClass = (count: number) => {\n        if (count === 0) return \"bg-gray-100 dark:bg-[#262626]\";\n        if (count <= 2) return \"bg-orange-200 dark:bg-orange-900/50\";\n        if (count <= 5) return \"bg-orange-300 dark:bg-orange-700\";\n        if (count <= 8) return \"bg-orange-400 dark:bg-orange-600\";\n        return \"bg-orange-500 dark:bg-orange-500\";\n    };\n\n    return (\n        <div className=\"w-full overflow-x-auto overflow-y-hidden pb-2\">\n            <div className=\"min-w-fit\">\n                <div className=\"flex text-xs text-gray-400 dark:text-gray-500 mb-2 relative h-4\">\n                    {monthLabels.map((label, i) => (\n                        <span\n                            key={`${label.month}-${i}`}\n                            className=\"absolute top-0 pointer-events-none\"\n                            style={{\n                                left: `${label.weekIndex * 15}px` // 12px (w-3) + 3px (gap-[3px]) = 15px per column\n                            }}\n                        >\n                            {label.month}\n                        </span>\n                    ))}\n                </div>\n\n                <div className=\"flex gap-2\">\n                    {/* Day Labels (Mon, Wed, Fri) */}\n                    <div className=\"flex flex-col gap-[3px] text-[10px] text-gray-500 dark:text-gray-400 mt-[1px]\">\n                        {/* 7 slots, align with grid rows */}\n                        <span className=\"h-3 leading-3 invisible\">Sun</span> {/* Spacer */}\n                        <span className=\"h-3 leading-3\">Mon</span>\n                        <span className=\"h-3 leading-3 invisible\">Tue</span>\n                        <span className=\"h-3 leading-3\">Wed</span>\n                        <span className=\"h-3 leading-3 invisible\">Thu</span>\n                        <span className=\"h-3 leading-3\">Fri</span>\n                        <span className=\"h-3 leading-3 invisible\">Sat</span>\n                    </div>\n\n                    {/* Heatmap Grid */}\n                    <div className=\"flex gap-[3px]\">\n                        {weeks.map((week, wIndex) => (\n                            <div key={wIndex} className=\"flex flex-col gap-[3px]\">\n                                {week.map((date, dIndex) => {\n                                    const dateKey = formatDateKey(date);\n                                    const count = submissionMap.get(dateKey) || 0;\n                                    const titleDate = date.toLocaleDateString(undefined, {\n                                        weekday: 'long',\n                                        year: 'numeric',\n                                        month: 'long',\n                                        day: 'numeric'\n                                    });\n\n                                    return (\n                                        <motion.div\n                                            key={dateKey}\n                                            initial={{ opacity: 0, scale: 0.5 }}\n                                            animate={{ opacity: 1, scale: 1 }}\n                                            transition={{ delay: (wIndex * 7 + dIndex) * 0.0005 }} // Staggered animation\n                                            className={`w-3 h-3 rounded-[2px] ${getIntensityClass(count)} hover:ring-2 ring-offset-1 ring-orange-300 cursor-pointer relative group`}\n                                        >\n                                            {/* Simple Tooltip */}\n                                            <div className=\"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block z-50 whitespace-nowrap\">\n                                                <div className=\"bg-gray-900 dark:bg-white text-white dark:text-black text-xs py-1 px-2 rounded shadow-lg\">\n                                                    <span className=\"font-semibold\">{count} contributions</span> on {titleDate}\n                                                </div>\n                                            </div>\n                                        </motion.div>\n                                    );\n                                })}\n                            </div>\n                        ))}\n                    </div>\n                </div>\n\n                {/* Legend */}\n                <div className=\"flex items-center gap-2 mt-4 text-xs text-gray-400 dark:text-gray-500 justify-end mr-4\">\n                    <span>Less</span>\n                    <div className=\"flex gap-[3px]\">\n                        <div className=\"w-3 h-3 rounded-[2px] bg-gray-100 dark:bg-[#262626]\" />\n                        <div className=\"w-3 h-3 rounded-[2px] bg-orange-200 dark:bg-orange-900/50\" />\n                        <div className=\"w-3 h-3 rounded-[2px] bg-orange-300 dark:bg-orange-700\" />\n                        <div className=\"w-3 h-3 rounded-[2px] bg-orange-400 dark:bg-orange-600\" />\n                        <div className=\"w-3 h-3 rounded-[2px] bg-orange-500 dark:bg-orange-500\" />\n                    </div>\n                    <span>More</span>\n                </div>\n            </div>\n        </div>\n    );\n}\n\n\nexport default memo(ActivityHeatmap);\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 360, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/Algo-fox/actions/user.action.ts"],"sourcesContent":["\"use server\";\n\nimport { UserService } from \"@/core/services/user.service\";\nimport { auth } from \"@/lib/auth\";\nimport { headers } from \"next/headers\";\nimport { prisma } from \"@/lib/prisma\";\nimport { revalidatePath, updateTag, cacheTag, cacheLife } from \"next/cache\";\n\n/**\n * Get user's total score (cached for 5 minutes)\n * Cache is invalidated when user solves a problem via updateTag\n */\n\nexport async function getUserScore(): Promise<number> {\n    \"use cache: private\"; // Must be at top - allows headers() inside\n    cacheLife({ stale: 300, revalidate: 300 }); // 5 minutes\n\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n\n    if (!session?.user?.id) {\n        return 0;\n    }\n\n    const userId = session.user.id;\n\n    cacheTag(`user-score-${userId}`, `user-${userId}`);\n\n    return UserService.getUserScore(userId);\n}\n\n/**\n * Recalculate user's total score based on their solved problems\n * This fixes any incorrect scores in the database\n */\nexport async function recalculateUserScore(): Promise<{ success: boolean; newScore: number }> {\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n\n    if (!session?.user?.id) {\n        throw new Error(\"Unauthorized\");\n    }\n\n    const userId = session.user.id;\n\n    return UserService.recalculateUserScore(userId);\n}\n\n/**\n * Complete user onboarding process\n * Updates user profile information and marks onboarding as complete\n */\nexport async function completeOnboarding(data: {\n    name?: string;\n    bio?: string;\n    collegeId: string;\n    year?: string;\n    leetCodeHandle?: string;\n    codeChefHandle?: string;\n    hackerrankHandle?: string;\n    githubHandle?: string;\n}): Promise<{ success: boolean; error?: string }> {\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n\n    if (!session?.user?.id) {\n        return { success: false, error: \"Unauthorized\" };\n    }\n\n    const userId = session.user.id;\n\n    const res = await UserService.completeOnboarding(userId, data);\n\n    if (res.success) {\n        // Invalidate Redis cache (redundant but good to have here too)\n        try {\n            const redis = (await import(\"@/lib/redis\")).default;\n            await redis.del(`dashboard:stats:${userId}`);\n        } catch (error) {\n            console.error(\"Failed to invalidate dashboard redis cache:\", error);\n        }\n\n        revalidatePath(\"/dashboard\");\n        updateTag(`user-${userId}`);\n        updateTag(`dashboard-${userId}`);\n        updateTag('dashboard-stats');\n    }\n\n    return res;\n}\n\n/**\n * Update user profile information\n */\nexport async function updateUserInfo(data: {\n    name?: string;\n    bio?: string;\n    leetCodeHandle?: string;\n    codeChefHandle?: string;\n    hackerrankHandle?: string;\n    codeforcesHandle?: string;\n    githubHandle?: string;\n}): Promise<{ success: boolean; error?: string }> {\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n\n    if (!session?.user?.id) {\n        return { success: false, error: \"Unauthorized\" };\n    }\n\n    const userId = session.user.id;\n\n    try {\n        await prisma.user.update({\n            where: { id: userId },\n            data: {\n                name: data.name,\n                bio: data.bio,\n                leetCodeHandle: data.leetCodeHandle,\n                codeChefHandle: data.codeChefHandle,\n                codeforcesHandle: data.codeforcesHandle,\n                githubHandle: data.githubHandle,\n            }\n        });\n\n        // Invalidate Redis cache\n        try {\n            const redis = (await import(\"@/lib/redis\")).default;\n            await redis.del(`dashboard:stats:${userId}`);\n        } catch (error) {\n            console.error(\"Failed to invalidate dashboard redis cache:\", error);\n        }\n\n        revalidatePath(\"/dashboard\");\n        updateTag(`user-${userId}`);\n        updateTag(`user-score-${userId}`);\n        updateTag(`dashboard-${userId}`);\n        updateTag('dashboard-stats');\n        return { success: true };\n    } catch (error) {\n        console.error(\"Failed to update user info:\", error);\n        return { success: false, error: \"Failed to update profile\" };\n    }\n}\n\n/**\n * Sync user profile and stats\n * Clears all caches related to the user and revalidates dashboard\n */\nexport async function syncUserProfile(): Promise<{ success: boolean; error?: string }> {\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n\n    if (!session?.user?.id) {\n        return { success: false, error: \"Unauthorized\" };\n    }\n\n    const userId = session.user.id;\n\n    try {\n        // Invalidate Redis cache\n        try {\n            const redis = (await import(\"@/lib/redis\")).default;\n            await redis.del(`dashboard:stats:${userId}`);\n            await redis.del(`user-score-${userId}`);\n        } catch (error) {\n            console.error(\"Failed to invalidate redis cache during sync:\", error);\n        }\n\n        // Revalidate Next.js cache\n        revalidatePath(\"/dashboard\");\n        updateTag(`user-${userId}`);\n        updateTag(`user-score-${userId}`);\n        updateTag('dashboard-stats');\n\n        return { success: true };\n    } catch (error) {\n        console.error(\"Sync failed:\", error);\n        return { success: false, error: \"Failed to sync profile\" };\n    }\n}\n"],"names":[],"mappings":";;;;;;;IAiGsB,iBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA"}},
    {"offset": {"line": 375, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/Algo-fox/components/dashboard/EditProfileModal.tsx"],"sourcesContent":["\"use client\";\n\nimport { useForm } from \"react-hook-form\";\nimport { useState } from \"react\";\nimport { Loader2, X } from \"lucide-react\";\nimport { toast } from \"sonner\";\nimport { updateUserInfo } from \"@/actions/user.action\";\n\ninterface EditProfileModalProps {\n    isOpen: boolean;\n    onClose: () => void;\n    user: {\n        name: string;\n        bio?: string | null;\n        leetCodeHandle?: string | null;\n        codeChefHandle?: string | null;\n        codeforcesHandle?: string | null;\n        githubHandle?: string | null;\n    };\n}\n\ninterface FormData {\n    name: string;\n    bio: string;\n    leetCodeHandle: string;\n    codeChefHandle: string;\n    codeforcesHandle: string;\n    githubHandle: string;\n}\n\nexport function EditProfileModal({ isOpen, onClose, user }: EditProfileModalProps) {\n    const [isLoading, setIsLoading] = useState(false);\n\n    const { register, handleSubmit, formState: { errors } } = useForm<FormData>({\n        defaultValues: {\n            name: user.name || \"\",\n            bio: user.bio || \"\",\n            leetCodeHandle: user.leetCodeHandle || \"\",\n            codeChefHandle: user.codeChefHandle || \"\",\n            codeforcesHandle: user.codeforcesHandle || \"\",\n            githubHandle: user.githubHandle || \"\",\n        }\n    });\n\n    const onSubmit = async (data: FormData) => {\n        setIsLoading(true);\n        try {\n            const res = await updateUserInfo(data);\n            if (res.success) {\n                toast.success(\"Profile updated successfully\");\n                onClose();\n            } else {\n                toast.error(res.error || \"Failed to update profile\");\n            }\n        } catch (error) {\n            toast.error(\"Something went wrong\");\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    if (!isOpen) return null;\n\n    return (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm\">\n            <div className=\"bg-white dark:bg-[#141414] rounded-2xl w-full max-w-lg overflow-hidden shadow-2xl animate-in fade-in zoom-in duration-200 border border-gray-200 dark:border-[#262626]\">\n                <div className=\"flex items-center justify-between px-6 py-4 border-b border-gray-100 dark:border-[#262626] bg-gray-50/50 dark:bg-[#1a1a1a]\">\n                    <h2 className=\"text-lg font-semibold text-gray-900 dark:text-gray-100\">Edit Profile</h2>\n                    <button onClick={onClose} className=\"p-1 hover:bg-gray-200 dark:hover:bg-[#262626] rounded-full transition-colors\">\n                        <X className=\"w-5 h-5 text-gray-500 dark:text-gray-400\" />\n                    </button>\n                </div>\n\n                <form onSubmit={handleSubmit(onSubmit)} className=\"p-6 space-y-4 max-h-[80vh] overflow-y-auto custom-scrollbar\">\n\n                    {/* Name */}\n                    <div className=\"space-y-1.5\">\n                        <label className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">Display Name</label>\n                        <input\n                            {...register(\"name\", { required: \"Name is required\" })}\n                            className=\"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-[#333] bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-colors\"\n                            placeholder=\"Your Name\"\n                        />\n                        {errors.name && <p className=\"text-xs text-red-500\">{errors.name.message}</p>}\n                    </div>\n\n                    {/* Bio */}\n                    <div className=\"space-y-1.5\">\n                        <label className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">Bio</label>\n                        <textarea\n                            {...register(\"bio\")}\n                            rows={3}\n                            className=\"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-[#333] bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-colors resize-none\"\n                            placeholder=\"Tell us about yourself...\"\n                        />\n                    </div>\n\n                    <div className=\"text-xs font-semibold text-gray-400 dark:text-gray-500 uppercase tracking-wider pt-2\">Social Handles</div>\n\n                    <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n                        <div className=\"space-y-1.5\">\n                            <label className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">LeetCode</label>\n                            <input\n                                {...register(\"leetCodeHandle\")}\n                                className=\"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-[#333] bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-colors\"\n                                placeholder=\"username\"\n                            />\n                        </div>\n                        <div className=\"space-y-1.5\">\n                            <label className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">CodeChef</label>\n                            <input\n                                {...register(\"codeChefHandle\")}\n                                className=\"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-[#333] bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-colors\"\n                                placeholder=\"username\"\n                            />\n                        </div>\n                        <div className=\"space-y-1.5\">\n                            <label className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">GitHub</label>\n                            <input\n                                {...register(\"githubHandle\")}\n                                className=\"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-[#333] bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-colors\"\n                                placeholder=\"username\"\n                            />\n                        </div>\n                        <div className=\"space-y-1.5\">\n                            <label className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">Codeforces</label>\n                            <input\n                                {...register(\"codeforcesHandle\")}\n                                className=\"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-[#333] bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-colors\"\n                                placeholder=\"username\"\n                            />\n                        </div>\n                    </div>\n\n                    <div className=\"pt-4 flex justify-end gap-3\">\n                        <button\n                            type=\"button\"\n                            onClick={onClose}\n                            className=\"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-[#262626] rounded-lg transition-colors\"\n                        >\n                            Cancel\n                        </button>\n                        <button\n                            type=\"submit\"\n                            disabled={isLoading}\n                            className=\"px-4 py-2 text-sm font-medium text-white bg-orange-600 hover:bg-orange-700 rounded-lg transition-colors flex items-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed\"\n                        >\n                            {isLoading && <Loader2 className=\"w-4 h-4 animate-spin\" />}\n                            Save Changes\n                        </button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 720, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/Algo-fox/actions/user.action.ts"],"sourcesContent":["\"use server\";\n\nimport { UserService } from \"@/core/services/user.service\";\nimport { auth } from \"@/lib/auth\";\nimport { headers } from \"next/headers\";\nimport { prisma } from \"@/lib/prisma\";\nimport { revalidatePath, updateTag, cacheTag, cacheLife } from \"next/cache\";\n\n/**\n * Get user's total score (cached for 5 minutes)\n * Cache is invalidated when user solves a problem via updateTag\n */\n\nexport async function getUserScore(): Promise<number> {\n    \"use cache: private\"; // Must be at top - allows headers() inside\n    cacheLife({ stale: 300, revalidate: 300 }); // 5 minutes\n\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n\n    if (!session?.user?.id) {\n        return 0;\n    }\n\n    const userId = session.user.id;\n\n    cacheTag(`user-score-${userId}`, `user-${userId}`);\n\n    return UserService.getUserScore(userId);\n}\n\n/**\n * Recalculate user's total score based on their solved problems\n * This fixes any incorrect scores in the database\n */\nexport async function recalculateUserScore(): Promise<{ success: boolean; newScore: number }> {\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n\n    if (!session?.user?.id) {\n        throw new Error(\"Unauthorized\");\n    }\n\n    const userId = session.user.id;\n\n    return UserService.recalculateUserScore(userId);\n}\n\n/**\n * Complete user onboarding process\n * Updates user profile information and marks onboarding as complete\n */\nexport async function completeOnboarding(data: {\n    name?: string;\n    bio?: string;\n    collegeId: string;\n    year?: string;\n    leetCodeHandle?: string;\n    codeChefHandle?: string;\n    hackerrankHandle?: string;\n    githubHandle?: string;\n}): Promise<{ success: boolean; error?: string }> {\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n\n    if (!session?.user?.id) {\n        return { success: false, error: \"Unauthorized\" };\n    }\n\n    const userId = session.user.id;\n\n    const res = await UserService.completeOnboarding(userId, data);\n\n    if (res.success) {\n        // Invalidate Redis cache (redundant but good to have here too)\n        try {\n            const redis = (await import(\"@/lib/redis\")).default;\n            await redis.del(`dashboard:stats:${userId}`);\n        } catch (error) {\n            console.error(\"Failed to invalidate dashboard redis cache:\", error);\n        }\n\n        revalidatePath(\"/dashboard\");\n        updateTag(`user-${userId}`);\n        updateTag(`dashboard-${userId}`);\n        updateTag('dashboard-stats');\n    }\n\n    return res;\n}\n\n/**\n * Update user profile information\n */\nexport async function updateUserInfo(data: {\n    name?: string;\n    bio?: string;\n    leetCodeHandle?: string;\n    codeChefHandle?: string;\n    hackerrankHandle?: string;\n    codeforcesHandle?: string;\n    githubHandle?: string;\n}): Promise<{ success: boolean; error?: string }> {\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n\n    if (!session?.user?.id) {\n        return { success: false, error: \"Unauthorized\" };\n    }\n\n    const userId = session.user.id;\n\n    try {\n        await prisma.user.update({\n            where: { id: userId },\n            data: {\n                name: data.name,\n                bio: data.bio,\n                leetCodeHandle: data.leetCodeHandle,\n                codeChefHandle: data.codeChefHandle,\n                codeforcesHandle: data.codeforcesHandle,\n                githubHandle: data.githubHandle,\n            }\n        });\n\n        // Invalidate Redis cache\n        try {\n            const redis = (await import(\"@/lib/redis\")).default;\n            await redis.del(`dashboard:stats:${userId}`);\n        } catch (error) {\n            console.error(\"Failed to invalidate dashboard redis cache:\", error);\n        }\n\n        revalidatePath(\"/dashboard\");\n        updateTag(`user-${userId}`);\n        updateTag(`user-score-${userId}`);\n        updateTag(`dashboard-${userId}`);\n        updateTag('dashboard-stats');\n        return { success: true };\n    } catch (error) {\n        console.error(\"Failed to update user info:\", error);\n        return { success: false, error: \"Failed to update profile\" };\n    }\n}\n\n/**\n * Sync user profile and stats\n * Clears all caches related to the user and revalidates dashboard\n */\nexport async function syncUserProfile(): Promise<{ success: boolean; error?: string }> {\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n\n    if (!session?.user?.id) {\n        return { success: false, error: \"Unauthorized\" };\n    }\n\n    const userId = session.user.id;\n\n    try {\n        // Invalidate Redis cache\n        try {\n            const redis = (await import(\"@/lib/redis\")).default;\n            await redis.del(`dashboard:stats:${userId}`);\n            await redis.del(`user-score-${userId}`);\n        } catch (error) {\n            console.error(\"Failed to invalidate redis cache during sync:\", error);\n        }\n\n        // Revalidate Next.js cache\n        revalidatePath(\"/dashboard\");\n        updateTag(`user-${userId}`);\n        updateTag(`user-score-${userId}`);\n        updateTag('dashboard-stats');\n\n        return { success: true };\n    } catch (error) {\n        console.error(\"Sync failed:\", error);\n        return { success: false, error: \"Failed to sync profile\" };\n    }\n}\n"],"names":[],"mappings":";;;;;;;IAyJsB,kBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA"}},
    {"offset": {"line": 735, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/Algo-fox/components/dashboard/ProfileActions.tsx"],"sourcesContent":["\"use client\";\n\nimport { Settings2, RefreshCw } from \"lucide-react\";\nimport { useState } from \"react\";\nimport { EditProfileModal } from \"./EditProfileModal\";\nimport { syncUserProfile } from \"@/actions/user.action\";\nimport { toast } from \"sonner\";\nimport { useRouter } from \"next/navigation\";\n\ninterface ProfileActionsProps {\n    user: {\n        name: string;\n        email: string;\n        image?: string | null;\n        bio?: string | null;\n        leetCodeHandle?: string | null;\n        codeChefHandle?: string | null;\n        codeforcesHandle?: string | null;\n        githubHandle?: string | null;\n    };\n    readonly?: boolean;\n}\n\nexport function ProfileActions({ user, readonly }: ProfileActionsProps) {\n    const [isEditModalOpen, setIsEditModalOpen] = useState(false);\n    const [isSyncing, setIsSyncing] = useState(false);\n    const router = useRouter();\n\n    if (readonly) return null;\n\n    const handleSync = async () => {\n        setIsSyncing(true);\n        try {\n            const res = await syncUserProfile();\n            if (res.success) {\n                toast.success(\"Profile synchronized successfully\");\n                router.refresh();\n            } else {\n                toast.error(res.error || \"Failed to sync profile\");\n            }\n        } catch (error) {\n            toast.error(\"An error occurred during synchronization\");\n        } finally {\n            setIsSyncing(false);\n        }\n    };\n\n    return (\n        <>\n            <div className=\"flex gap-2 w-full mt-2\">\n                <button\n                    onClick={() => setIsEditModalOpen(true)}\n                    className=\"flex-1 py-2 px-4 bg-orange-500 text-white text-sm font-medium rounded-xl hover:bg-orange-600 transition-colors\"\n                >\n                    Edit Profile\n                </button>\n                <button\n                    onClick={handleSync}\n                    disabled={isSyncing}\n                    className=\"p-2 border border-gray-200 dark:border-[#333] rounded-xl hover:bg-gray-50 dark:hover:bg-[#1a1a1a] transition-colors text-gray-600 dark:text-gray-400 disabled:opacity-50\"\n                    title=\"Refresh Stats & Profile\"\n                >\n                    <RefreshCw className={`w-5 h-5 ${isSyncing ? 'animate-spin' : ''}`} />\n                </button>\n            </div>\n\n            <EditProfileModal\n                isOpen={isEditModalOpen}\n                onClose={() => setIsEditModalOpen(false)}\n                user={user}\n            />\n        </>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAPA;;;;;;;AAuBO,SAAS,eAAe,EAAE,IAAI,EAAE,QAAQ,EAAuB;;IAClE,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,yKAAQ,EAAC;IACvD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,SAAS,IAAA,kJAAS;IAExB,IAAI,UAAU,OAAO;IAErB,MAAM,aAAa;QACf,aAAa;QACb,IAAI;YACA,MAAM,MAAM,MAAM,IAAA,qKAAe;YACjC,IAAI,IAAI,OAAO,EAAE;gBACb,oJAAK,CAAC,OAAO,CAAC;gBACd,OAAO,OAAO;YAClB,OAAO;gBACH,oJAAK,CAAC,KAAK,CAAC,IAAI,KAAK,IAAI;YAC7B;QACJ,EAAE,OAAO,OAAO;YACZ,oJAAK,CAAC,KAAK,CAAC;QAChB,SAAU;YACN,aAAa;QACjB;IACJ;IAEA,qBACI;;0BACI,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBACG,SAAS,IAAM,mBAAmB;wBAClC,WAAU;kCACb;;;;;;kCAGD,6LAAC;wBACG,SAAS;wBACT,UAAU;wBACV,WAAU;wBACV,OAAM;kCAEN,cAAA,6LAAC,gOAAS;4BAAC,WAAW,CAAC,QAAQ,EAAE,YAAY,iBAAiB,IAAI;;;;;;;;;;;;;;;;;0BAI1E,6LAAC,mKAAgB;gBACb,QAAQ;gBACR,SAAS,IAAM,mBAAmB;gBAClC,MAAM;;;;;;;;AAItB;GAlDgB;;QAGG,kJAAS;;;KAHZ"}},
    {"offset": {"line": 841, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/Algo-fox/components/dashboard/AchievementsCard.tsx"],"sourcesContent":["\"use client\";\n\nimport { Trophy, Medal, Crown, Lock } from \"lucide-react\";\nimport { motion } from \"framer-motion\";\n\ninterface AchievementsCardProps {\n    badges?: {\n        gold: number;\n        silver: number;\n        bronze: number;\n    };\n}\n\nexport function AchievementsCard({ badges }: AchievementsCardProps) {\n    const earnedBadges = [\n        { type: 'gold', count: badges?.gold || 0, icon: Crown, label: 'Gold', color: 'from-yellow-400 to-yellow-600', shadow: 'shadow-yellow-500/30', bg: 'bg-yellow-50' },\n        { type: 'silver', count: badges?.silver || 0, icon: Medal, label: 'Silver', color: 'from-slate-300 to-slate-500', shadow: 'shadow-slate-400/30', bg: 'bg-slate-50' },\n        { type: 'bronze', count: badges?.bronze || 0, icon: Medal, label: 'Bronze', color: 'from-orange-400 to-orange-600', shadow: 'shadow-orange-500/30', bg: 'bg-orange-50' },\n    ].filter(b => b.count > 0);\n\n    const hasBadges = earnedBadges.length > 0;\n\n    return (\n        <div className=\"bg-white dark:bg-[#141414] rounded-2xl border border-dashed border-gray-300 dark:border-[#262626] hover:shadow-lg transition-shadow duration-300 overflow-hidden h-full flex flex-col\">\n            <div className=\"px-6 py-5 border-b border-dashed border-gray-200 dark:border-[#262626] bg-gray-50/50 dark:bg-[#1a1a1a] flex items-center justify-between\">\n                <h3 className=\"text-lg font-bold text-gray-900 dark:text-gray-100\">Achievements</h3>\n                {hasBadges && (\n                    <span className=\"px-2 py-1 bg-green-100 text-green-700 text-xs font-bold rounded-full border border-green-200\">\n                        {earnedBadges.reduce((acc, curr) => acc + curr.count, 0)} Badges\n                    </span>\n                )}\n            </div>\n\n            <div className=\"p-6 flex-1 flex flex-col justify-center\">\n                {hasBadges ? (\n                    <div className=\"flex flex-wrap gap-4 justify-center\">\n                        {earnedBadges.map((badge, index) => (\n                            <motion.div\n                                key={badge.type}\n                                initial={{ opacity: 0, scale: 0.8 }}\n                                animate={{ opacity: 1, scale: 1 }}\n                                transition={{ delay: index * 0.1, duration: 0.4, type: \"spring\" }}\n                                whileHover={{ scale: 1.1 }}\n                                className=\"relative flex flex-col items-center group cursor-default\"\n                            >\n                                {/* Main Badge Circle */}\n                                <div className={`w-16 h-16 flex items-center justify-center rounded-full bg-gradient-to-br ${badge.color} text-white shadow-md ${badge.shadow} border-2 border-white dark:border-[#262626] ring-1 ring-gray-100 dark:ring-[#333]`}>\n                                    <badge.icon className=\"w-8 h-8 drop-shadow-sm\" strokeWidth={2} />\n                                </div>\n\n                                {/* Pill Count Indicator */}\n                                <div className=\"absolute -bottom-2 bg-orange-100 dark:bg-orange-500/20 text-orange-800 dark:text-orange-400 px-2 py-0.5 rounded-full border-2 border-white dark:border-[#262626] shadow-sm text-[10px] font-bold tracking-tight z-10\">\n                                    x{badge.count}\n                                </div>\n                            </motion.div>\n                        ))}\n                    </div>\n                ) : (\n                    <div className=\"text-center py-8 opacity-70\">\n                        <motion.div\n                            initial={{ scale: 0.8, opacity: 0 }}\n                            animate={{ scale: 1, opacity: 1 }}\n                            className=\"relative inline-block mb-4\"\n                        >\n                            <Trophy className=\"w-20 h-20 mx-auto text-gray-200\" />\n                            <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center\">\n                                <Lock className=\"w-4 h-4 text-gray-400\" />\n                            </div>\n                        </motion.div>\n                        <p className=\"text-gray-900 dark:text-gray-100 font-bold mb-1\">Locked</p>\n                        <p className=\"text-xs text-gray-500 dark:text-gray-400 max-w-[200px] mx-auto\">\n                            Finish in the Top 3 of a contest to unlock your first badge.\n                        </p>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AACA;AAHA;;;;AAaO,SAAS,iBAAiB,EAAE,MAAM,EAAyB;IAC9D,MAAM,eAAe;QACjB;YAAE,MAAM;YAAQ,OAAO,QAAQ,QAAQ;YAAG,MAAM,gNAAK;YAAE,OAAO;YAAQ,OAAO;YAAiC,QAAQ;YAAwB,IAAI;QAAe;QACjK;YAAE,MAAM;YAAU,OAAO,QAAQ,UAAU;YAAG,MAAM,gNAAK;YAAE,OAAO;YAAU,OAAO;YAA+B,QAAQ;YAAuB,IAAI;QAAc;QACnK;YAAE,MAAM;YAAU,OAAO,QAAQ,UAAU;YAAG,MAAM,gNAAK;YAAE,OAAO;YAAU,OAAO;YAAiC,QAAQ;YAAwB,IAAI;QAAe;KAC1K,CAAC,MAAM,CAAC,CAAA,IAAK,EAAE,KAAK,GAAG;IAExB,MAAM,YAAY,aAAa,MAAM,GAAG;IAExC,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAG,WAAU;kCAAqD;;;;;;oBAClE,2BACG,6LAAC;wBAAK,WAAU;;4BACX,aAAa,MAAM,CAAC,CAAC,KAAK,OAAS,MAAM,KAAK,KAAK,EAAE;4BAAG;;;;;;;;;;;;;0BAKrE,6LAAC;gBAAI,WAAU;0BACV,0BACG,6LAAC;oBAAI,WAAU;8BACV,aAAa,GAAG,CAAC,CAAC,OAAO,sBACtB,6LAAC,uMAAM,CAAC,GAAG;4BAEP,SAAS;gCAAE,SAAS;gCAAG,OAAO;4BAAI;4BAClC,SAAS;gCAAE,SAAS;gCAAG,OAAO;4BAAE;4BAChC,YAAY;gCAAE,OAAO,QAAQ;gCAAK,UAAU;gCAAK,MAAM;4BAAS;4BAChE,YAAY;gCAAE,OAAO;4BAAI;4BACzB,WAAU;;8CAGV,6LAAC;oCAAI,WAAW,CAAC,0EAA0E,EAAE,MAAM,KAAK,CAAC,sBAAsB,EAAE,MAAM,MAAM,CAAC,kFAAkF,CAAC;8CAC7N,cAAA,6LAAC,MAAM,IAAI;wCAAC,WAAU;wCAAyB,aAAa;;;;;;;;;;;8CAIhE,6LAAC;oCAAI,WAAU;;wCAAuN;wCAChO,MAAM,KAAK;;;;;;;;2BAdZ,MAAM,IAAI;;;;;;;;;yCAoB3B,6LAAC;oBAAI,WAAU;;sCACX,6LAAC,uMAAM,CAAC,GAAG;4BACP,SAAS;gCAAE,OAAO;gCAAK,SAAS;4BAAE;4BAClC,SAAS;gCAAE,OAAO;gCAAG,SAAS;4BAAE;4BAChC,WAAU;;8CAEV,6LAAC,mNAAM;oCAAC,WAAU;;;;;;8CAClB,6LAAC;oCAAI,WAAU;8CACX,cAAA,6LAAC,6MAAI;wCAAC,WAAU;;;;;;;;;;;;;;;;;sCAGxB,6LAAC;4BAAE,WAAU;sCAAkD;;;;;;sCAC/D,6LAAC;4BAAE,WAAU;sCAAiE;;;;;;;;;;;;;;;;;;;;;;;AAQtG;KAjEgB"}}]
}