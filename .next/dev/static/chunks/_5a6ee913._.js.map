{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/Algo-fox/actions/category.action.ts"],"sourcesContent":["\"use server\";\n\nimport { CategoryService } from \"@/core/services/category.service\";\nimport { ProblemDomain, Difficulty } from \"@prisma/client\";\nimport { headers } from \"next/headers\";\nimport { auth } from \"@/lib/auth\";\nimport { revalidatePath, updateTag, cacheTag, cacheLife } from \"next/cache\";\n\n// GETTING ALL CATEGORIES\n\nexport async function getCategories(domain: ProblemDomain = \"DSA\") {\n  \"use cache: private\"; // Must be at top - allows headers() inside\n  cacheLife({ stale: 900, revalidate: 900 }); // 15 minutes default\n\n  const session = await auth.api.getSession({\n    headers: await headers()\n  });\n  const userId = session?.user?.id;\n\n  cacheTag(`categories-${domain}${userId ? `-user-${userId}` : ''}`, 'categories-list');\n\n  return CategoryService.getCategories(domain, userId);\n}\n\n// GETTING A CATEGORY BY SLUG\n\nexport async function getCategory(slug: string) {\n  \"use cache\";\n  cacheLife({ stale: 900, revalidate: 900 }); // 15 minutes default\n\n  cacheTag(`category-${slug}`, 'categories-list');\n\n  return CategoryService.getCategoryBySlug(slug);\n}\n\n// GETTING A CATEGORY BY ID --> NO CACHING\n\nexport async function getCategoryById(id: string) {\n  return CategoryService.getCategoryById(id);\n}\n\n// GETTING CATEGORY PROBLEMS\n\nexport async function getCategoryProblems(\n  categoryId: string,\n  page: number = 1,\n  pageSize: number = 10,\n  cursor?: string\n) {\n  \"use cache: private\"; // Must be at top - allows headers() inside\n  cacheLife({ stale: 900, revalidate: 900 }); // 15 minutes default\n\n  const session = await auth.api.getSession({\n    headers: await headers()\n  });\n  const userId = session?.user?.id;\n\n  const tagKey = `category-problems-${categoryId}${cursor ? `-cursor-${cursor}` : `-page-${page}`}${userId ? `-user-${userId}` : ''}`;\n  cacheTag(tagKey, `category-${categoryId}`, 'categories-list');\n\n  return CategoryService.getCategoryProblems(categoryId, page, pageSize, userId, cursor);\n}\n\n\n// CREATING A CATEGORY --> ADMIN ONLY\n\nexport async function createCategory(data: {\n  name: string;\n  description?: string;\n  slug: string;\n  order?: number;\n  domain?: ProblemDomain;\n}) {\n\n  const session = await auth.api.getSession({\n    headers: await headers()\n  });\n\n  // CHECKING IF USER IS ADMIN --> THROWING AN ERROR IF NOT ADMIN\n\n  if (!session || session.user.role !== \"ADMIN\") {\n    throw new Error(\"Unauthorized\");\n  }\n\n  const result = await CategoryService.createCategory(data);\n\n  if (result.success) {\n    // REVALIDATING THE PATHS\n    revalidatePath(\"/problems/dsa\");\n    revalidatePath(\"/problems/sql\");\n    revalidatePath(\"/admin/categories\");\n    updateTag('categories-list');\n  }\n\n  return result;\n}\n\n// UPDATING A CATEGORY --> ADMIN ONLY\n\nexport async function updateCategory(id: string, data: { name?: string; description?: string; slug?: string; order?: number; }) {\n\n  const session = await auth.api.getSession({\n    headers: await headers()\n  });\n  // CHECKING IF USER IS ADMIN --> THROWING AN ERROR IF NOT ADMIN\n  if (!session || session.user.role !== \"ADMIN\") {\n    throw new Error(\"Unauthorized\");\n  }\n\n  const result = await CategoryService.updateCategory(id, data);\n\n  if (result.success) {\n    // REVALIDATING THE PATHS --> PROBLEMS AND ADMIN CATEGORIES\n    revalidatePath(\"/problems/dsa\");\n    revalidatePath(\"/problems/sql\");\n    revalidatePath(\"/admin/categories\");\n    updateTag('categories-list');\n    if (data.slug) {\n      updateTag(`category-${data.slug}`);\n    }\n  }\n\n  return result;\n}\n\n// DELETING A CATEGORY --> ADMIN ONLY\n\nexport async function deleteCategory(id: string) {\n  const session = await auth.api.getSession({\n    headers: await headers()\n  });\n\n  // CHECKING IF USER IS ADMIN --> THROWING AN ERROR IF NOT ADMIN\n\n  if (!session || session.user.role !== \"ADMIN\") {\n    throw new Error(\"Unauthorized\");\n  }\n\n  const result = await CategoryService.deleteCategory(id);\n\n  if (result.success) {\n    // REVALIDATING THE PATHS --> PROBLEMS AND ADMIN CATEGORIES\n    revalidatePath(\"/problems/dsa\");\n    revalidatePath(\"/problems/sql\");\n    revalidatePath(\"/admin/categories\");\n    updateTag('categories-list');\n    if (result.slug) {\n      updateTag(`category-${result.slug}`);\n    }\n  }\n\n  return result;\n}\n\n\n// ADDING A PROBLEM TO A CATEGORY --> ADMIN ONLY\n\nexport async function addProblemToCategory(\n  categoryId: string,\n  problemId: string,\n  order?: number\n) {\n  const session = await auth.api.getSession({\n    headers: await headers()\n  });\n  // CHECKING IF USER IS ADMIN --> THROWING AN ERROR IF NOT ADMIN\n\n  if (!session || session.user.role !== \"ADMIN\") {\n    throw new Error(\"Unauthorized\");\n  }\n\n  const result = await CategoryService.addProblemToCategory(categoryId, problemId, order);\n\n  if (result.success) {\n    revalidatePath(\"/problems/dsa\");\n    revalidatePath(\"/problems/sql\");\n    revalidatePath(`/admin/categories/${categoryId}`);\n    revalidatePath(`/admin/dsa/categories/${categoryId}`);\n    revalidatePath(`/admin/sql/categories/${categoryId}`);\n    updateTag(`category-${categoryId}`);\n    updateTag('categories-list');\n  }\n\n  return result;\n}\n\n\n// REMOVING A PROBLEM FROM A CATEGORY --> ADMIN ONLY\n\nexport async function removeProblemFromCategory(\n  categoryId: string,\n  problemId: string\n) {\n  const session = await auth.api.getSession({\n    headers: await headers()\n  });\n\n  // CHECKING IF USER IS ADMIN --> THROWING AN ERROR IF NOT ADMIN\n\n  if (!session || session.user.role !== \"ADMIN\") {\n    throw new Error(\"Unauthorized\");\n  }\n\n  const result = await CategoryService.removeProblemFromCategory(categoryId, problemId);\n\n  if (result.success) {\n    revalidatePath(\"/problems/dsa\");\n    revalidatePath(\"/problems/sql\");\n    revalidatePath(`/admin/categories/${categoryId}`);\n  }\n\n  return result;\n}\n\n// CREATING A PROBLEM AND ADDING IT TO A CATEGORY --> ADMIN ONLY\n\nexport async function createProblemAndAddToCategory(\n  categoryId: string,\n  data: {\n    title: string;\n    description: string;\n    difficulty: Difficulty;\n    slug: string;\n    hidden: boolean;\n    hiddenQuery?: string | null;\n    testCases?: { input: string; output: string; hidden?: boolean }[];\n  }\n) {\n  const session = await auth.api.getSession({\n    headers: await headers()\n  });\n\n  if (!session || session.user.role !== \"ADMIN\") {\n    throw new Error(\"Unauthorized\");\n  }\n\n  const result = await CategoryService.createProblemAndAddToCategory(categoryId, data);\n\n  if (result.success) {\n    revalidatePath(\"/problems/dsa\");\n    revalidatePath(\"/problems/sql\");\n    revalidatePath(`/admin/categories/${categoryId}`);\n    revalidatePath(`/admin/dsa/categories/${categoryId}`);\n    revalidatePath(`/admin/sql/categories/${categoryId}`);\n    revalidatePath(\"/admin/problems\");\n    revalidatePath(\"/admin/dsa/problems\");\n    revalidatePath(\"/admin/sql/problems\");\n  }\n\n  return result;\n}\n"],"names":[],"mappings":";;;;;;;IAqCsB,kBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/Algo-fox/actions/category.action.ts"],"sourcesContent":["\"use server\";\n\nimport { CategoryService } from \"@/core/services/category.service\";\nimport { ProblemDomain, Difficulty } from \"@prisma/client\";\nimport { headers } from \"next/headers\";\nimport { auth } from \"@/lib/auth\";\nimport { revalidatePath, updateTag, cacheTag, cacheLife } from \"next/cache\";\n\n// GETTING ALL CATEGORIES\n\nexport async function getCategories(domain: ProblemDomain = \"DSA\") {\n  \"use cache: private\"; // Must be at top - allows headers() inside\n  cacheLife({ stale: 900, revalidate: 900 }); // 15 minutes default\n\n  const session = await auth.api.getSession({\n    headers: await headers()\n  });\n  const userId = session?.user?.id;\n\n  cacheTag(`categories-${domain}${userId ? `-user-${userId}` : ''}`, 'categories-list');\n\n  return CategoryService.getCategories(domain, userId);\n}\n\n// GETTING A CATEGORY BY SLUG\n\nexport async function getCategory(slug: string) {\n  \"use cache\";\n  cacheLife({ stale: 900, revalidate: 900 }); // 15 minutes default\n\n  cacheTag(`category-${slug}`, 'categories-list');\n\n  return CategoryService.getCategoryBySlug(slug);\n}\n\n// GETTING A CATEGORY BY ID --> NO CACHING\n\nexport async function getCategoryById(id: string) {\n  return CategoryService.getCategoryById(id);\n}\n\n// GETTING CATEGORY PROBLEMS\n\nexport async function getCategoryProblems(\n  categoryId: string,\n  page: number = 1,\n  pageSize: number = 10,\n  cursor?: string\n) {\n  \"use cache: private\"; // Must be at top - allows headers() inside\n  cacheLife({ stale: 900, revalidate: 900 }); // 15 minutes default\n\n  const session = await auth.api.getSession({\n    headers: await headers()\n  });\n  const userId = session?.user?.id;\n\n  const tagKey = `category-problems-${categoryId}${cursor ? `-cursor-${cursor}` : `-page-${page}`}${userId ? `-user-${userId}` : ''}`;\n  cacheTag(tagKey, `category-${categoryId}`, 'categories-list');\n\n  return CategoryService.getCategoryProblems(categoryId, page, pageSize, userId, cursor);\n}\n\n\n// CREATING A CATEGORY --> ADMIN ONLY\n\nexport async function createCategory(data: {\n  name: string;\n  description?: string;\n  slug: string;\n  order?: number;\n  domain?: ProblemDomain;\n}) {\n\n  const session = await auth.api.getSession({\n    headers: await headers()\n  });\n\n  // CHECKING IF USER IS ADMIN --> THROWING AN ERROR IF NOT ADMIN\n\n  if (!session || session.user.role !== \"ADMIN\") {\n    throw new Error(\"Unauthorized\");\n  }\n\n  const result = await CategoryService.createCategory(data);\n\n  if (result.success) {\n    // REVALIDATING THE PATHS\n    revalidatePath(\"/problems/dsa\");\n    revalidatePath(\"/problems/sql\");\n    revalidatePath(\"/admin/categories\");\n    updateTag('categories-list');\n  }\n\n  return result;\n}\n\n// UPDATING A CATEGORY --> ADMIN ONLY\n\nexport async function updateCategory(id: string, data: { name?: string; description?: string; slug?: string; order?: number; }) {\n\n  const session = await auth.api.getSession({\n    headers: await headers()\n  });\n  // CHECKING IF USER IS ADMIN --> THROWING AN ERROR IF NOT ADMIN\n  if (!session || session.user.role !== \"ADMIN\") {\n    throw new Error(\"Unauthorized\");\n  }\n\n  const result = await CategoryService.updateCategory(id, data);\n\n  if (result.success) {\n    // REVALIDATING THE PATHS --> PROBLEMS AND ADMIN CATEGORIES\n    revalidatePath(\"/problems/dsa\");\n    revalidatePath(\"/problems/sql\");\n    revalidatePath(\"/admin/categories\");\n    updateTag('categories-list');\n    if (data.slug) {\n      updateTag(`category-${data.slug}`);\n    }\n  }\n\n  return result;\n}\n\n// DELETING A CATEGORY --> ADMIN ONLY\n\nexport async function deleteCategory(id: string) {\n  const session = await auth.api.getSession({\n    headers: await headers()\n  });\n\n  // CHECKING IF USER IS ADMIN --> THROWING AN ERROR IF NOT ADMIN\n\n  if (!session || session.user.role !== \"ADMIN\") {\n    throw new Error(\"Unauthorized\");\n  }\n\n  const result = await CategoryService.deleteCategory(id);\n\n  if (result.success) {\n    // REVALIDATING THE PATHS --> PROBLEMS AND ADMIN CATEGORIES\n    revalidatePath(\"/problems/dsa\");\n    revalidatePath(\"/problems/sql\");\n    revalidatePath(\"/admin/categories\");\n    updateTag('categories-list');\n    if (result.slug) {\n      updateTag(`category-${result.slug}`);\n    }\n  }\n\n  return result;\n}\n\n\n// ADDING A PROBLEM TO A CATEGORY --> ADMIN ONLY\n\nexport async function addProblemToCategory(\n  categoryId: string,\n  problemId: string,\n  order?: number\n) {\n  const session = await auth.api.getSession({\n    headers: await headers()\n  });\n  // CHECKING IF USER IS ADMIN --> THROWING AN ERROR IF NOT ADMIN\n\n  if (!session || session.user.role !== \"ADMIN\") {\n    throw new Error(\"Unauthorized\");\n  }\n\n  const result = await CategoryService.addProblemToCategory(categoryId, problemId, order);\n\n  if (result.success) {\n    revalidatePath(\"/problems/dsa\");\n    revalidatePath(\"/problems/sql\");\n    revalidatePath(`/admin/categories/${categoryId}`);\n    revalidatePath(`/admin/dsa/categories/${categoryId}`);\n    revalidatePath(`/admin/sql/categories/${categoryId}`);\n    updateTag(`category-${categoryId}`);\n    updateTag('categories-list');\n  }\n\n  return result;\n}\n\n\n// REMOVING A PROBLEM FROM A CATEGORY --> ADMIN ONLY\n\nexport async function removeProblemFromCategory(\n  categoryId: string,\n  problemId: string\n) {\n  const session = await auth.api.getSession({\n    headers: await headers()\n  });\n\n  // CHECKING IF USER IS ADMIN --> THROWING AN ERROR IF NOT ADMIN\n\n  if (!session || session.user.role !== \"ADMIN\") {\n    throw new Error(\"Unauthorized\");\n  }\n\n  const result = await CategoryService.removeProblemFromCategory(categoryId, problemId);\n\n  if (result.success) {\n    revalidatePath(\"/problems/dsa\");\n    revalidatePath(\"/problems/sql\");\n    revalidatePath(`/admin/categories/${categoryId}`);\n  }\n\n  return result;\n}\n\n// CREATING A PROBLEM AND ADDING IT TO A CATEGORY --> ADMIN ONLY\n\nexport async function createProblemAndAddToCategory(\n  categoryId: string,\n  data: {\n    title: string;\n    description: string;\n    difficulty: Difficulty;\n    slug: string;\n    hidden: boolean;\n    hiddenQuery?: string | null;\n    testCases?: { input: string; output: string; hidden?: boolean }[];\n  }\n) {\n  const session = await auth.api.getSession({\n    headers: await headers()\n  });\n\n  if (!session || session.user.role !== \"ADMIN\") {\n    throw new Error(\"Unauthorized\");\n  }\n\n  const result = await CategoryService.createProblemAndAddToCategory(categoryId, data);\n\n  if (result.success) {\n    revalidatePath(\"/problems/dsa\");\n    revalidatePath(\"/problems/sql\");\n    revalidatePath(`/admin/categories/${categoryId}`);\n    revalidatePath(`/admin/dsa/categories/${categoryId}`);\n    revalidatePath(`/admin/sql/categories/${categoryId}`);\n    revalidatePath(\"/admin/problems\");\n    revalidatePath(\"/admin/dsa/problems\");\n    revalidatePath(\"/admin/sql/problems\");\n  }\n\n  return result;\n}\n"],"names":[],"mappings":";;;;;;;IA2CsB,sBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA"}},
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/Algo-fox/actions/category.action.ts"],"sourcesContent":["\"use server\";\n\nimport { CategoryService } from \"@/core/services/category.service\";\nimport { ProblemDomain, Difficulty } from \"@prisma/client\";\nimport { headers } from \"next/headers\";\nimport { auth } from \"@/lib/auth\";\nimport { revalidatePath, updateTag, cacheTag, cacheLife } from \"next/cache\";\n\n// GETTING ALL CATEGORIES\n\nexport async function getCategories(domain: ProblemDomain = \"DSA\") {\n  \"use cache: private\"; // Must be at top - allows headers() inside\n  cacheLife({ stale: 900, revalidate: 900 }); // 15 minutes default\n\n  const session = await auth.api.getSession({\n    headers: await headers()\n  });\n  const userId = session?.user?.id;\n\n  cacheTag(`categories-${domain}${userId ? `-user-${userId}` : ''}`, 'categories-list');\n\n  return CategoryService.getCategories(domain, userId);\n}\n\n// GETTING A CATEGORY BY SLUG\n\nexport async function getCategory(slug: string) {\n  \"use cache\";\n  cacheLife({ stale: 900, revalidate: 900 }); // 15 minutes default\n\n  cacheTag(`category-${slug}`, 'categories-list');\n\n  return CategoryService.getCategoryBySlug(slug);\n}\n\n// GETTING A CATEGORY BY ID --> NO CACHING\n\nexport async function getCategoryById(id: string) {\n  return CategoryService.getCategoryById(id);\n}\n\n// GETTING CATEGORY PROBLEMS\n\nexport async function getCategoryProblems(\n  categoryId: string,\n  page: number = 1,\n  pageSize: number = 10,\n  cursor?: string\n) {\n  \"use cache: private\"; // Must be at top - allows headers() inside\n  cacheLife({ stale: 900, revalidate: 900 }); // 15 minutes default\n\n  const session = await auth.api.getSession({\n    headers: await headers()\n  });\n  const userId = session?.user?.id;\n\n  const tagKey = `category-problems-${categoryId}${cursor ? `-cursor-${cursor}` : `-page-${page}`}${userId ? `-user-${userId}` : ''}`;\n  cacheTag(tagKey, `category-${categoryId}`, 'categories-list');\n\n  return CategoryService.getCategoryProblems(categoryId, page, pageSize, userId, cursor);\n}\n\n\n// CREATING A CATEGORY --> ADMIN ONLY\n\nexport async function createCategory(data: {\n  name: string;\n  description?: string;\n  slug: string;\n  order?: number;\n  domain?: ProblemDomain;\n}) {\n\n  const session = await auth.api.getSession({\n    headers: await headers()\n  });\n\n  // CHECKING IF USER IS ADMIN --> THROWING AN ERROR IF NOT ADMIN\n\n  if (!session || session.user.role !== \"ADMIN\") {\n    throw new Error(\"Unauthorized\");\n  }\n\n  const result = await CategoryService.createCategory(data);\n\n  if (result.success) {\n    // REVALIDATING THE PATHS\n    revalidatePath(\"/problems/dsa\");\n    revalidatePath(\"/problems/sql\");\n    revalidatePath(\"/admin/categories\");\n    updateTag('categories-list');\n  }\n\n  return result;\n}\n\n// UPDATING A CATEGORY --> ADMIN ONLY\n\nexport async function updateCategory(id: string, data: { name?: string; description?: string; slug?: string; order?: number; }) {\n\n  const session = await auth.api.getSession({\n    headers: await headers()\n  });\n  // CHECKING IF USER IS ADMIN --> THROWING AN ERROR IF NOT ADMIN\n  if (!session || session.user.role !== \"ADMIN\") {\n    throw new Error(\"Unauthorized\");\n  }\n\n  const result = await CategoryService.updateCategory(id, data);\n\n  if (result.success) {\n    // REVALIDATING THE PATHS --> PROBLEMS AND ADMIN CATEGORIES\n    revalidatePath(\"/problems/dsa\");\n    revalidatePath(\"/problems/sql\");\n    revalidatePath(\"/admin/categories\");\n    updateTag('categories-list');\n    if (data.slug) {\n      updateTag(`category-${data.slug}`);\n    }\n  }\n\n  return result;\n}\n\n// DELETING A CATEGORY --> ADMIN ONLY\n\nexport async function deleteCategory(id: string) {\n  const session = await auth.api.getSession({\n    headers: await headers()\n  });\n\n  // CHECKING IF USER IS ADMIN --> THROWING AN ERROR IF NOT ADMIN\n\n  if (!session || session.user.role !== \"ADMIN\") {\n    throw new Error(\"Unauthorized\");\n  }\n\n  const result = await CategoryService.deleteCategory(id);\n\n  if (result.success) {\n    // REVALIDATING THE PATHS --> PROBLEMS AND ADMIN CATEGORIES\n    revalidatePath(\"/problems/dsa\");\n    revalidatePath(\"/problems/sql\");\n    revalidatePath(\"/admin/categories\");\n    updateTag('categories-list');\n    if (result.slug) {\n      updateTag(`category-${result.slug}`);\n    }\n  }\n\n  return result;\n}\n\n\n// ADDING A PROBLEM TO A CATEGORY --> ADMIN ONLY\n\nexport async function addProblemToCategory(\n  categoryId: string,\n  problemId: string,\n  order?: number\n) {\n  const session = await auth.api.getSession({\n    headers: await headers()\n  });\n  // CHECKING IF USER IS ADMIN --> THROWING AN ERROR IF NOT ADMIN\n\n  if (!session || session.user.role !== \"ADMIN\") {\n    throw new Error(\"Unauthorized\");\n  }\n\n  const result = await CategoryService.addProblemToCategory(categoryId, problemId, order);\n\n  if (result.success) {\n    revalidatePath(\"/problems/dsa\");\n    revalidatePath(\"/problems/sql\");\n    revalidatePath(`/admin/categories/${categoryId}`);\n    revalidatePath(`/admin/dsa/categories/${categoryId}`);\n    revalidatePath(`/admin/sql/categories/${categoryId}`);\n    updateTag(`category-${categoryId}`);\n    updateTag('categories-list');\n  }\n\n  return result;\n}\n\n\n// REMOVING A PROBLEM FROM A CATEGORY --> ADMIN ONLY\n\nexport async function removeProblemFromCategory(\n  categoryId: string,\n  problemId: string\n) {\n  const session = await auth.api.getSession({\n    headers: await headers()\n  });\n\n  // CHECKING IF USER IS ADMIN --> THROWING AN ERROR IF NOT ADMIN\n\n  if (!session || session.user.role !== \"ADMIN\") {\n    throw new Error(\"Unauthorized\");\n  }\n\n  const result = await CategoryService.removeProblemFromCategory(categoryId, problemId);\n\n  if (result.success) {\n    revalidatePath(\"/problems/dsa\");\n    revalidatePath(\"/problems/sql\");\n    revalidatePath(`/admin/categories/${categoryId}`);\n  }\n\n  return result;\n}\n\n// CREATING A PROBLEM AND ADDING IT TO A CATEGORY --> ADMIN ONLY\n\nexport async function createProblemAndAddToCategory(\n  categoryId: string,\n  data: {\n    title: string;\n    description: string;\n    difficulty: Difficulty;\n    slug: string;\n    hidden: boolean;\n    hiddenQuery?: string | null;\n    testCases?: { input: string; output: string; hidden?: boolean }[];\n  }\n) {\n  const session = await auth.api.getSession({\n    headers: await headers()\n  });\n\n  if (!session || session.user.role !== \"ADMIN\") {\n    throw new Error(\"Unauthorized\");\n  }\n\n  const result = await CategoryService.createProblemAndAddToCategory(categoryId, data);\n\n  if (result.success) {\n    revalidatePath(\"/problems/dsa\");\n    revalidatePath(\"/problems/sql\");\n    revalidatePath(`/admin/categories/${categoryId}`);\n    revalidatePath(`/admin/dsa/categories/${categoryId}`);\n    revalidatePath(`/admin/sql/categories/${categoryId}`);\n    revalidatePath(\"/admin/problems\");\n    revalidatePath(\"/admin/dsa/problems\");\n    revalidatePath(\"/admin/sql/problems\");\n  }\n\n  return result;\n}\n"],"names":[],"mappings":";;;;;;;IA6LsB,4BAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA"}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/Algo-fox/actions/category.action.ts"],"sourcesContent":["\"use server\";\n\nimport { CategoryService } from \"@/core/services/category.service\";\nimport { ProblemDomain, Difficulty } from \"@prisma/client\";\nimport { headers } from \"next/headers\";\nimport { auth } from \"@/lib/auth\";\nimport { revalidatePath, updateTag, cacheTag, cacheLife } from \"next/cache\";\n\n// GETTING ALL CATEGORIES\n\nexport async function getCategories(domain: ProblemDomain = \"DSA\") {\n  \"use cache: private\"; // Must be at top - allows headers() inside\n  cacheLife({ stale: 900, revalidate: 900 }); // 15 minutes default\n\n  const session = await auth.api.getSession({\n    headers: await headers()\n  });\n  const userId = session?.user?.id;\n\n  cacheTag(`categories-${domain}${userId ? `-user-${userId}` : ''}`, 'categories-list');\n\n  return CategoryService.getCategories(domain, userId);\n}\n\n// GETTING A CATEGORY BY SLUG\n\nexport async function getCategory(slug: string) {\n  \"use cache\";\n  cacheLife({ stale: 900, revalidate: 900 }); // 15 minutes default\n\n  cacheTag(`category-${slug}`, 'categories-list');\n\n  return CategoryService.getCategoryBySlug(slug);\n}\n\n// GETTING A CATEGORY BY ID --> NO CACHING\n\nexport async function getCategoryById(id: string) {\n  return CategoryService.getCategoryById(id);\n}\n\n// GETTING CATEGORY PROBLEMS\n\nexport async function getCategoryProblems(\n  categoryId: string,\n  page: number = 1,\n  pageSize: number = 10,\n  cursor?: string\n) {\n  \"use cache: private\"; // Must be at top - allows headers() inside\n  cacheLife({ stale: 900, revalidate: 900 }); // 15 minutes default\n\n  const session = await auth.api.getSession({\n    headers: await headers()\n  });\n  const userId = session?.user?.id;\n\n  const tagKey = `category-problems-${categoryId}${cursor ? `-cursor-${cursor}` : `-page-${page}`}${userId ? `-user-${userId}` : ''}`;\n  cacheTag(tagKey, `category-${categoryId}`, 'categories-list');\n\n  return CategoryService.getCategoryProblems(categoryId, page, pageSize, userId, cursor);\n}\n\n\n// CREATING A CATEGORY --> ADMIN ONLY\n\nexport async function createCategory(data: {\n  name: string;\n  description?: string;\n  slug: string;\n  order?: number;\n  domain?: ProblemDomain;\n}) {\n\n  const session = await auth.api.getSession({\n    headers: await headers()\n  });\n\n  // CHECKING IF USER IS ADMIN --> THROWING AN ERROR IF NOT ADMIN\n\n  if (!session || session.user.role !== \"ADMIN\") {\n    throw new Error(\"Unauthorized\");\n  }\n\n  const result = await CategoryService.createCategory(data);\n\n  if (result.success) {\n    // REVALIDATING THE PATHS\n    revalidatePath(\"/problems/dsa\");\n    revalidatePath(\"/problems/sql\");\n    revalidatePath(\"/admin/categories\");\n    updateTag('categories-list');\n  }\n\n  return result;\n}\n\n// UPDATING A CATEGORY --> ADMIN ONLY\n\nexport async function updateCategory(id: string, data: { name?: string; description?: string; slug?: string; order?: number; }) {\n\n  const session = await auth.api.getSession({\n    headers: await headers()\n  });\n  // CHECKING IF USER IS ADMIN --> THROWING AN ERROR IF NOT ADMIN\n  if (!session || session.user.role !== \"ADMIN\") {\n    throw new Error(\"Unauthorized\");\n  }\n\n  const result = await CategoryService.updateCategory(id, data);\n\n  if (result.success) {\n    // REVALIDATING THE PATHS --> PROBLEMS AND ADMIN CATEGORIES\n    revalidatePath(\"/problems/dsa\");\n    revalidatePath(\"/problems/sql\");\n    revalidatePath(\"/admin/categories\");\n    updateTag('categories-list');\n    if (data.slug) {\n      updateTag(`category-${data.slug}`);\n    }\n  }\n\n  return result;\n}\n\n// DELETING A CATEGORY --> ADMIN ONLY\n\nexport async function deleteCategory(id: string) {\n  const session = await auth.api.getSession({\n    headers: await headers()\n  });\n\n  // CHECKING IF USER IS ADMIN --> THROWING AN ERROR IF NOT ADMIN\n\n  if (!session || session.user.role !== \"ADMIN\") {\n    throw new Error(\"Unauthorized\");\n  }\n\n  const result = await CategoryService.deleteCategory(id);\n\n  if (result.success) {\n    // REVALIDATING THE PATHS --> PROBLEMS AND ADMIN CATEGORIES\n    revalidatePath(\"/problems/dsa\");\n    revalidatePath(\"/problems/sql\");\n    revalidatePath(\"/admin/categories\");\n    updateTag('categories-list');\n    if (result.slug) {\n      updateTag(`category-${result.slug}`);\n    }\n  }\n\n  return result;\n}\n\n\n// ADDING A PROBLEM TO A CATEGORY --> ADMIN ONLY\n\nexport async function addProblemToCategory(\n  categoryId: string,\n  problemId: string,\n  order?: number\n) {\n  const session = await auth.api.getSession({\n    headers: await headers()\n  });\n  // CHECKING IF USER IS ADMIN --> THROWING AN ERROR IF NOT ADMIN\n\n  if (!session || session.user.role !== \"ADMIN\") {\n    throw new Error(\"Unauthorized\");\n  }\n\n  const result = await CategoryService.addProblemToCategory(categoryId, problemId, order);\n\n  if (result.success) {\n    revalidatePath(\"/problems/dsa\");\n    revalidatePath(\"/problems/sql\");\n    revalidatePath(`/admin/categories/${categoryId}`);\n    revalidatePath(`/admin/dsa/categories/${categoryId}`);\n    revalidatePath(`/admin/sql/categories/${categoryId}`);\n    updateTag(`category-${categoryId}`);\n    updateTag('categories-list');\n  }\n\n  return result;\n}\n\n\n// REMOVING A PROBLEM FROM A CATEGORY --> ADMIN ONLY\n\nexport async function removeProblemFromCategory(\n  categoryId: string,\n  problemId: string\n) {\n  const session = await auth.api.getSession({\n    headers: await headers()\n  });\n\n  // CHECKING IF USER IS ADMIN --> THROWING AN ERROR IF NOT ADMIN\n\n  if (!session || session.user.role !== \"ADMIN\") {\n    throw new Error(\"Unauthorized\");\n  }\n\n  const result = await CategoryService.removeProblemFromCategory(categoryId, problemId);\n\n  if (result.success) {\n    revalidatePath(\"/problems/dsa\");\n    revalidatePath(\"/problems/sql\");\n    revalidatePath(`/admin/categories/${categoryId}`);\n  }\n\n  return result;\n}\n\n// CREATING A PROBLEM AND ADDING IT TO A CATEGORY --> ADMIN ONLY\n\nexport async function createProblemAndAddToCategory(\n  categoryId: string,\n  data: {\n    title: string;\n    description: string;\n    difficulty: Difficulty;\n    slug: string;\n    hidden: boolean;\n    hiddenQuery?: string | null;\n    testCases?: { input: string; output: string; hidden?: boolean }[];\n  }\n) {\n  const session = await auth.api.getSession({\n    headers: await headers()\n  });\n\n  if (!session || session.user.role !== \"ADMIN\") {\n    throw new Error(\"Unauthorized\");\n  }\n\n  const result = await CategoryService.createProblemAndAddToCategory(categoryId, data);\n\n  if (result.success) {\n    revalidatePath(\"/problems/dsa\");\n    revalidatePath(\"/problems/sql\");\n    revalidatePath(`/admin/categories/${categoryId}`);\n    revalidatePath(`/admin/dsa/categories/${categoryId}`);\n    revalidatePath(`/admin/sql/categories/${categoryId}`);\n    revalidatePath(\"/admin/problems\");\n    revalidatePath(\"/admin/dsa/problems\");\n    revalidatePath(\"/admin/sql/problems\");\n  }\n\n  return result;\n}\n"],"names":[],"mappings":";;;;;;;IAwNsB,gCAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA"}},
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/Algo-fox/actions/tag.action.ts"],"sourcesContent":["\"use server\";\n\nimport { prisma } from \"@/lib/prisma\";\n\nexport async function searchTags(query: string) {\n    try {\n        const tags = await prisma.tag.findMany({\n            where: {\n                name: {\n                    contains: query,\n                    mode: \"insensitive\",\n                },\n            },\n            take: 10,\n            orderBy: {\n                name: 'asc'\n            }\n        });\n\n        return { success: true, tags };\n    } catch (error) {\n        console.error(\"Failed to search tags:\", error);\n        return { success: false, error: \"Failed to search tags\" };\n    }\n}\n\nexport async function createTag(name: string) {\n    try {\n        const slug = name\n            .toLowerCase()\n            .trim()\n            .replace(/[^\\w\\s-]/g, \"\")\n            .replace(/[\\s_-]+/g, \"-\")\n            .replace(/^-+|-+$/g, \"\");\n\n        const tag = await prisma.tag.upsert({\n            where: { slug },\n            update: {},\n            create: {\n                name,\n                slug,\n            },\n        });\n\n        return { success: true, tag };\n    } catch (error) {\n        console.error(\"Failed to create tag:\", error);\n        return { success: false, error: \"Failed to create tag\" };\n    }\n}\n"],"names":[],"mappings":";;;;;;;IAIsB,aAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA"}},
    {"offset": {"line": 79, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/Algo-fox/actions/tag.action.ts"],"sourcesContent":["\"use server\";\n\nimport { prisma } from \"@/lib/prisma\";\n\nexport async function searchTags(query: string) {\n    try {\n        const tags = await prisma.tag.findMany({\n            where: {\n                name: {\n                    contains: query,\n                    mode: \"insensitive\",\n                },\n            },\n            take: 10,\n            orderBy: {\n                name: 'asc'\n            }\n        });\n\n        return { success: true, tags };\n    } catch (error) {\n        console.error(\"Failed to search tags:\", error);\n        return { success: false, error: \"Failed to search tags\" };\n    }\n}\n\nexport async function createTag(name: string) {\n    try {\n        const slug = name\n            .toLowerCase()\n            .trim()\n            .replace(/[^\\w\\s-]/g, \"\")\n            .replace(/[\\s_-]+/g, \"-\")\n            .replace(/^-+|-+$/g, \"\");\n\n        const tag = await prisma.tag.upsert({\n            where: { slug },\n            update: {},\n            create: {\n                name,\n                slug,\n            },\n        });\n\n        return { success: true, tag };\n    } catch (error) {\n        console.error(\"Failed to create tag:\", error);\n        return { success: false, error: \"Failed to create tag\" };\n    }\n}\n"],"names":[],"mappings":";;;;;;;IA0BsB,YAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA"}},
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/Algo-fox/components/admin/TagInput.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useRef } from \"react\";\nimport { X, Search, Loader2, Plus } from \"lucide-react\";\nimport { searchTags, createTag } from \"@/actions/tag.action\";\nimport { toast } from \"sonner\";\n\n\n\ninterface Tag {\n    slug: string;\n    name: string;\n}\n\ninterface TagInputProps {\n    value: Tag[];\n    onChange: (tags: Tag[]) => void;\n    placeholder?: string;\n}\n\nexport function TagInput({ value, onChange, placeholder = \"Search or create tags...\" }: TagInputProps) {\n    const [inputValue, setInputValue] = useState(\"\");\n    const [suggestions, setSuggestions] = useState<Tag[]>([]);\n    const [isSearching, setIsSearching] = useState(false);\n    const [isCreating, setIsCreating] = useState(false);\n    const [showSuggestions, setShowSuggestions] = useState(false);\n    const wrapperRef = useRef<HTMLDivElement>(null);\n\n    // Debounce logic\n    useEffect(() => {\n        const timer = setTimeout(() => {\n            if (inputValue.trim()) {\n                handleSearch(inputValue);\n            } else {\n                setSuggestions([]);\n            }\n        }, 300);\n\n        return () => clearTimeout(timer);\n    }, [inputValue]);\n\n    // Click outside to close\n    useEffect(() => {\n        function handleClickOutside(event: MouseEvent) {\n            if (wrapperRef.current && !wrapperRef.current.contains(event.target as Node)) {\n                setShowSuggestions(false);\n            }\n        }\n        document.addEventListener(\"mousedown\", handleClickOutside);\n        return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n    }, []);\n\n    const handleSearch = async (query: string) => {\n        setIsSearching(true);\n        const res = await searchTags(query);\n        if (res.success && res.tags) {\n            // Filter out already selected tags\n            const selectedSlugs = new Set(value.map(t => t.slug));\n            setSuggestions(res.tags.filter(t => !selectedSlugs.has(t.slug)));\n        }\n        setIsSearching(false);\n        setShowSuggestions(true);\n    };\n\n    const handleSelectTag = (tag: Tag) => {\n        onChange([...value, tag]);\n        setInputValue(\"\");\n        setSuggestions([]);\n        setShowSuggestions(false);\n    };\n\n    const handleRemoveTag = (slug: string) => {\n        onChange(value.filter(t => t.slug !== slug));\n    };\n\n    const handleCreateTag = async () => {\n        if (!inputValue.trim()) return;\n        setIsCreating(true);\n        const res = await createTag(inputValue);\n        setIsCreating(false);\n\n        if (res.success && res.tag) {\n            handleSelectTag(res.tag);\n            toast.success(`Tag \"${res.tag.name}\" created`);\n        } else {\n            toast.error(\"Failed to create tag\");\n        }\n    };\n\n    const handleKeyDown = (e: React.KeyboardEvent) => {\n        if (e.key === 'Enter') {\n            e.preventDefault();\n            if (suggestions.length > 0) {\n                handleSelectTag(suggestions[0]);\n            } else if (inputValue.trim()) {\n                handleCreateTag();\n            }\n        }\n    };\n\n    return (\n        <div className=\"space-y-3\" ref={wrapperRef}>\n            <div className=\"flex flex-wrap gap-2\">\n                {value.map((tag) => (\n                    <span\n                        key={tag.slug}\n                        className=\"inline-flex items-center gap-1 px-3 py-1 bg-orange-50 text-orange-700 rounded-full text-sm font-medium border border-orange-100\"\n                    >\n                        {tag.name}\n                        <button\n                            type=\"button\"\n                            onClick={() => handleRemoveTag(tag.slug)}\n                            className=\"ml-2\"\n                        >\n                            <X className=\"w-3 h-3\" />\n                        </button>\n                    </span>\n                ))}\n            </div>\n\n            <div className=\"relative\">\n                <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                    <Search className=\"h-4 w-4 text-gray-400\" />\n                </div>\n                <input\n                    type=\"text\"\n                    value={inputValue}\n                    onChange={(e) => {\n                        setInputValue(e.target.value);\n                        setShowSuggestions(true);\n                    }}\n                    onFocus={() => {\n                        if (inputValue.trim()) setShowSuggestions(true);\n                    }}\n                    onKeyDown={handleKeyDown}\n                    className=\"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-[#333] rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all placeholder:text-gray-400 dark:placeholder:text-gray-600 bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-white\"\n                    placeholder={placeholder}\n                />\n\n                {/* Suggestions Dropdown */}\n                {showSuggestions && inputValue.trim() && (\n                    <div className=\"absolute z-50 mt-1 w-full bg-white dark:bg-[#1a1a1a] rounded-lg shadow-xl border border-gray-100 dark:border-[#333] max-h-60 overflow-y-auto\">\n                        {isSearching ? (\n                            <div className=\"p-4 text-center text-gray-400 text-sm flex items-center justify-center gap-2\">\n                                <Loader2 className=\"w-4 h-4 animate-spin\" /> Searching...\n                            </div>\n                        ) : (\n                            <div className=\"py-1\">\n                                {suggestions.map((tag) => (\n                                    <button\n                                        key={tag.slug}\n                                        type=\"button\"\n                                        onClick={() => handleSelectTag(tag)}\n                                        className=\"w-full text-left px-4 py-2 hover:bg-orange-50 dark:hover:bg-[#262626] text-gray-700 dark:text-gray-300 text-sm transition-colors flex items-center justify-between group\"\n                                    >\n                                        <span>{tag.name}</span>\n                                        <Plus className=\"w-3 h-3 opacity-0 group-hover:opacity-100 text-orange-500\" />\n                                    </button>\n                                ))}\n\n                                {suggestions.length === 0 && (\n                                    <button\n                                        type=\"button\"\n                                        onClick={handleCreateTag}\n                                        className=\"w-full text-left px-4 py-3 hover:bg-orange-50 dark:hover:bg-[#262626] text-orange-600 dark:text-orange-400 text-sm transition-colors flex items-center gap-2 border-t border-gray-50 dark:border-[#262626] font-medium\"\n                                    >\n                                        <Plus className=\"w-4 h-4\" />\n                                        Create \"{inputValue}\"\n                                        {isCreating && <Loader2 className=\"w-3 h-3 animate-spin ml-auto\" />}\n                                    </button>\n                                )}\n                            </div>\n                        )}\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 381, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/Algo-fox/lib/languages.ts"],"sourcesContent":["\nexport interface Language {\n    id: number; // Judge0 ID\n    name: string;\n    monacoLanguage: string; // Monaco Editor language identifier\n    boilerplate: string;\n}\n\nexport const LANGUAGES: Language[] = [\n    {\n        id: 63,\n        name: \"JavaScript\",\n        monacoLanguage: \"javascript\",\n        boilerplate: `const fs = require(\"fs\");\n\nconst input = fs.readFileSync(0, \"utf8\").trim().split(/\\\\s+/);\n\n// write your code here\n\nconsole.log();`\n    },\n\n    {\n        id: 62,\n        name: \"Java\",\n        monacoLanguage: \"java\",\n        boilerplate: `import java.util.*;\n\npublic class Main {\n    public static void main(String[] args) {\n\n        // write your code here\n\n        \n    }\n}`\n    },\n\n    {\n        id: 71,\n        name: \"Python\",\n        monacoLanguage: \"python\",\n        boilerplate: `import sys\n\ndata = sys.stdin.read().split()\n\n# write your code here\n\nprint()`\n    },\n\n    {\n        id: 50,\n        name: \"C\",\n        monacoLanguage: \"c\",\n        boilerplate: `#include <stdio.h>\n\nint main() {\n\n    // write your code here\n\n    return 0;\n}`\n    },\n\n    {\n        id: 54,\n        name: \"C++\",\n        monacoLanguage: \"cpp\",\n        boilerplate: `#include <bits/stdc++.h>\nusing namespace std;\n\nint main() {\n\n    // write your code here\n\n    return 0;\n}`\n    },\n\n    {\n        id: 73,\n        name: \"Rust\",\n        monacoLanguage: \"rust\",\n        boilerplate: `use std::io::{self, Read};\n\nfn main() {\n    let mut input = String::new();\n    io::stdin().read_to_string(&mut input).unwrap();\n\n    // write your code here\n}`\n    },\n\n    {\n        id: 60,\n        name: \"Go\",\n        monacoLanguage: \"go\",\n        boilerplate: `package main\n\nimport (\n    \"bufio\"\n    \"os\"\n)\n\nfunc main() {\n    in := bufio.NewReader(os.Stdin)\n\n    // write your code here\n\n}`\n    },\n    {\n        id: 82,\n        name: \"SQL\",\n        monacoLanguage: \"sql\",\n        boilerplate: `` // Empty boilerplate for SQL\n    }\n];\n\nexport function getLanguageById(id: number): Language | undefined {\n    return LANGUAGES.find(lang => lang.id === id);\n}\n\nexport function getLanguageByName(name: string): Language | undefined {\n    return LANGUAGES.find(lang => lang.name === name);\n}\n\nexport const DEFAULT_LANGUAGE_ID = 63;\n\n"],"names":[],"mappings":";;;;;;;;;;AAQO,MAAM,YAAwB;IACjC;QACI,IAAI;QACJ,MAAM;QACN,gBAAgB;QAChB,aAAa,CAAC;;;;;;cAMR,CAAC;IACX;IAEA;QACI,IAAI;QACJ,MAAM;QACN,gBAAgB;QAChB,aAAa,CAAC;;;;;;;;;CASrB,CAAC;IACE;IAEA;QACI,IAAI;QACJ,MAAM;QACN,gBAAgB;QAChB,aAAa,CAAC;;;;;;OAMf,CAAC;IACJ;IAEA;QACI,IAAI;QACJ,MAAM;QACN,gBAAgB;QAChB,aAAa,CAAC;;;;;;;CAOrB,CAAC;IACE;IAEA;QACI,IAAI;QACJ,MAAM;QACN,gBAAgB;QAChB,aAAa,CAAC;;;;;;;;CAQrB,CAAC;IACE;IAEA;QACI,IAAI;QACJ,MAAM;QACN,gBAAgB;QAChB,aAAa,CAAC;;;;;;;CAOrB,CAAC;IACE;IAEA;QACI,IAAI;QACJ,MAAM;QACN,gBAAgB;QAChB,aAAa,CAAC;;;;;;;;;;;;CAYrB,CAAC;IACE;IACA;QACI,IAAI;QACJ,MAAM;QACN,gBAAgB;QAChB,aAAa,EAAE,CAAC,4BAA4B;IAChD;CACH;AAEM,SAAS,gBAAgB,EAAU;IACtC,OAAO,UAAU,IAAI,CAAC,CAAA,OAAQ,KAAK,EAAE,KAAK;AAC9C;AAEO,SAAS,kBAAkB,IAAY;IAC1C,OAAO,UAAU,IAAI,CAAC,CAAA,OAAQ,KAAK,IAAI,KAAK;AAChD;AAEO,MAAM,sBAAsB"}},
    {"offset": {"line": 510, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/Algo-fox/components/admin/FunctionTemplateEditor.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useMemo } from \"react\";\nimport Editor from \"@monaco-editor/react\";\nimport { ChevronDown, ChevronRight, Loader2, Copy, Check } from \"lucide-react\";\nimport { LANGUAGES } from \"@/lib/languages\";\nimport { useTheme } from \"next-themes\";\n\n// DSA languages only (exclude SQL which has id 82)\nconst DSA_LANGUAGES = LANGUAGES.filter(lang => lang.id !== 82);\n\nexport interface FunctionTemplate {\n    languageId: number;\n    functionTemplate: string;\n    driverCode: string;\n}\n\ninterface FunctionTemplateEditorProps {\n    value: FunctionTemplate[];\n    onChange: (templates: FunctionTemplate[]) => void;\n    useFunctionTemplate: boolean;\n    onUseFunctionTemplateChange: (use: boolean) => void;\n}\n\nexport default function FunctionTemplateEditor({\n    value,\n    onChange,\n    useFunctionTemplate,\n    onUseFunctionTemplateChange,\n}: FunctionTemplateEditorProps) {\n    const [expandedLanguages, setExpandedLanguages] = useState<Set<number>>(new Set());\n    const [copiedFrom, setCopiedFrom] = useState<number | null>(null);\n    const { theme, systemTheme } = useTheme();\n    const currentTheme = theme === 'system' ? systemTheme : theme;\n    const isDark = currentTheme === 'dark';\n\n    // Create a map for quick lookup\n    const templateMap = useMemo(() => {\n        const map = new Map<number, FunctionTemplate>();\n        value.forEach(t => map.set(t.languageId, t));\n        return map;\n    }, [value]);\n\n    const toggleLanguage = (langId: number) => {\n        setExpandedLanguages(prev => {\n            const next = new Set(prev);\n            if (next.has(langId)) {\n                next.delete(langId);\n            } else {\n                next.add(langId);\n            }\n            return next;\n        });\n    };\n\n    const updateTemplate = (languageId: number, field: \"functionTemplate\" | \"driverCode\", newValue: string) => {\n        const existing = templateMap.get(languageId);\n        const updated: FunctionTemplate = existing\n            ? { ...existing, [field]: newValue }\n            : { languageId, functionTemplate: \"\", driverCode: \"\", [field]: newValue };\n\n        const newTemplates = value.filter(t => t.languageId !== languageId);\n        newTemplates.push(updated);\n        onChange(newTemplates);\n    };\n\n    const getTemplate = (languageId: number): FunctionTemplate => {\n        return templateMap.get(languageId) || { languageId, functionTemplate: \"\", driverCode: \"\" };\n    };\n\n    const copyToAllLanguages = (sourceLanguageId: number) => {\n        const source = getTemplate(sourceLanguageId);\n        if (!source.functionTemplate && !source.driverCode) return;\n\n        const newTemplates: FunctionTemplate[] = DSA_LANGUAGES.map(lang => ({\n            languageId: lang.id,\n            functionTemplate: source.functionTemplate,\n            driverCode: source.driverCode,\n        }));\n\n        onChange(newTemplates);\n        setCopiedFrom(sourceLanguageId);\n        setTimeout(() => setCopiedFrom(null), 2000);\n    };\n\n    const hasContent = (languageId: number): boolean => {\n        const t = getTemplate(languageId);\n        return !!(t.functionTemplate || t.driverCode);\n    };\n\n    return (\n        <div className=\"space-y-6\">\n            {/* Mode Toggle */}\n            <div className=\"bg-gray-50 dark:bg-[#141414] rounded-xl p-4 border border-gray-200 dark:border-[#262626]\">\n                <div className=\"flex items-center gap-4\">\n                    <button\n                        type=\"button\"\n                        onClick={() => onUseFunctionTemplateChange(false)}\n                        className={`flex-1 px-4 py-3 rounded-lg text-sm font-medium transition-all border-2 ${!useFunctionTemplate\n                            ? \"bg-white dark:bg-[#1a1a1a] border-orange-500 text-orange-700 dark:text-orange-400 shadow-sm\"\n                            : \"bg-transparent border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-[#1a1a1a]\"\n                            }`}\n                    >\n                        <div className=\"flex flex-col items-center gap-1\">\n                            <span className=\"font-semibold\">Use Default</span>\n                            <span className=\"text-xs opacity-75\">Standard boilerplate code</span>\n                        </div>\n                    </button>\n                    <button\n                        type=\"button\"\n                        onClick={() => onUseFunctionTemplateChange(true)}\n                        className={`flex-1 px-4 py-3 rounded-lg text-sm font-medium transition-all border-2 ${useFunctionTemplate\n                            ? \"bg-white dark:bg-[#1a1a1a] border-orange-500 text-orange-700 dark:text-orange-400 shadow-sm\"\n                            : \"bg-transparent border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-[#1a1a1a]\"\n                            }`}\n                    >\n                        <div className=\"flex flex-col items-center gap-1\">\n                            <span className=\"font-semibold\">Use Function</span>\n                            <span className=\"text-xs opacity-75\">Custom function template + driver</span>\n                        </div>\n                    </button>\n                </div>\n            </div>\n\n            {/* Function Template Editor (shown when useFunctionTemplate is true) */}\n            {useFunctionTemplate && (\n                <div className=\"space-y-3\">\n                    <div className=\"flex items-center justify-between\">\n                        <h3 className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">\n                            Language Templates\n                        </h3>\n                        <span className=\"text-xs text-gray-500 dark:text-gray-400\">\n                            Define function signature and driver code for each language\n                        </span>\n                    </div>\n\n                    {/* Language Accordion */}\n                    <div className=\"border border-gray-200 dark:border-[#262626] rounded-xl overflow-hidden\">\n                        {DSA_LANGUAGES.map((lang, idx) => {\n                            const isExpanded = expandedLanguages.has(lang.id);\n                            const template = getTemplate(lang.id);\n                            const hasTemplateContent = hasContent(lang.id);\n\n                            return (\n                                <div key={lang.id} className={idx > 0 ? \"border-t border-gray-200 dark:border-[#262626]\" : \"\"}>\n                                    {/* Language Header */}\n                                    <div className=\"w-full flex items-center justify-between px-4 py-3 bg-gray-50 dark:bg-[#1a1a1a] hover:bg-gray-100 dark:hover:bg-[#202020] transition-colors\">\n                                        <button\n                                            type=\"button\"\n                                            onClick={() => toggleLanguage(lang.id)}\n                                            className=\"flex items-center gap-3 flex-1\"\n                                        >\n                                            {isExpanded ? (\n                                                <ChevronDown className=\"w-4 h-4 text-gray-500 dark:text-gray-400\" />\n                                            ) : (\n                                                <ChevronRight className=\"w-4 h-4 text-gray-500 dark:text-gray-400\" />\n                                            )}\n                                            <span className=\"font-medium text-gray-700 dark:text-gray-200\">{lang.name}</span>\n                                            {hasTemplateContent && (\n                                                <span className=\"px-2 py-0.5 bg-green-100 dark:bg-green-500/10 text-green-700 dark:text-green-400 text-xs rounded-full font-medium\">\n                                                    Configured\n                                                </span>\n                                            )}\n                                        </button>\n                                        {isExpanded && hasTemplateContent && (\n                                            <button\n                                                type=\"button\"\n                                                onClick={() => copyToAllLanguages(lang.id)}\n                                                className=\"flex items-center gap-1.5 px-2 py-1 text-xs font-medium text-gray-600 dark:text-gray-400 hover:text-orange-600 dark:hover:text-orange-400 hover:bg-orange-50 dark:hover:bg-orange-500/10 rounded transition-colors\"\n                                            >\n                                                {copiedFrom === lang.id ? (\n                                                    <>\n                                                        <Check className=\"w-3 h-3\" />\n                                                        Copied!\n                                                    </>\n                                                ) : (\n                                                    <>\n                                                        <Copy className=\"w-3 h-3\" />\n                                                        Copy to all\n                                                    </>\n                                                )}\n                                            </button>\n                                        )}\n                                    </div>\n\n                                    {/* Language Content */}\n                                    {isExpanded && (\n                                        <div className=\"p-4 bg-white dark:bg-[#141414] space-y-4\">\n                                            {/* Function Template */}\n                                            <div className=\"space-y-2\">\n                                                <label className=\"block text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide\">\n                                                    Function Template\n                                                    <span className=\"font-normal text-gray-400 dark:text-gray-500 ml-2\">\n                                                        (What user sees as boilerplate)\n                                                    </span>\n                                                </label>\n                                                <div className=\"border border-gray-200 dark:border-[#333] rounded-lg overflow-hidden h-40\">\n                                                    <Editor\n                                                        height=\"100%\"\n                                                        language={lang.monacoLanguage}\n                                                        value={template.functionTemplate}\n                                                        theme={isDark ? \"vs-dark\" : \"vs-light\"}\n                                                        onChange={(val) => updateTemplate(lang.id, \"functionTemplate\", val || \"\")}\n                                                        options={{\n                                                            minimap: { enabled: false },\n                                                            fontSize: 13,\n                                                            lineNumbers: \"on\",\n                                                            scrollBeyondLastLine: false,\n                                                            automaticLayout: true,\n                                                            padding: { top: 8 },\n                                                        }}\n                                                        loading={\n                                                            <div className=\"flex items-center justify-center h-full\">\n                                                                <Loader2 className=\"w-5 h-5 text-orange-500 animate-spin\" />\n                                                            </div>\n                                                        }\n                                                    />\n                                                </div>\n                                            </div>\n\n                                            {/* Driver Code */}\n                                            <div className=\"space-y-2\">\n                                                <label className=\"block text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide\">\n                                                    Driver Code\n                                                    <span className=\"font-normal text-gray-400 dark:text-gray-500 ml-2\">\n                                                        (Hidden - calls user&apos;s function)\n                                                    </span>\n                                                </label>\n                                                <div className=\"border border-gray-200 dark:border-[#333] rounded-lg overflow-hidden h-48\">\n                                                    <Editor\n                                                        height=\"100%\"\n                                                        language={lang.monacoLanguage}\n                                                        value={template.driverCode}\n                                                        theme={isDark ? \"vs-dark\" : \"vs-light\"}\n                                                        onChange={(val) => updateTemplate(lang.id, \"driverCode\", val || \"\")}\n                                                        options={{\n                                                            minimap: { enabled: false },\n                                                            fontSize: 13,\n                                                            lineNumbers: \"on\",\n                                                            scrollBeyondLastLine: false,\n                                                            automaticLayout: true,\n                                                            padding: { top: 8 },\n                                                        }}\n                                                        loading={\n                                                            <div className=\"flex items-center justify-center h-full\">\n                                                                <Loader2 className=\"w-5 h-5 text-orange-500 animate-spin\" />\n                                                            </div>\n                                                        }\n                                                    />\n                                                </div>\n                                                <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n                                                    This code wraps the user&apos;s implementation. Include input parsing and function call.\n                                                </p>\n                                            </div>\n                                        </div>\n                                    )}\n                                </div>\n                            );\n                        })}\n                    </div>\n\n                    {/* Helper tip */}\n                    <div className=\"bg-blue-50 dark:bg-blue-500/10 border border-blue-200 dark:border-blue-500/20 rounded-lg p-3\">\n                        <p className=\"text-xs text-blue-700 dark:text-blue-300\">\n                            <strong>Tip:</strong> Define the function signature in &quot;Function Template&quot; and the I/O handling in &quot;Driver Code&quot;.\n                            When running, the system combines: <code className=\"bg-blue-100 dark:bg-blue-500/20 px-1 rounded\">driver code + user&apos;s function</code>\n                        </p>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1041, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/Algo-fox/components/admin/ProblemForm.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { Difficulty, ProblemDomain } from \"@prisma/client\";\nimport { toast } from \"sonner\";\nimport { useRouter } from \"next/navigation\";\nimport { Plus, Trash2, Eye, EyeOff } from \"lucide-react\";\nimport { useForm, useFieldArray } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport * as z from \"zod\";\nimport { TagInput } from \"./TagInput\";\nimport FunctionTemplateEditor, { FunctionTemplate } from \"./FunctionTemplateEditor\";\n\n\n// FUNCTION TAMPLATE SCHEMA\nconst functionTemplateSchema = z.object({\n    languageId: z.number(),\n    functionTemplate: z.string(),\n    driverCode: z.string(),\n});\n\n\n// FORM SCHEMA\nconst formSchema = z.object({\n    title: z.string().min(1, \"Title is required\"),\n    slug: z.string().min(1, \"Slug is required\"),\n    description: z.string().min(1, \"Description is required\"),\n    difficulty: z.nativeEnum(Difficulty),\n    hidden: z.boolean(),\n    hiddenQuery: z.string().optional().nullable(),\n    tags: z.array(z.string()).optional(),\n    testCases: z.array(z.object({\n        input: z.string(), // Optional for SQL\n        output: z.string().min(1, \"Output is required\"),\n        hidden: z.boolean().optional()\n    })).min(1, \"At least one test case is required\"),\n    useFunctionTemplate: z.boolean().optional(),\n    functionTemplates: z.array(functionTemplateSchema).optional(),\n    solution: z.string().optional().nullable(),\n});\n\ntype FormValues = z.infer<typeof formSchema>;\n\n// PROPS INTERFACE\ninterface ProblemFormProps {\n    initialData?: Omit<Partial<FormValues>, \"tags\"> & {\n        tags?: { name: string; slug: string }[];\n        useFunctionTemplate?: boolean;\n        functionTemplates?: FunctionTemplate[];\n    };\n    onSubmit: (data: any) => Promise<{ success: boolean; error?: string }>;\n    submitLabel: string;\n    domain?: ProblemDomain;\n    redirectPath?: string;\n}\n\nexport default function ProblemForm({ initialData, onSubmit, submitLabel, domain = \"DSA\", redirectPath }: ProblemFormProps) {\n    const [isLoading, setIsLoading] = useState(false);\n    const [currentStep, setCurrentStep] = useState(1);\n    const [selectedTags, setSelectedTags] = useState<{ name: string, slug: string }[]>(initialData?.tags || []);\n\n    //FUNCTION TAMPLATE (DSA ONLY)\n    const [useFunctionTemplate, setUseFunctionTemplate] = useState(initialData?.useFunctionTemplate || false);\n    const [functionTemplates, setFunctionTemplates] = useState<FunctionTemplate[]>(initialData?.functionTemplates || []);\n\n    // Sync state with initialData updates (crucial for edit mode)\n    useEffect(() => {\n        if (initialData?.useFunctionTemplate !== undefined) {\n            setUseFunctionTemplate(initialData.useFunctionTemplate);\n        }\n        if (initialData?.functionTemplates) {\n            setFunctionTemplates(initialData.functionTemplates);\n        }\n    }, [initialData]);\n\n    const router = useRouter();\n\n    // NUMBER OF STEPS BASED ON DOMAIN\n    const isDSA = domain === \"DSA\";\n    const totalSteps = isDSA ? 5 : 4;\n\n    const { register, control, handleSubmit, watch, setValue, trigger, formState: { errors } } = useForm<FormValues>({\n        resolver: zodResolver(formSchema),\n        defaultValues: {\n            title: initialData?.title || \"\",\n            slug: initialData?.slug || \"\",\n            description: initialData?.description || \"\",\n            difficulty: initialData?.difficulty || \"EASY\",\n            hidden: initialData?.hidden || false,\n            hiddenQuery: initialData?.hiddenQuery || \"\",\n            testCases: initialData?.testCases?.length ? initialData.testCases : [{ input: \"\", output: \"\", hidden: false }],\n            tags: initialData?.tags?.map(t => t.slug) || [],\n            useFunctionTemplate: initialData?.useFunctionTemplate || false,\n            functionTemplates: initialData?.functionTemplates || [],\n            solution: initialData?.solution || \"\",\n        }\n    });\n\n    const { fields, append, remove } = useFieldArray({\n        control,\n        name: \"testCases\"\n    });\n\n    const hiddenValue = watch(\"hidden\");\n\n    // BUILD STEPS ARRAY BASED ON DOMAIN\n    const steps = isDSA\n        ? [\n            { id: 1, name: \"Basic Details\" },\n            { id: 2, name: \"Description\" },\n            { id: 3, name: \"Solution\" },\n            { id: 4, name: \"Test Cases\" },\n            { id: 5, name: \"Code Templates\" }\n        ]\n        : [\n            { id: 1, name: \"Basic Details\" },\n            { id: 2, name: \"Description\" },\n            { id: 3, name: \"Solution\" },\n            { id: 4, name: \"Test Cases\" }\n        ];\n\n    // NEXT STEP HANDLER\n    const handleNext = async (e?: React.MouseEvent<HTMLButtonElement>) => {\n        e?.preventDefault();\n        e?.stopPropagation();\n\n        let isValid = false;\n        if (currentStep === 1) {\n            isValid = await trigger([\"title\", \"slug\", \"difficulty\"]);\n        } else if (currentStep === 2) {\n            isValid = await trigger([\"description\"]);\n        } else if (currentStep === 3) {\n            isValid = await trigger([\"solution\"]);\n        } else if (currentStep === 4) {\n            isValid = await trigger([\"testCases\"]);\n        } else {\n            isValid = true; // Step 5 (templates) has no required validation\n        }\n\n        if (isValid && currentStep < totalSteps) {\n            setCurrentStep(prev => prev + 1);\n        }\n    };\n\n    const handleBack = () => {\n        setCurrentStep(prev => prev - 1);\n    };\n\n    // ON SUBMIT\n    async function onSubmitForm(data: FormValues) {\n\n        if (isLoading) return;\n        setIsLoading(true);\n\n        const submissionData = {\n            ...data,\n            hidden: data.hidden,\n            hiddenQuery: domain === \"SQL\" ? (data.hiddenQuery?.trim() || null) : null,\n            domain,\n            tags: selectedTags.map(t => t.slug),\n            useFunctionTemplate: isDSA ? useFunctionTemplate : false,\n            functionTemplates: isDSA && useFunctionTemplate ? functionTemplates : [],\n        };\n\n        const res = await onSubmit(submissionData);\n\n        if (res.success) {\n            toast.success(\"Saved successfully\");\n            if (redirectPath !== undefined) {\n                router.push(redirectPath || \"/admin/problems\");\n                router.refresh();\n            }\n        } else {\n            toast.error(res.error || \"Something went wrong\");\n        }\n        setIsLoading(false);\n    }\n\n    return (\n        <div className=\"bg-white dark:bg-[#141414] border border-gray-200 dark:border-[#262626] rounded-2xl shadow-sm overflow-hidden\">\n            {/* Steps Header */}\n            <div className=\"border-b border-gray-100 dark:border-[#262626] bg-gray-50/50 dark:bg-[#1a1a1a] p-6\">\n                <div className=\"flex items-center justify-between max-w-2xl mx-auto\">\n                    {steps.map((step) => (\n                        <div key={step.id} className=\"flex items-center gap-3\">\n                            <div className={`\n                                w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold transition-colors\n                                ${currentStep >= step.id ? \"bg-orange-600 text-white\" : \"bg-gray-200 dark:bg-[#333] text-gray-500 dark:text-gray-400\"}\n                            `}>\n                                {step.id}                            </div>\n                            <span className={`text-sm font-medium ${currentStep >= step.id ? \"text-gray-900 dark:text-white\" : \"text-gray-400 dark:text-gray-600\"}`}>\n                                {step.name}\n                            </span>\n                            {step.id < totalSteps && <div className=\"w-12 h-0.5 bg-gray-200 mx-2\" />}\n                        </div>\n                    ))}\n                </div>\n            </div>\n\n            <form onSubmit={handleSubmit(onSubmitForm)} className=\"p-8\">\n                {/* Step 1: Basics */}\n                {currentStep === 1 && (\n                    <div className=\"space-y-6 max-w-2xl mx-auto animation-fade-in\">\n                        <div className=\"space-y-2\">\n                            <label className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">Problem Title</label>\n                            <input\n                                {...register(\"title\")}\n                                placeholder=\"e.g. Two Sum\"\n                                className=\"w-full px-4 py-3 rounded-lg border border-gray-200 dark:border-[#333] focus:border-orange-500 dark:focus:border-orange-500 focus:ring-2 focus:ring-orange-100 dark:focus:ring-orange-500/10 outline-none transition-all placeholder:text-gray-400 dark:placeholder:text-gray-600 font-medium text-gray-900 dark:text-white bg-white dark:bg-[#0a0a0a]\"\n                            />\n                            {errors.title && <p className=\"text-xs text-red-500\">{errors.title.message}</p>}\n                        </div>\n\n                        <div className=\"space-y-2\">\n                            <label className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">Slug</label>\n                            <input\n                                {...register(\"slug\")}\n                                placeholder=\"e.g. two-sum\"\n                                className=\"w-full px-4 py-3 rounded-lg border border-gray-200 dark:border-[#333] focus:border-orange-500 dark:focus:border-orange-500 focus:ring-2 focus:ring-orange-100 dark:focus:ring-orange-500/10 outline-none transition-all placeholder:text-gray-400 dark:placeholder:text-gray-600 font-medium text-gray-900 dark:text-white bg-white dark:bg-[#0a0a0a]\"\n                            />\n                            {errors.slug && <p className=\"text-xs text-red-500\">{errors.slug.message}</p>}\n                        </div>\n\n                        <div className={`grid gap-6 ${domain === \"SQL\" ? \"grid-cols-2\" : \"grid-cols-1\"}`}>\n                            <div className=\"space-y-2\">\n                                <label className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">Difficulty</label>\n                                <select\n                                    {...register(\"difficulty\")}\n                                    className=\"w-full px-4 py-3 rounded-lg border border-gray-200 dark:border-[#333] focus:border-orange-500 dark:focus:border-orange-500 focus:ring-2 focus:ring-orange-100 dark:focus:ring-orange-500/10 outline-none transition-all bg-white dark:bg-[#0a0a0a] font-medium text-gray-700 dark:text-gray-300\"\n                                >\n                                    <option value=\"EASY\">Easy</option>\n                                    <option value=\"MEDIUM\">Medium</option>\n                                    <option value=\"HARD\">Hard</option>\n                                </select>\n                            </div>\n\n                            <div className=\"space-y-2\">\n                                <label className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">Tags</label>\n                                <TagInput\n                                    value={selectedTags}\n                                    onChange={(newTags) => {\n                                        setSelectedTags(newTags);\n                                        setValue(\"tags\", newTags.map(t => t.slug));\n                                    }}\n                                />\n                            </div>\n\n                            <div className=\"space-y-2\">\n                                <label className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">Hidden</label>\n                                <div className=\"space-y-2 flex flex-col justify-end\">\n                                    <button\n                                        type=\"button\"\n                                        onClick={() => setValue(\"hidden\", !hiddenValue)}\n                                        className={`w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg text-sm font-semibold transition-colors border ${hiddenValue\n                                            ? \"bg-gray-50 dark:bg-[#1a1a1a] text-gray-600 dark:text-gray-400 border-gray-200 dark:border-[#333]\"\n                                            : \"bg-green-50 dark:bg-green-500/10 text-green-700 dark:text-green-400 border-green-200 dark:border-green-500/20\"\n                                            }`}\n                                    >\n                                        {hiddenValue ? <EyeOff className=\"w-4 h-4\" /> : <Eye className=\"w-4 h-4\" />}\n                                        {hiddenValue ? \"Hidden Problem\" : \"Visible Problem\"}\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                )}\n\n                {/* Step 2: Description */}\n                {currentStep === 2 && (\n                    <div className=\"space-y-4 max-w-4xl mx-auto animation-fade-in\">\n                        <label className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">Description (Markdown)</label>\n                        <textarea\n                            {...register(\"description\")}\n                            rows={15}\n                            placeholder=\"# Problem Description...\"\n                            className=\"w-full px-4 py-3 rounded-lg border border-gray-200 dark:border-[#333] focus:border-orange-500 dark:focus:border-orange-500 focus:ring-2 focus:ring-orange-100 dark:focus:ring-orange-500/10 outline-none transition-all font-mono text-sm leading-relaxed text-gray-900 dark:text-gray-100 bg-white dark:bg-[#0a0a0a] placeholder:text-gray-400 dark:placeholder:text-gray-600\"\n                        />\n                        {errors.description && <p className=\"text-xs text-red-500\">{errors.description.message}</p>}\n\n                        {/* Hidden Query field - only for SQL domain */}\n                        {domain === \"SQL\" && (\n                            <div className=\"space-y-2 mt-6\">\n                                <label className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">\n                                    Hidden Query (Optional)\n                                    <span className=\"text-xs text-gray-500 dark:text-gray-400 font-normal ml-2\">\n                                        This SQL query will be prepended to the user's code before execution\n                                    </span>\n                                </label>\n                                <textarea\n                                    {...register(\"hiddenQuery\")}\n                                    rows={5}\n                                    placeholder=\"-- e.g. CREATE TABLE temp_table AS SELECT * FROM ...\"\n                                    className=\"w-full px-4 py-3 rounded-lg border border-gray-200 dark:border-[#333] focus:border-orange-500 dark:focus:border-orange-500 focus:ring-2 focus:ring-orange-100 dark:focus:ring-orange-500/10 outline-none transition-all font-mono text-sm leading-relaxed text-gray-900 dark:text-gray-100 bg-white dark:bg-[#0a0a0a]\"\n                                />\n                            </div>\n                        )}\n                    </div>\n                )}\n\n                {/* Step 3: Solution */}\n                {currentStep === 3 && (\n                    <div className=\"space-y-4 max-w-4xl mx-auto animation-fade-in\">\n                        <label className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">Solution (Markdown)</label>\n                        <p className=\"text-xs text-gray-500 dark:text-gray-400 mb-2\">This solution will be visible only to users who have successfully solved the problem.</p>\n                        <textarea\n                            {...register(\"solution\")}\n                            rows={15}\n                            placeholder=\"# Detailed Solution...\"\n                            className=\"w-full px-4 py-3 rounded-lg border border-gray-200 dark:border-[#333] focus:border-orange-500 dark:focus:border-orange-500 focus:ring-2 focus:ring-orange-100 dark:focus:ring-orange-500/10 outline-none transition-all font-mono text-sm leading-relaxed text-gray-900 dark:text-gray-100 bg-white dark:bg-[#0a0a0a]\"\n                        />\n                        {errors.solution && <p className=\"text-xs text-red-500\">{errors.solution.message}</p>}\n                    </div>\n                )}\n\n                {/* Step 4: Test Cases */}\n                {currentStep === 4 && (\n                    <div className=\"space-y-6 max-w-3xl mx-auto animation-fade-in\">\n                        <div className=\"flex items-center justify-between\">\n                            <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">Test Cases</h3>\n                            <button\n                                type=\"button\"\n                                onClick={() => append({ input: \"\", output: \"\", hidden: false })}\n                                className=\"flex items-center gap-2 px-3 py-1.5 text-orange-600 hover:bg-orange-50 rounded-lg text-sm font-medium transition-colors\"\n                            >\n                                <Plus className=\"w-4 h-4\" />\n                                Add Case\n                            </button>\n                        </div>\n\n                        <div className=\"space-y-4\">\n                            {fields.map((field, index) => (\n                                <div key={field.id} className=\"flex gap-4 p-4 border border-gray-100 dark:border-[#262626] rounded-xl bg-gray-50/50 dark:bg-[#1a1a1a] hover:border-orange-200 dark:hover:border-orange-500/30 transition-colors\">\n                                    <div className=\"flex-1 space-y-2\">\n                                        <label className=\"text-xs font-medium text-gray-500 dark:text-gray-400\">\n                                            INPUT {domain === \"SQL\" && <span className=\"text-[10px] font-normal opacity-70 ml-1\">(OPTIONAL)</span>}\n                                        </label>\n                                        <textarea\n                                            {...register(`testCases.${index}.input` as const)}\n                                            className=\"w-full px-3 py-2 rounded-md border border-gray-200 dark:border-[#333] focus:border-orange-500 dark:focus:border-orange-500 outline-none text-sm font-mono bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-gray-100\"\n                                            rows={2}\n                                        />\n                                    </div>\n                                    <div className=\"flex-1 space-y-2\">\n                                        <label className=\"text-xs font-medium text-gray-500\">OUTPUT</label>\n                                        <textarea\n                                            {...register(`testCases.${index}.output` as const)}\n                                            className=\"w-full px-3 py-2 rounded-md border border-gray-200 dark:border-[#333] focus:border-orange-500 dark:focus:border-orange-500 outline-none text-sm font-mono bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-gray-100\"\n                                            rows={2}\n                                        />\n                                    </div>\n                                    <div className=\"flex flex-col gap-2 pt-6 items-center\">\n                                        <label className=\"flex items-center gap-2 cursor-pointer group\" title=\"Hidden Test Case\">\n                                            <input\n                                                type=\"checkbox\"\n                                                {...register(`testCases.${index}.hidden` as const)}\n                                                className=\"w-4 h-4 rounded border-gray-300 dark:border-[#444] text-orange-600 focus:ring-orange-500 dark:bg-[#0a0a0a] cursor-pointer\"\n                                            />\n                                            <span className=\"text-xs text-gray-500 dark:text-gray-400 font-medium group-hover:text-gray-700 dark:group-hover:text-gray-200 transition-colors\">Hidden</span>\n                                        </label>\n                                        <button type=\"button\" onClick={() => remove(index)} className=\"p-2 text-gray-400 hover:text-red-500 transition-colors\">\n                                            <Trash2 className=\"w-4 h-4\" />\n                                        </button>\n                                    </div>\n                                </div>\n                            ))}\n                            {errors.testCases && <p className=\"text-xs text-red-500\">{errors.testCases.root?.message || \"Invalid test cases\"}</p>}\n                        </div>\n                    </div>\n                )}\n\n                {/* Step 5: Code Templates (DSA only) */}\n                {isDSA && currentStep === 5 && (\n                    <div className=\"space-y-6 max-w-4xl mx-auto animation-fade-in\">\n                        <div className=\"mb-4\">\n                            <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">Code Templates</h3>\n                            <p className=\"text-sm text-gray-500 dark:text-gray-400\">Choose how users will start solving this problem.</p>\n                        </div>\n                        <FunctionTemplateEditor\n                            value={functionTemplates}\n                            onChange={setFunctionTemplates}\n                            useFunctionTemplate={useFunctionTemplate}\n                            onUseFunctionTemplateChange={setUseFunctionTemplate}\n                        />\n                    </div>\n                )}\n\n                {/* Footer Actions */}\n                <div className=\"mt-8 pt-6 border-t border-gray-100 dark:border-[#262626] flex justify-between\">\n                    <button\n                        type=\"button\"\n                        onClick={handleBack}\n                        disabled={currentStep === 1}\n                        className=\"px-6 py-2.5 rounded-lg text-sm font-medium text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-[#1a1a1a] hover:text-gray-900 dark:hover:text-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n                    >\n                        Back\n                    </button>\n\n                    {currentStep < totalSteps ? (\n                        <button\n                            type=\"button\"\n                            onClick={handleNext}\n                            className=\"px-6 py-2.5 rounded-lg bg-gray-900 dark:bg-white text-white dark:text-gray-900 text-sm font-medium hover:bg-gray-800 dark:hover:bg-gray-200 transition-colors\"\n                        >\n                            Next Step\n                        </button>\n                    ) : (\n                        <button\n                            type=\"submit\"\n                            disabled={isLoading}\n                            className=\"px-8 py-2.5 rounded-lg bg-orange-600 text-white text-sm font-bold hover:bg-orange-700 transition-colors disabled:opacity-70 flex items-center gap-2\"\n                        >\n                            {isLoading ? \"Saving...\" : submitLabel}\n                        </button>\n                    )}\n                </div>\n            </form>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;;;AAXA;;;;;;;;;;;AAcA,2BAA2B;AAC3B,MAAM,yBAAyB,4JAAQ,CAAC;IACpC,YAAY,4JAAQ;IACpB,kBAAkB,4JAAQ;IAC1B,YAAY,4JAAQ;AACxB;AAGA,cAAc;AACd,MAAM,aAAa,4JAAQ,CAAC;IACxB,OAAO,4JAAQ,GAAG,GAAG,CAAC,GAAG;IACzB,MAAM,4JAAQ,GAAG,GAAG,CAAC,GAAG;IACxB,aAAa,4JAAQ,GAAG,GAAG,CAAC,GAAG;IAC/B,YAAY,gKAAY,CAAC,uKAAU;IACnC,QAAQ,6JAAS;IACjB,aAAa,4JAAQ,GAAG,QAAQ,GAAG,QAAQ;IAC3C,MAAM,2JAAO,CAAC,4JAAQ,IAAI,QAAQ;IAClC,WAAW,2JAAO,CAAC,4JAAQ,CAAC;QACxB,OAAO,4JAAQ;QACf,QAAQ,4JAAQ,GAAG,GAAG,CAAC,GAAG;QAC1B,QAAQ,6JAAS,GAAG,QAAQ;IAChC,IAAI,GAAG,CAAC,GAAG;IACX,qBAAqB,6JAAS,GAAG,QAAQ;IACzC,mBAAmB,2JAAO,CAAC,wBAAwB,QAAQ;IAC3D,UAAU,4JAAQ,GAAG,QAAQ,GAAG,QAAQ;AAC5C;AAiBe,SAAS,YAAY,EAAE,WAAW,EAAE,QAAQ,EAAE,WAAW,EAAE,SAAS,KAAK,EAAE,YAAY,EAAoB;;IACtH,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAmC,aAAa,QAAQ,EAAE;IAE1G,8BAA8B;IAC9B,MAAM,CAAC,qBAAqB,uBAAuB,GAAG,IAAA,yKAAQ,EAAC,aAAa,uBAAuB;IACnG,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,yKAAQ,EAAqB,aAAa,qBAAqB,EAAE;IAEnH,8DAA8D;IAC9D,IAAA,0KAAS;iCAAC;YACN,IAAI,aAAa,wBAAwB,WAAW;gBAChD,uBAAuB,YAAY,mBAAmB;YAC1D;YACA,IAAI,aAAa,mBAAmB;gBAChC,qBAAqB,YAAY,iBAAiB;YACtD;QACJ;gCAAG;QAAC;KAAY;IAEhB,MAAM,SAAS,IAAA,kJAAS;IAExB,kCAAkC;IAClC,MAAM,QAAQ,WAAW;IACzB,MAAM,aAAa,QAAQ,IAAI;IAE/B,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAE,YAAY,EAAE,KAAK,EAAE,QAAQ,EAAE,OAAO,EAAE,WAAW,EAAE,MAAM,EAAE,EAAE,GAAG,IAAA,4KAAO,EAAa;QAC7G,UAAU,IAAA,gLAAW,EAAC;QACtB,eAAe;YACX,OAAO,aAAa,SAAS;YAC7B,MAAM,aAAa,QAAQ;YAC3B,aAAa,aAAa,eAAe;YACzC,YAAY,aAAa,cAAc;YACvC,QAAQ,aAAa,UAAU;YAC/B,aAAa,aAAa,eAAe;YACzC,WAAW,aAAa,WAAW,SAAS,YAAY,SAAS,GAAG;gBAAC;oBAAE,OAAO;oBAAI,QAAQ;oBAAI,QAAQ;gBAAM;aAAE;YAC9G,MAAM,aAAa,MAAM;uCAAI,CAAA,IAAK,EAAE,IAAI;yCAAK,EAAE;YAC/C,qBAAqB,aAAa,uBAAuB;YACzD,mBAAmB,aAAa,qBAAqB,EAAE;YACvD,UAAU,aAAa,YAAY;QACvC;IACJ;IAEA,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,GAAG,IAAA,kLAAa,EAAC;QAC7C;QACA,MAAM;IACV;IAEA,MAAM,cAAc,MAAM;IAE1B,oCAAoC;IACpC,MAAM,QAAQ,QACR;QACE;YAAE,IAAI;YAAG,MAAM;QAAgB;QAC/B;YAAE,IAAI;YAAG,MAAM;QAAc;QAC7B;YAAE,IAAI;YAAG,MAAM;QAAW;QAC1B;YAAE,IAAI;YAAG,MAAM;QAAa;QAC5B;YAAE,IAAI;YAAG,MAAM;QAAiB;KACnC,GACC;QACE;YAAE,IAAI;YAAG,MAAM;QAAgB;QAC/B;YAAE,IAAI;YAAG,MAAM;QAAc;QAC7B;YAAE,IAAI;YAAG,MAAM;QAAW;QAC1B;YAAE,IAAI;YAAG,MAAM;QAAa;KAC/B;IAEL,oBAAoB;IACpB,MAAM,aAAa,OAAO;QACtB,GAAG;QACH,GAAG;QAEH,IAAI,UAAU;QACd,IAAI,gBAAgB,GAAG;YACnB,UAAU,MAAM,QAAQ;gBAAC;gBAAS;gBAAQ;aAAa;QAC3D,OAAO,IAAI,gBAAgB,GAAG;YAC1B,UAAU,MAAM,QAAQ;gBAAC;aAAc;QAC3C,OAAO,IAAI,gBAAgB,GAAG;YAC1B,UAAU,MAAM,QAAQ;gBAAC;aAAW;QACxC,OAAO,IAAI,gBAAgB,GAAG;YAC1B,UAAU,MAAM,QAAQ;gBAAC;aAAY;QACzC,OAAO;YACH,UAAU,MAAM,gDAAgD;QACpE;QAEA,IAAI,WAAW,cAAc,YAAY;YACrC,eAAe,CAAA,OAAQ,OAAO;QAClC;IACJ;IAEA,MAAM,aAAa;QACf,eAAe,CAAA,OAAQ,OAAO;IAClC;IAEA,YAAY;IACZ,eAAe,aAAa,IAAgB;QAExC,IAAI,WAAW;QACf,aAAa;QAEb,MAAM,iBAAiB;YACnB,GAAG,IAAI;YACP,QAAQ,KAAK,MAAM;YACnB,aAAa,WAAW,QAAS,KAAK,WAAW,EAAE,UAAU,OAAQ;YACrE;YACA,MAAM,aAAa,GAAG,CAAC,CAAA,IAAK,EAAE,IAAI;YAClC,qBAAqB,QAAQ,sBAAsB;YACnD,mBAAmB,SAAS,sBAAsB,oBAAoB,EAAE;QAC5E;QAEA,MAAM,MAAM,MAAM,SAAS;QAE3B,IAAI,IAAI,OAAO,EAAE;YACb,oJAAK,CAAC,OAAO,CAAC;YACd,IAAI,iBAAiB,WAAW;gBAC5B,OAAO,IAAI,CAAC,gBAAgB;gBAC5B,OAAO,OAAO;YAClB;QACJ,OAAO;YACH,oJAAK,CAAC,KAAK,CAAC,IAAI,KAAK,IAAI;QAC7B;QACA,aAAa;IACjB;IAEA,qBACI,6LAAC;QAAI,WAAU;;0BAEX,6LAAC;gBAAI,WAAU;0BACX,cAAA,6LAAC;oBAAI,WAAU;8BACV,MAAM,GAAG,CAAC,CAAC,qBACR,6LAAC;4BAAkB,WAAU;;8CACzB,6LAAC;oCAAI,WAAW,CAAC;;gCAEb,EAAE,eAAe,KAAK,EAAE,GAAG,6BAA6B,8DAA8D;4BAC1H,CAAC;;wCACI,KAAK,EAAE;wCAAC;;;;;;;8CACb,6LAAC;oCAAK,WAAW,CAAC,oBAAoB,EAAE,eAAe,KAAK,EAAE,GAAG,kCAAkC,oCAAoC;8CAClI,KAAK,IAAI;;;;;;gCAEb,KAAK,EAAE,GAAG,4BAAc,6LAAC;oCAAI,WAAU;;;;;;;2BATlC,KAAK,EAAE;;;;;;;;;;;;;;;0BAe7B,6LAAC;gBAAK,UAAU,aAAa;gBAAe,WAAU;;oBAEjD,gBAAgB,mBACb,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAM,WAAU;kDAAyD;;;;;;kDAC1E,6LAAC;wCACI,GAAG,SAAS,QAAQ;wCACrB,aAAY;wCACZ,WAAU;;;;;;oCAEb,OAAO,KAAK,kBAAI,6LAAC;wCAAE,WAAU;kDAAwB,OAAO,KAAK,CAAC,OAAO;;;;;;;;;;;;0CAG9E,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAM,WAAU;kDAAyD;;;;;;kDAC1E,6LAAC;wCACI,GAAG,SAAS,OAAO;wCACpB,aAAY;wCACZ,WAAU;;;;;;oCAEb,OAAO,IAAI,kBAAI,6LAAC;wCAAE,WAAU;kDAAwB,OAAO,IAAI,CAAC,OAAO;;;;;;;;;;;;0CAG5E,6LAAC;gCAAI,WAAW,CAAC,WAAW,EAAE,WAAW,QAAQ,gBAAgB,eAAe;;kDAC5E,6LAAC;wCAAI,WAAU;;0DACX,6LAAC;gDAAM,WAAU;0DAAyD;;;;;;0DAC1E,6LAAC;gDACI,GAAG,SAAS,aAAa;gDAC1B,WAAU;;kEAEV,6LAAC;wDAAO,OAAM;kEAAO;;;;;;kEACrB,6LAAC;wDAAO,OAAM;kEAAS;;;;;;kEACvB,6LAAC;wDAAO,OAAM;kEAAO;;;;;;;;;;;;;;;;;;kDAI7B,6LAAC;wCAAI,WAAU;;0DACX,6LAAC;gDAAM,WAAU;0DAAyD;;;;;;0DAC1E,6LAAC,+IAAQ;gDACL,OAAO;gDACP,UAAU,CAAC;oDACP,gBAAgB;oDAChB,SAAS,QAAQ,QAAQ,GAAG,CAAC,CAAA,IAAK,EAAE,IAAI;gDAC5C;;;;;;;;;;;;kDAIR,6LAAC;wCAAI,WAAU;;0DACX,6LAAC;gDAAM,WAAU;0DAAyD;;;;;;0DAC1E,6LAAC;gDAAI,WAAU;0DACX,cAAA,6LAAC;oDACG,MAAK;oDACL,SAAS,IAAM,SAAS,UAAU,CAAC;oDACnC,WAAW,CAAC,kHAAkH,EAAE,cAC1H,qGACA,iHACA;;wDAEL,4BAAc,6LAAC,uNAAM;4DAAC,WAAU;;;;;iFAAe,6LAAC,0MAAG;4DAAC,WAAU;;;;;;wDAC9D,cAAc,mBAAmB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;oBASzD,gBAAgB,mBACb,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAM,WAAU;0CAAyD;;;;;;0CAC1E,6LAAC;gCACI,GAAG,SAAS,cAAc;gCAC3B,MAAM;gCACN,aAAY;gCACZ,WAAU;;;;;;4BAEb,OAAO,WAAW,kBAAI,6LAAC;gCAAE,WAAU;0CAAwB,OAAO,WAAW,CAAC,OAAO;;;;;;4BAGrF,WAAW,uBACR,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAM,WAAU;;4CAAyD;0DAEtE,6LAAC;gDAAK,WAAU;0DAA4D;;;;;;;;;;;;kDAIhF,6LAAC;wCACI,GAAG,SAAS,cAAc;wCAC3B,MAAM;wCACN,aAAY;wCACZ,WAAU;;;;;;;;;;;;;;;;;;oBAQ7B,gBAAgB,mBACb,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAM,WAAU;0CAAyD;;;;;;0CAC1E,6LAAC;gCAAE,WAAU;0CAAgD;;;;;;0CAC7D,6LAAC;gCACI,GAAG,SAAS,WAAW;gCACxB,MAAM;gCACN,aAAY;gCACZ,WAAU;;;;;;4BAEb,OAAO,QAAQ,kBAAI,6LAAC;gCAAE,WAAU;0CAAwB,OAAO,QAAQ,CAAC,OAAO;;;;;;;;;;;;oBAKvF,gBAAgB,mBACb,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAG,WAAU;kDAAsD;;;;;;kDACpE,6LAAC;wCACG,MAAK;wCACL,SAAS,IAAM,OAAO;gDAAE,OAAO;gDAAI,QAAQ;gDAAI,QAAQ;4CAAM;wCAC7D,WAAU;;0DAEV,6LAAC,6MAAI;gDAAC,WAAU;;;;;;4CAAY;;;;;;;;;;;;;0CAKpC,6LAAC;gCAAI,WAAU;;oCACV,OAAO,GAAG,CAAC,CAAC,OAAO,sBAChB,6LAAC;4CAAmB,WAAU;;8DAC1B,6LAAC;oDAAI,WAAU;;sEACX,6LAAC;4DAAM,WAAU;;gEAAuD;gEAC7D,WAAW,uBAAS,6LAAC;oEAAK,WAAU;8EAA0C;;;;;;;;;;;;sEAEzF,6LAAC;4DACI,GAAG,SAAS,CAAC,UAAU,EAAE,MAAM,MAAM,CAAC,CAAU;4DACjD,WAAU;4DACV,MAAM;;;;;;;;;;;;8DAGd,6LAAC;oDAAI,WAAU;;sEACX,6LAAC;4DAAM,WAAU;sEAAoC;;;;;;sEACrD,6LAAC;4DACI,GAAG,SAAS,CAAC,UAAU,EAAE,MAAM,OAAO,CAAC,CAAU;4DAClD,WAAU;4DACV,MAAM;;;;;;;;;;;;8DAGd,6LAAC;oDAAI,WAAU;;sEACX,6LAAC;4DAAM,WAAU;4DAA+C,OAAM;;8EAClE,6LAAC;oEACG,MAAK;oEACJ,GAAG,SAAS,CAAC,UAAU,EAAE,MAAM,OAAO,CAAC,CAAU;oEAClD,WAAU;;;;;;8EAEd,6LAAC;oEAAK,WAAU;8EAAkI;;;;;;;;;;;;sEAEtJ,6LAAC;4DAAO,MAAK;4DAAS,SAAS,IAAM,OAAO;4DAAQ,WAAU;sEAC1D,cAAA,6LAAC,uNAAM;gEAAC,WAAU;;;;;;;;;;;;;;;;;;2CA7BpB,MAAM,EAAE;;;;;oCAkCrB,OAAO,SAAS,kBAAI,6LAAC;wCAAE,WAAU;kDAAwB,OAAO,SAAS,CAAC,IAAI,EAAE,WAAW;;;;;;;;;;;;;;;;;;oBAMvG,SAAS,gBAAgB,mBACtB,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAG,WAAU;kDAAsD;;;;;;kDACpE,6LAAC;wCAAE,WAAU;kDAA2C;;;;;;;;;;;;0CAE5D,6LAAC,4JAAsB;gCACnB,OAAO;gCACP,UAAU;gCACV,qBAAqB;gCACrB,6BAA6B;;;;;;;;;;;;kCAMzC,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCACG,MAAK;gCACL,SAAS;gCACT,UAAU,gBAAgB;gCAC1B,WAAU;0CACb;;;;;;4BAIA,cAAc,2BACX,6LAAC;gCACG,MAAK;gCACL,SAAS;gCACT,WAAU;0CACb;;;;;qDAID,6LAAC;gCACG,MAAK;gCACL,UAAU;gCACV,WAAU;0CAET,YAAY,cAAc;;;;;;;;;;;;;;;;;;;;;;;;AAOvD;GA1WwB;;QAmBL,kJAAS;QAMqE,4KAAO;QAiBjE,kLAAa;;;KA1C5B"}},
    {"offset": {"line": 1938, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/Algo-fox/components/admin/ConceptForm.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { toast } from \"sonner\";\nimport { useRouter } from \"next/navigation\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport * as z from \"zod\";\n\nconst formSchema = z.object({\n    title: z.string().min(1, \"Title is required\"),\n    slug: z.string().min(1, \"Slug is required\"),\n    description: z.string().min(1, \"Content (Markdown) is required\"),\n    hidden: z.boolean(),\n});\n\ntype FormValues = z.infer<typeof formSchema>;\n\ninterface ConceptFormProps {\n    onSubmit: (data: any) => Promise<{ success: boolean; error?: string }>;\n    submitLabel?: string;\n    initialData?: Partial<FormValues>;\n}\n\nexport default function ConceptForm({ onSubmit, submitLabel = \"Create Concept\", initialData }: ConceptFormProps) {\n    const [isLoading, setIsLoading] = useState(false);\n    const router = useRouter();\n\n    const { register, handleSubmit, formState: { errors } } = useForm<FormValues>({\n        resolver: zodResolver(formSchema),\n        defaultValues: {\n            title: initialData?.title || \"\",\n            slug: initialData?.slug || \"\",\n            description: initialData?.description || \"\",\n            hidden: initialData?.hidden || false,\n        }\n    });\n\n    async function onSubmitForm(data: FormValues) {\n        setIsLoading(true);\n\n        const submissionData = {\n            ...data,\n            difficulty: \"CONCEPT\",\n            testCases: [], // No test cases for concepts\n            tags: [],\n        };\n\n        const res = await onSubmit(submissionData);\n\n        if (res.success) {\n            toast.success(\"Concept created successfully\");\n        } else {\n            toast.error(res.error || \"Something went wrong\");\n        }\n        setIsLoading(false);\n    }\n\n    return (\n        <div className=\"bg-white dark:bg-[#141414] border border-gray-200 dark:border-[#262626] rounded-2xl shadow-sm overflow-hidden p-8\">\n            <form onSubmit={handleSubmit(onSubmitForm)} className=\"space-y-6\">\n                <div className=\"space-y-2\">\n                    <label className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">Concept Title</label>\n                    <input\n                        {...register(\"title\")}\n                        placeholder=\"e.g. Introduction to Arrays\"\n                        className=\"w-full px-4 py-3 rounded-lg border border-gray-200 dark:border-[#333] focus:border-orange-500 dark:focus:border-orange-500 focus:ring-2 focus:ring-orange-100 dark:focus:ring-orange-500/10 outline-none transition-all placeholder:text-gray-400 dark:placeholder:text-gray-600 font-medium text-gray-900 dark:text-white bg-white dark:bg-[#0a0a0a]\"\n                    />\n                    {errors.title && <p className=\"text-xs text-red-500\">{errors.title.message}</p>}\n                </div>\n\n                <div className=\"space-y-2\">\n                    <label className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">Slug</label>\n                    <input\n                        {...register(\"slug\")}\n                        placeholder=\"e.g. intro-arrays\"\n                        className=\"w-full px-4 py-3 rounded-lg border border-gray-200 dark:border-[#333] focus:border-orange-500 dark:focus:border-orange-500 focus:ring-2 focus:ring-orange-100 dark:focus:ring-orange-500/10 outline-none transition-all placeholder:text-gray-400 dark:placeholder:text-gray-600 font-medium text-gray-900 dark:text-white bg-white dark:bg-[#0a0a0a]\"\n                    />\n                    {errors.slug && <p className=\"text-xs text-red-500\">{errors.slug.message}</p>}\n                </div>\n\n                <div className=\"space-y-2\">\n                    <label className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">Content (Markdown)</label>\n                    <textarea\n                        {...register(\"description\")}\n                        rows={12}\n                        placeholder=\"# Introduction...\"\n                        className=\"w-full px-4 py-3 rounded-lg border border-gray-200 dark:border-[#333] focus:border-orange-500 dark:focus:border-orange-500 focus:ring-2 focus:ring-orange-100 dark:focus:ring-orange-500/10 outline-none transition-all font-mono text-sm leading-relaxed text-gray-900 dark:text-gray-100 bg-white dark:bg-[#0a0a0a] placeholder:text-gray-400 dark:placeholder:text-gray-600\"\n                    />\n                    {errors.description && <p className=\"text-xs text-red-500\">{errors.description.message}</p>}\n                </div>\n\n                <div className=\"pt-4 flex justify-end\">\n                    <button\n                        type=\"submit\"\n                        disabled={isLoading}\n                        className=\"px-8 py-2.5 rounded-lg bg-orange-600 text-white text-sm font-bold hover:bg-orange-700 transition-colors disabled:opacity-70\"\n                    >\n                        {isLoading ? \"Saving...\" : submitLabel}\n                    </button>\n                </div>\n            </form>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAPA;;;;;;;AASA,MAAM,aAAa,4JAAQ,CAAC;IACxB,OAAO,4JAAQ,GAAG,GAAG,CAAC,GAAG;IACzB,MAAM,4JAAQ,GAAG,GAAG,CAAC,GAAG;IACxB,aAAa,4JAAQ,GAAG,GAAG,CAAC,GAAG;IAC/B,QAAQ,6JAAS;AACrB;AAUe,SAAS,YAAY,EAAE,QAAQ,EAAE,cAAc,gBAAgB,EAAE,WAAW,EAAoB;;IAC3G,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,SAAS,IAAA,kJAAS;IAExB,MAAM,EAAE,QAAQ,EAAE,YAAY,EAAE,WAAW,EAAE,MAAM,EAAE,EAAE,GAAG,IAAA,4KAAO,EAAa;QAC1E,UAAU,IAAA,gLAAW,EAAC;QACtB,eAAe;YACX,OAAO,aAAa,SAAS;YAC7B,MAAM,aAAa,QAAQ;YAC3B,aAAa,aAAa,eAAe;YACzC,QAAQ,aAAa,UAAU;QACnC;IACJ;IAEA,eAAe,aAAa,IAAgB;QACxC,aAAa;QAEb,MAAM,iBAAiB;YACnB,GAAG,IAAI;YACP,YAAY;YACZ,WAAW,EAAE;YACb,MAAM,EAAE;QACZ;QAEA,MAAM,MAAM,MAAM,SAAS;QAE3B,IAAI,IAAI,OAAO,EAAE;YACb,oJAAK,CAAC,OAAO,CAAC;QAClB,OAAO;YACH,oJAAK,CAAC,KAAK,CAAC,IAAI,KAAK,IAAI;QAC7B;QACA,aAAa;IACjB;IAEA,qBACI,6LAAC;QAAI,WAAU;kBACX,cAAA,6LAAC;YAAK,UAAU,aAAa;YAAe,WAAU;;8BAClD,6LAAC;oBAAI,WAAU;;sCACX,6LAAC;4BAAM,WAAU;sCAAyD;;;;;;sCAC1E,6LAAC;4BACI,GAAG,SAAS,QAAQ;4BACrB,aAAY;4BACZ,WAAU;;;;;;wBAEb,OAAO,KAAK,kBAAI,6LAAC;4BAAE,WAAU;sCAAwB,OAAO,KAAK,CAAC,OAAO;;;;;;;;;;;;8BAG9E,6LAAC;oBAAI,WAAU;;sCACX,6LAAC;4BAAM,WAAU;sCAAyD;;;;;;sCAC1E,6LAAC;4BACI,GAAG,SAAS,OAAO;4BACpB,aAAY;4BACZ,WAAU;;;;;;wBAEb,OAAO,IAAI,kBAAI,6LAAC;4BAAE,WAAU;sCAAwB,OAAO,IAAI,CAAC,OAAO;;;;;;;;;;;;8BAG5E,6LAAC;oBAAI,WAAU;;sCACX,6LAAC;4BAAM,WAAU;sCAAyD;;;;;;sCAC1E,6LAAC;4BACI,GAAG,SAAS,cAAc;4BAC3B,MAAM;4BACN,aAAY;4BACZ,WAAU;;;;;;wBAEb,OAAO,WAAW,kBAAI,6LAAC;4BAAE,WAAU;sCAAwB,OAAO,WAAW,CAAC,OAAO;;;;;;;;;;;;8BAG1F,6LAAC;oBAAI,WAAU;8BACX,cAAA,6LAAC;wBACG,MAAK;wBACL,UAAU;wBACV,WAAU;kCAET,YAAY,cAAc;;;;;;;;;;;;;;;;;;;;;;AAMnD;GAhFwB;;QAEL,kJAAS;QAEkC,4KAAO;;;KAJ7C"}},
    {"offset": {"line": 2147, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/Algo-fox/app/%28main%29/admin/dsa/categories/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { useParams, useRouter } from \"next/navigation\";\nimport {\n  getCategoryById,\n  getCategoryProblems,\n  removeProblemFromCategory,\n  createProblemAndAddToCategory,\n} from \"@/actions/category.action\";\nimport { Plus, Trash2, ArrowLeft, X, BookText } from \"lucide-react\";\nimport Link from \"next/link\";\nimport { toast } from \"sonner\";\nimport { Difficulty, ProblemDomain } from \"@prisma/client\";\nimport ProblemForm from \"@/components/admin/ProblemForm\";\nimport ConceptForm from \"@/components/admin/ConceptForm\";\n\ntype ProblemWithStats = {\n  id: string;\n  title: string;\n  slug: string;\n  difficulty: Difficulty;\n  type: any;\n  acceptance: number;\n  solved?: number | null;\n  isSolved?: boolean;\n};\n\nimport { Suspense } from \"react\";\n\nfunction DsaCategoryProblemsContent() {\n  const params = useParams();\n  const router = useRouter();\n  const categoryId = params?.id as string;\n\n  const [category, setCategory] = useState<any>(null);\n  const [problems, setProblems] = useState<ProblemWithStats[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [showConceptModal, setShowConceptModal] = useState(false);\n\n  useEffect(() => {\n    if (categoryId) {\n      fetchCategory();\n      fetchProblems();\n    }\n  }, [categoryId]);\n\n  const fetchCategory = async () => {\n    try {\n      const res = await getCategoryById(categoryId);\n      if (res.success) {\n        setCategory(res.category);\n      } else {\n        toast.error(res.error || \"Failed to load category\");\n      }\n    } catch (error) {\n      console.error(\"Failed to fetch category:\", error);\n      toast.error(\"Failed to load category\");\n    }\n  };\n\n  const fetchProblems = async () => {\n    setIsLoading(true);\n    try {\n      const res = await getCategoryProblems(categoryId, 1, 100);\n      setProblems(res.problems);\n    } catch (error) {\n      console.error(\"Failed to fetch problems:\", error);\n      toast.error(\"Failed to load problems\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleAddClick = () => {\n    setShowAddModal(true);\n  };\n\n  const handleCreateProblem = async (data: any) => {\n    const res = await createProblemAndAddToCategory(categoryId, data);\n    if (res.success) {\n      toast.success(\"Problem created and added to category\");\n      setShowAddModal(false);\n      fetchProblems();\n    } else {\n      toast.error(res.error || \"Failed to create problem\");\n      throw new Error(res.error || \"Failed to create problem\");\n    }\n    return res;\n  };\n\n  const handleCreateConcept = async (data: any) => {\n    const res = await createProblemAndAddToCategory(categoryId, data);\n    if (res.success) {\n      toast.success(\"Concept created and added to category\");\n      setShowConceptModal(false);\n      fetchProblems();\n    } else {\n      toast.error(res.error || \"Failed to create concept\");\n      throw new Error(res.error || \"Failed to create concept\");\n    }\n    return res;\n  };\n\n  const handleRemove = async (problemId: string) => {\n    if (!confirm(\"Are you sure you want to remove this problem from the category?\")) {\n      return;\n    }\n\n    const res = await removeProblemFromCategory(categoryId, problemId);\n    if (res.success) {\n      toast.success(\"Problem removed from category\");\n      fetchProblems();\n    } else {\n      toast.error(res.error || \"Failed to remove problem\");\n    }\n  };\n\n  const getDifficultyColor = (difficulty: Difficulty) => {\n    switch (difficulty) {\n      case \"EASY\":\n        return \"text-emerald-700 dark:text-emerald-400 bg-emerald-50 dark:bg-emerald-500/10 border-emerald-200 dark:border-emerald-500/20\";\n      case \"MEDIUM\":\n        return \"text-amber-700 dark:text-amber-400 bg-amber-50 dark:bg-amber-500/10 border-amber-200 dark:border-amber-500/20\";\n      case \"HARD\":\n        return \"text-rose-700 dark:text-rose-400 bg-rose-50 dark:bg-rose-500/10 border-rose-200 dark:border-rose-500/20\";\n      case \"CONCEPT\":\n        return \"text-indigo-700 dark:text-indigo-400 bg-indigo-50 dark:bg-indigo-500/10 border-indigo-200 dark:border-indigo-500/20\";\n      default:\n        return \"text-gray-700 dark:text-gray-300 bg-gray-50 dark:bg-gray-500/10 border-gray-200 dark:border-gray-500/20\";\n    }\n  };\n\n\n  if (isLoading && !category) {\n    return (\n      <div className=\"min-h-screen pt-24 pb-12 px-6 flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-4 border-orange-500 border-t-transparent\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen pt-24 pb-12 px-6\">\n      <div className=\"max-w-6xl mx-auto ml-0\">\n        <Link\n          href=\"/admin/dsa/categories\"\n          className=\"inline-flex items-center gap-2 text-sm font-medium text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-6 transition-colors\"\n        >\n          <ArrowLeft className=\"w-4 h-4\" />\n          Back to DSA Categories\n        </Link>\n\n        <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8\">\n          <div>\n            <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white tracking-tight mb-2\">\n              {category?.name || \"Category Problems\"}\n            </h1>\n            <p className=\"text-gray-500 dark:text-gray-400\">\n              {category?.description || \"Manage problems in this category\"}\n            </p>\n          </div>\n          <div className=\"flex gap-3\">\n             <button\n              onClick={() => setShowConceptModal(true)}\n              className=\"flex items-center gap-2 px-5 py-2.5 bg-gray-100 dark:bg-[#1a1a1a] hover:bg-gray-200 dark:hover:bg-[#262626] text-gray-900 dark:text-white font-semibold rounded-xl transition-all\"\n            >\n              <BookText className=\"w-4 h-4\" />\n              Add Concept\n            </button>\n            <button\n              onClick={handleAddClick}\n              className=\"flex items-center gap-2 px-5 py-2.5 bg-gray-900 dark:bg-white text-white dark:text-black font-semibold rounded-xl transition-all hover:opacity-90 active:scale-95 shadow-lg shadow-gray-200 dark:shadow-none\"\n            >\n              <Plus className=\"w-4 h-4\" />\n              Add Problem\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"bg-white dark:bg-[#141414] border border-gray-200 dark:border-[#262626] rounded-2xl shadow-sm overflow-hidden min-h-[400px]\">\n        {isLoading ? (\n          <div className=\"p-20 flex flex-col items-center justify-center gap-4\">\n            <div className=\"p-3 bg-orange-50 dark:bg-orange-500/10 rounded-full\">\n               <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-orange-600 dark:border-orange-500\"></div>\n            </div>\n            <p className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Loading problems...</p>\n          </div>\n        ) : problems.length === 0 ? (\n          <div className=\"p-20 text-center\">\n            <div className=\"w-16 h-16 mx-auto mb-4 bg-gray-50 dark:bg-[#1a1a1a] rounded-full flex items-center justify-center border border-gray-100 dark:border-[#262626]\">\n                <Plus className=\"w-6 h-6 text-gray-400\" />\n            </div>\n            <h3 className=\"text-gray-900 dark:text-white font-semibold mb-1\">No problems yet</h3>\n            <p className=\"mb-6 text-gray-500 dark:text-gray-400 text-sm\">Get started by adding a problem to this category.</p>\n            <button\n              onClick={handleAddClick}\n              className=\"inline-flex items-center gap-2 px-5 py-2.5 bg-orange-600 hover:bg-orange-700 text-white font-bold text-sm rounded-xl transition-all\"\n            >\n              <Plus className=\"w-4 h-4\" />\n              Add First Problem\n            </button>\n          </div>\n        ) : (\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full text-left border-collapse\">\n              <thead>\n                <tr className=\"bg-gray-50 dark:bg-[#1a1a1a] border-b border-gray-200 dark:border-[#262626]\">\n                  <th className=\"px-6 py-4 text-[11px] font-bold text-gray-500 dark:text-gray-400 uppercase tracking-widest\">\n                    Title\n                  </th>\n                  <th className=\"px-6 py-4 text-[11px] font-bold text-gray-500 dark:text-gray-400 uppercase tracking-widest\">\n                    Difficulty\n                  </th>\n                  <th className=\"px-6 py-4 text-[11px] font-bold text-gray-500 dark:text-gray-400 uppercase tracking-widest text-right\">\n                    Actions\n                  </th>\n                </tr>\n              </thead>\n              <tbody className=\"divide-y divide-gray-100 dark:divide-[#262626]\">\n                {problems.map((problem) => (\n                  <tr\n                    key={problem.id}\n                    className=\"hover:bg-gray-50/50 dark:hover:bg-[#1a1a1a] transition-colors group\"\n                  >\n                    <td className=\"px-6 py-4\">\n                      <div className=\"font-semibold text-gray-900 dark:text-white\">{problem.title}</div>\n                      <div className=\"text-xs text-gray-400 dark:text-gray-500 font-mono mt-0.5\">\n                        {problem.slug}\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <span\n                        className={`px-2.5 py-1 rounded-full text-[10px] font-bold border ${getDifficultyColor(\n                          problem.difficulty\n                        )}`}\n                      >\n                        {problem.difficulty}\n                      </span>\n                    </td>\n                    <td className=\"px-6 py-4 text-right\">\n                      <div className=\"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity\">\n                        <Link\n                          href={`/admin/problems/${problem.id}/edit`}\n                          className=\"px-3 py-1.5 text-xs font-medium text-gray-600 dark:text-gray-400 bg-gray-100 dark:bg-[#262626] hover:bg-gray-200 dark:hover:bg-[#333] hover:text-gray-900 dark:hover:text-white rounded-lg transition-colors\"\n                        >\n                          Edit\n                        </Link>\n                        <button\n                          onClick={() => handleRemove(problem.id)}\n                          className=\"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-500/10 rounded-lg transition-colors\"\n                          title=\"Remove from Category\"\n                        >\n                          <Trash2 className=\"w-4 h-4\" />\n                        </button>\n                      </div>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </div>\n\n      {/* Add Problem Modal */}\n      {\n        showAddModal && (\n          <div className=\"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-y-auto\">\n            <div className=\"bg-white dark:bg-[#141414] rounded-2xl shadow-2xl max-w-4xl w-full my-8 relative border border-gray-200 dark:border-[#262626]\">\n              <div className=\"sticky top-0 bg-white dark:bg-[#141414] border-b border-gray-200 dark:border-[#262626] p-6 flex items-center justify-between z-10 rounded-t-2xl\">\n                <div>\n                    <h2 className=\"text-xl font-bold text-gray-900 dark:text-white\">Create New Problem</h2>\n                    <p className=\"text-sm text-gray-500 dark:text-gray-400\">Add a coding challenge to this category</p>\n                </div>\n                <button\n                  onClick={() => setShowAddModal(false)}\n                  className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors p-2 hover:bg-gray-100 dark:hover:bg-[#262626] rounded-lg\"\n                >\n                  <X className=\"w-5 h-5\" />\n                </button>\n              </div>\n\n              <div className=\"p-6 max-h-[80vh] overflow-y-auto\">\n                <ProblemForm\n                  onSubmit={handleCreateProblem}\n                  submitLabel=\"Create Problem\"\n                  domain=\"DSA\"\n                  redirectPath={undefined}\n                />\n              </div>\n            </div>\n          </div>\n        )\n      }\n\n      {/* Add Concept Modal */}\n      {\n        showConceptModal && (\n          <div className=\"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-y-auto\">\n            <div className=\"bg-white dark:bg-[#141414] rounded-2xl shadow-2xl max-w-2xl w-full my-8 relative border border-gray-200 dark:border-[#262626]\">\n              <div className=\"sticky top-0 bg-white dark:bg-[#141414] border-b border-gray-200 dark:border-[#262626] p-6 flex items-center justify-between z-10 rounded-t-2xl\">\n                <div>\n                     <h2 className=\"text-xl font-bold text-gray-900 dark:text-white\">Create New Concept</h2>\n                     <p className=\"text-sm text-gray-500 dark:text-gray-400\">Add learning material to this category</p>\n                </div>\n                <button\n                  onClick={() => setShowConceptModal(false)}\n                  className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors p-2 hover:bg-gray-100 dark:hover:bg-[#262626] rounded-lg\"\n                >\n                  <X className=\"w-5 h-5\" />\n                </button>\n              </div>\n\n              <div className=\"p-6 max-h-[80vh] overflow-y-auto\">\n                <ConceptForm\n                  onSubmit={handleCreateConcept}\n                />\n              </div>\n            </div>\n          </div>\n        )\n      }\n    </div >\n  );\n}\n\nexport default function DsaCategoryProblemsPage() {\n  return (\n    <Suspense fallback={\n      <div className=\"min-h-screen pt-24 pb-12 px-6 bg-white flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500\"></div>\n      </div>\n    }>\n      <DsaCategoryProblemsContent />\n    </Suspense>\n  );\n}\n\n"],"names":[],"mappings":"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"}}]
}