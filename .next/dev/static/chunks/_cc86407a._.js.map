{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/Algo-fox/actions/user.action.ts"],"sourcesContent":["\"use server\";\n\nimport { UserService } from \"@/core/services/user.service\";\nimport { auth } from \"@/lib/auth\";\nimport { headers } from \"next/headers\";\nimport { prisma } from \"@/lib/prisma\";\nimport { revalidatePath, updateTag, cacheTag, cacheLife } from \"next/cache\";\n\n/**\n * Get user's total score (cached for 5 minutes)\n * Cache is invalidated when user solves a problem via updateTag\n */\n\nexport async function getUserScore(): Promise<number> {\n    \"use cache: private\"; // Must be at top - allows headers() inside\n    cacheLife({ stale: 300, revalidate: 300 }); // 5 minutes\n\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n\n    if (!session?.user?.id) {\n        return 0;\n    }\n\n    const userId = session.user.id;\n\n    cacheTag(`user-score-${userId}`, `user-${userId}`);\n\n    return UserService.getUserScore(userId);\n}\n\n/**\n * Recalculate user's total score based on their solved problems\n * This fixes any incorrect scores in the database\n */\nexport async function recalculateUserScore(): Promise<{ success: boolean; newScore: number }> {\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n\n    if (!session?.user?.id) {\n        throw new Error(\"Unauthorized\");\n    }\n\n    const userId = session.user.id;\n\n    return UserService.recalculateUserScore(userId);\n}\n\n/**\n * Complete user onboarding process\n * Updates user profile information and marks onboarding as complete\n */\nexport async function completeOnboarding(data: {\n    name?: string;\n    bio?: string;\n    collegeId: string;\n    year?: string;\n    leetCodeHandle?: string;\n    codeChefHandle?: string;\n    hackerrankHandle?: string;\n    githubHandle?: string;\n}): Promise<{ success: boolean; error?: string }> {\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n\n    if (!session?.user?.id) {\n        return { success: false, error: \"Unauthorized\" };\n    }\n\n    const userId = session.user.id;\n\n    const res = await UserService.completeOnboarding(userId, data);\n\n    if (res.success) {\n        // Invalidate Redis cache (redundant but good to have here too)\n        try {\n            const redis = (await import(\"@/lib/redis\")).default;\n            await redis.del(`dashboard:stats:${userId}`);\n        } catch (error) {\n            console.error(\"Failed to invalidate dashboard redis cache:\", error);\n        }\n\n        revalidatePath(\"/dashboard\");\n        updateTag(`user-${userId}`);\n        updateTag(`dashboard-${userId}`);\n        updateTag('dashboard-stats');\n    }\n\n    return res;\n}\n\n/**\n * Update user profile information\n */\nexport async function updateUserInfo(data: {\n    name?: string;\n    bio?: string;\n    leetCodeHandle?: string;\n    codeChefHandle?: string;\n    hackerrankHandle?: string;\n    codeforcesHandle?: string;\n    githubHandle?: string;\n}): Promise<{ success: boolean; error?: string }> {\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n\n    if (!session?.user?.id) {\n        return { success: false, error: \"Unauthorized\" };\n    }\n\n    const userId = session.user.id;\n\n    try {\n        await prisma.user.update({\n            where: { id: userId },\n            data: {\n                name: data.name,\n                bio: data.bio,\n                leetCodeHandle: data.leetCodeHandle,\n                codeChefHandle: data.codeChefHandle,\n                codeforcesHandle: data.codeforcesHandle,\n                githubHandle: data.githubHandle,\n            }\n        });\n\n        // Invalidate Redis cache\n        try {\n            const redis = (await import(\"@/lib/redis\")).default;\n            await redis.del(`dashboard:stats:${userId}`);\n        } catch (error) {\n            console.error(\"Failed to invalidate dashboard redis cache:\", error);\n        }\n\n        revalidatePath(\"/dashboard\");\n        updateTag(`user-${userId}`);\n        updateTag(`user-score-${userId}`);\n        updateTag(`dashboard-${userId}`);\n        updateTag('dashboard-stats');\n        return { success: true };\n    } catch (error) {\n        console.error(\"Failed to update user info:\", error);\n        return { success: false, error: \"Failed to update profile\" };\n    }\n}\n\n/**\n * Sync user profile and stats\n * Clears all caches related to the user and revalidates dashboard\n */\nexport async function syncUserProfile(): Promise<{ success: boolean; error?: string }> {\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n\n    if (!session?.user?.id) {\n        return { success: false, error: \"Unauthorized\" };\n    }\n\n    const userId = session.user.id;\n\n    try {\n        // Invalidate Redis cache\n        try {\n            const redis = (await import(\"@/lib/redis\")).default;\n            await redis.del(`dashboard:stats:${userId}`);\n            await redis.del(`user-score-${userId}`);\n        } catch (error) {\n            console.error(\"Failed to invalidate redis cache during sync:\", error);\n        }\n\n        // Revalidate Next.js cache\n        revalidatePath(\"/dashboard\");\n        updateTag(`user-${userId}`);\n        updateTag(`user-score-${userId}`);\n        updateTag('dashboard-stats');\n\n        return { success: true };\n    } catch (error) {\n        console.error(\"Sync failed:\", error);\n        return { success: false, error: \"Failed to sync profile\" };\n    }\n}\n\n/**\n * Get user settings data (cached)\n */\nexport async function getUserSettings() {\n    \"use cache: private\";\n    cacheLife({ stale: 300, revalidate: 300 });\n\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n\n    if (!session?.user?.id) {\n        return null;\n    }\n\n    const userId = session.user.id;\n    cacheTag(`user-${userId}`);\n\n    const user = await prisma.user.findUnique({\n        where: { id: userId },\n        include: {\n            institution: true\n        }\n    });\n\n    if (!user) return null;\n\n    return {\n        id: user.id,\n        name: user.name,\n        email: user.email,\n        image: user.image,\n        bio: user.bio,\n        institutionName: user.institution?.name\n    };\n}\n"],"names":[],"mappings":";;;;;;;IAiGsB,iBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/Algo-fox/actions/platform.action.ts"],"sourcesContent":["\"use server\";\n\nimport { JSDOM } from \"jsdom\";\nimport { auth } from \"@/lib/auth\";\nimport { prisma } from \"@/lib/prisma\";\nimport { revalidatePath } from \"next/cache\";\n\nexport async function checkCodeChefUser(handle: string) {\n    try {\n        const resdata = await fetch(\n            `https://www.codechef.com/users/${handle}`,\n            { cache: 'no-store' }\n        );\n\n        if (resdata.status == 200) {\n\n            let d = await resdata.text();\n            let data = { data: d };\n\n            // Heatmap data extraction\n            let heatMapDataCursour1 =\n                data.data.search(\"var userDailySubmissionsStats =\") +\n                \"var userDailySubmissionsStats =\".length;\n            let heatMapDataCursour2 = data.data.search(\"'#js-heatmap\") - 34;\n            let heatDataString = data.data.substring(\n                heatMapDataCursour1,\n                heatMapDataCursour2\n            );\n\n            let headMapData = null;\n            try {\n                 headMapData = JSON.parse(heatDataString);\n            } catch (e) {\n                console.log(\"Error parsing heatmap data\", e);\n            }\n\n            // Rating data extraction\n            let allRating =\n                data.data.search(\"var all_rating = \") + \"var all_rating = \".length;\n            let allRating2 = data.data.search(\"var current_user_rating =\") - 6;\n\n            let ratingData = null;\n            try {\n                 ratingData = JSON.parse(data.data.substring(allRating, allRating2));\n            } catch (e) {\n                console.log(\"Error parsing rating data\", e);\n            }\n\n            let dom = new JSDOM(data.data);\n            let document = dom.window.document;\n\n            const name = document.querySelector(\".user-details-container\")?.children[0]\n                ?.children[1]?.textContent || \"\";\n\n            // Safe extraction with optional chaining\n            const profile = document.querySelector(\".user-details-container\")?.children[0]\n                ?.children[0]?.getAttribute(\"src\") || \"\";\n\n            const currentRatingText = document.querySelector(\".rating-number\")?.textContent;\n            const currentRating = currentRatingText ? parseInt(currentRatingText) : 0;\n\n            const highestRatingText = document.querySelector(\".rating-number\")?.parentNode?.children[4]?.textContent?.split(\"Rating\")[1];\n            const highestRating = highestRatingText ? parseInt(highestRatingText) : 0;\n\n            const countryFlag = document.querySelector(\".user-country-flag\")?.getAttribute(\"src\") || \"\";\n            const countryName = document.querySelector(\".user-country-name\")?.textContent || \"\";\n\n            const globalRankText = document.querySelector(\".rating-ranks\")?.children[0]?.children[0]\n                ?.children[0]?.children[0]?.innerHTML;\n            const globalRank = globalRankText ? parseInt(globalRankText) : 0;\n\n            const countryRankText = document.querySelector(\".rating-ranks\")?.children[0]?.children[1]\n                ?.children[0]?.children[0]?.innerHTML;\n            const countryRank = countryRankText ? parseInt(countryRankText) : 0;\n\n            const stars = document.querySelector(\".rating\")?.textContent || \"unrated\";\n\n            return {\n                success: true,\n                status: resdata.status,\n                profile,\n                name,\n                currentRating,\n                highestRating,\n                countryFlag,\n                countryName,\n                globalRank,\n                countryRank,\n                stars,\n                heatMap: headMapData,\n                ratingData,\n            };\n        }\n        else {\n            return { success: false, status: resdata.status }\n        }\n    } catch (e) {\n        console.log(e)\n        return { success: false, status: 404 }\n    }\n}\n\nexport async function verifyCodeChefOwnership(handle: string, verificationCode: string) {\n    const session = await auth();\n    if (!session || !session.user) {\n        return { success: false, error: \"Unauthorized\" };\n    }\n\n    const result = await checkCodeChefUser(handle);\n\n    if (result.success && result.name) {\n        // Check if the verification code is present in the name\n        // The user edits their \"Name\" field to include the code\n        if (result.name.includes(verificationCode)) {\n             try {\n                await prisma.user.update({\n                    where: { id: session.user.id },\n                    data: {\n                        codeChefVerified: true,\n                        // Ensure the verified handle is the one stored\n                        codeChefHandle: handle\n                    }\n                });\n                revalidatePath(\"/dashboard/settings\"); // Revalidate settings pages\n                // Invalidate user cache tag\n                // Assuming getUserSettings uses \"user-{userId}\" tag\n                // Note: revalidateTag needs to be imported from next/cache\n                // But wait, I need to import it first.\n                // The ReplaceFileContent tool handles the block replacement.\n                // I will add the import at the top and the call here.\n                // Actually I can't easily add import if I only replace this block.\n                // I will use multi_replace.\n                return { success: true };\n            } catch (error) {\n                console.error(\"Database update error:\", error);\n                return { success: false, error: \"Failed to update verification status\" };\n            }\n        } else {\n             return { success: false, error: \"Verification code not found in CodeChef name. Please ensure you have updated your profile name.\" };\n        }\n    }\n\n    return { success: false, error: \"Failed to fetch CodeChef profile\" };\n}\n"],"names":[],"mappings":";;;;;;;IAOsB,oBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA"}},
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/Algo-fox/actions/platform.action.ts"],"sourcesContent":["\"use server\";\n\nimport { JSDOM } from \"jsdom\";\nimport { auth } from \"@/lib/auth\";\nimport { prisma } from \"@/lib/prisma\";\nimport { revalidatePath } from \"next/cache\";\n\nexport async function checkCodeChefUser(handle: string) {\n    try {\n        const resdata = await fetch(\n            `https://www.codechef.com/users/${handle}`,\n            { cache: 'no-store' }\n        );\n\n        if (resdata.status == 200) {\n\n            let d = await resdata.text();\n            let data = { data: d };\n\n            // Heatmap data extraction\n            let heatMapDataCursour1 =\n                data.data.search(\"var userDailySubmissionsStats =\") +\n                \"var userDailySubmissionsStats =\".length;\n            let heatMapDataCursour2 = data.data.search(\"'#js-heatmap\") - 34;\n            let heatDataString = data.data.substring(\n                heatMapDataCursour1,\n                heatMapDataCursour2\n            );\n\n            let headMapData = null;\n            try {\n                 headMapData = JSON.parse(heatDataString);\n            } catch (e) {\n                console.log(\"Error parsing heatmap data\", e);\n            }\n\n            // Rating data extraction\n            let allRating =\n                data.data.search(\"var all_rating = \") + \"var all_rating = \".length;\n            let allRating2 = data.data.search(\"var current_user_rating =\") - 6;\n\n            let ratingData = null;\n            try {\n                 ratingData = JSON.parse(data.data.substring(allRating, allRating2));\n            } catch (e) {\n                console.log(\"Error parsing rating data\", e);\n            }\n\n            let dom = new JSDOM(data.data);\n            let document = dom.window.document;\n\n            const name = document.querySelector(\".user-details-container\")?.children[0]\n                ?.children[1]?.textContent || \"\";\n\n            // Safe extraction with optional chaining\n            const profile = document.querySelector(\".user-details-container\")?.children[0]\n                ?.children[0]?.getAttribute(\"src\") || \"\";\n\n            const currentRatingText = document.querySelector(\".rating-number\")?.textContent;\n            const currentRating = currentRatingText ? parseInt(currentRatingText) : 0;\n\n            const highestRatingText = document.querySelector(\".rating-number\")?.parentNode?.children[4]?.textContent?.split(\"Rating\")[1];\n            const highestRating = highestRatingText ? parseInt(highestRatingText) : 0;\n\n            const countryFlag = document.querySelector(\".user-country-flag\")?.getAttribute(\"src\") || \"\";\n            const countryName = document.querySelector(\".user-country-name\")?.textContent || \"\";\n\n            const globalRankText = document.querySelector(\".rating-ranks\")?.children[0]?.children[0]\n                ?.children[0]?.children[0]?.innerHTML;\n            const globalRank = globalRankText ? parseInt(globalRankText) : 0;\n\n            const countryRankText = document.querySelector(\".rating-ranks\")?.children[0]?.children[1]\n                ?.children[0]?.children[0]?.innerHTML;\n            const countryRank = countryRankText ? parseInt(countryRankText) : 0;\n\n            const stars = document.querySelector(\".rating\")?.textContent || \"unrated\";\n\n            return {\n                success: true,\n                status: resdata.status,\n                profile,\n                name,\n                currentRating,\n                highestRating,\n                countryFlag,\n                countryName,\n                globalRank,\n                countryRank,\n                stars,\n                heatMap: headMapData,\n                ratingData,\n            };\n        }\n        else {\n            return { success: false, status: resdata.status }\n        }\n    } catch (e) {\n        console.log(e)\n        return { success: false, status: 404 }\n    }\n}\n\nexport async function verifyCodeChefOwnership(handle: string, verificationCode: string) {\n    const session = await auth();\n    if (!session || !session.user) {\n        return { success: false, error: \"Unauthorized\" };\n    }\n\n    const result = await checkCodeChefUser(handle);\n\n    if (result.success && result.name) {\n        // Check if the verification code is present in the name\n        // The user edits their \"Name\" field to include the code\n        if (result.name.includes(verificationCode)) {\n             try {\n                await prisma.user.update({\n                    where: { id: session.user.id },\n                    data: {\n                        codeChefVerified: true,\n                        // Ensure the verified handle is the one stored\n                        codeChefHandle: handle\n                    }\n                });\n                revalidatePath(\"/dashboard/settings\"); // Revalidate settings pages\n                // Invalidate user cache tag\n                // Assuming getUserSettings uses \"user-{userId}\" tag\n                // Note: revalidateTag needs to be imported from next/cache\n                // But wait, I need to import it first.\n                // The ReplaceFileContent tool handles the block replacement.\n                // I will add the import at the top and the call here.\n                // Actually I can't easily add import if I only replace this block.\n                // I will use multi_replace.\n                return { success: true };\n            } catch (error) {\n                console.error(\"Database update error:\", error);\n                return { success: false, error: \"Failed to update verification status\" };\n            }\n        } else {\n             return { success: false, error: \"Verification code not found in CodeChef name. Please ensure you have updated your profile name.\" };\n        }\n    }\n\n    return { success: false, error: \"Failed to fetch CodeChef profile\" };\n}\n"],"names":[],"mappings":";;;;;;;IAsGsB,0BAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA"}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/Algo-fox/components/settings/VerificationModal.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { Copy, Loader2, X, ExternalLink } from \"lucide-react\";\nimport { toast } from \"sonner\";\nimport { verifyCodeChefOwnership } from \"@/actions/platform.action\";\n\ninterface VerificationModalProps {\n    platform: string;\n    handle: string;\n    onClose: () => void;\n    onSuccess: () => void;\n}\n\nexport function VerificationModal({ platform, handle, onClose, onSuccess }: VerificationModalProps) {\n    const [step, setStep] = useState(1);\n    const [isLoading, setIsLoading] = useState(false);\n    // Generate a random 8-character code\n    const [verificationCode] = useState(() => Math.random().toString(36).substring(2, 10));\n\n    const handleCopy = () => {\n        navigator.clipboard.writeText(verificationCode);\n        toast.success(\"Code copied to clipboard\");\n    };\n\n    const handleVerify = async () => {\n        setIsLoading(true);\n        try {\n            const res = await verifyCodeChefOwnership(handle, verificationCode);\n            if (res.success) {\n                toast.success(`${platform} profile verified successfully!`);\n                onSuccess();\n                onClose();\n            } else {\n                toast.error(res.error || \"Verification failed. Please check if the name is updated correctly.\");\n            }\n        } catch (error) {\n            toast.error(\"An error occurred during verification\");\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    return (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm\">\n            <div className=\"bg-white dark:bg-[#1a1a1a] rounded-2xl w-full max-w-md p-6 shadow-2xl border border-gray-200 dark:border-[#333] relative animate-in zoom-in-95 duration-200\">\n                <button\n                    onClick={onClose}\n                    className=\"absolute top-4 right-4 p-2 text-gray-500 hover:bg-gray-100 dark:hover:bg-[#262626] rounded-full transition-colors\"\n                >\n                    <X className=\"w-5 h-5\" />\n                </button>\n\n                <div className=\"mb-6 text-center\">\n                    <h2 className=\"text-xl font-bold text-gray-900 dark:text-gray-100 mb-2\">\n                        Verify your {platform} profile\n                    </h2>\n                    <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                        Step {step} / 3\n                    </p>\n                </div>\n\n                {step === 1 && (\n                    <div className=\"space-y-6\">\n                        <div className=\"text-center space-y-4\">\n                            <p className=\"text-gray-600 dark:text-gray-300\">\n                                Open your {platform} profile settings in a new tab.\n                            </p>\n                            <a\n                                href={`https://www.codechef.com/users/${handle}/edit`}\n                                target=\"_blank\"\n                                rel=\"noopener noreferrer\"\n                                className=\"inline-flex items-center gap-2 px-6 py-3 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400 rounded-xl font-medium hover:bg-orange-200 dark:hover:bg-orange-900/50 transition-colors\"\n                            >\n                                Open CodeChef Settings <ExternalLink className=\"w-4 h-4\" />\n                            </a>\n                        </div>\n                        <button\n                            onClick={() => setStep(2)}\n                            className=\"w-full py-3 bg-orange-600 hover:bg-orange-700 text-white font-medium rounded-xl transition-colors\"\n                        >\n                            Continue\n                        </button>\n                    </div>\n                )}\n\n                {step === 2 && (\n                    <div className=\"space-y-6\">\n                         <div className=\"space-y-4\">\n                            <div className=\"text-center\">\n                                <p className=\"text-gray-600 dark:text-gray-300 mb-2\">\n                                    Paste this verification code in your <strong>First Name</strong>\n                                </p>\n                                <p className=\"text-xs text-gray-400\">\n                                    (You can change it back after verification)\n                                </p>\n                            </div>\n\n                            <div className=\"flex items-center gap-2 p-3 bg-gray-50 dark:bg-[#0a0a0a] border border-gray-200 dark:border-[#333] rounded-xl\">\n                                <code className=\"flex-1 text-center font-mono text-lg font-bold text-gray-900 dark:text-gray-100 tracking-wider\">\n                                    {verificationCode}\n                                </code>\n                                <button\n                                    onClick={handleCopy}\n                                    className=\"p-2 text-gray-500 hover:text-orange-600 hover:bg-orange-50 dark:hover:bg-orange-900/20 rounded-lg transition-colors\"\n                                    title=\"Copy Code\"\n                                >\n                                    <Copy className=\"w-5 h-5\" />\n                                </button>\n                            </div>\n                        </div>\n\n                        <div className=\"flex gap-3\">\n                            <button\n                                onClick={() => setStep(1)}\n                                className=\"flex-1 py-3 bg-gray-100 dark:bg-[#262626] text-gray-700 dark:text-gray-300 font-medium rounded-xl hover:bg-gray-200 dark:hover:bg-[#333] transition-colors\"\n                            >\n                                Back\n                            </button>\n                            <button\n                                onClick={() => setStep(3)}\n                                className=\"flex-1 py-3 bg-orange-600 hover:bg-orange-700 text-white font-medium rounded-xl transition-colors\"\n                            >\n                                I've pasted the code\n                            </button>\n                        </div>\n                    </div>\n                )}\n\n                {step === 3 && (\n                    <div className=\"space-y-6\">\n                        <div className=\"text-center space-y-4\">\n                            <p className=\"text-gray-600 dark:text-gray-300\">\n                                Make sure you saved your profile changes on CodeChef using the verification code.\n                            </p>\n                             <p className=\"text-sm text-gray-500\">\n                                Click verify below to confirm ownership.\n                            </p>\n                        </div>\n\n                        <div className=\"flex gap-3\">\n                            <button\n                                onClick={() => setStep(2)}\n                                disabled={isLoading}\n                                className=\"flex-1 py-3 bg-gray-100 dark:bg-[#262626] text-gray-700 dark:text-gray-300 font-medium rounded-xl hover:bg-gray-200 dark:hover:bg-[#333] transition-colors disabled:opacity-50\"\n                            >\n                                Back\n                            </button>\n                            <button\n                                onClick={handleVerify}\n                                disabled={isLoading}\n                                className=\"flex-1 py-3 bg-orange-600 hover:bg-orange-700 text-white font-medium rounded-xl transition-colors flex items-center justify-center gap-2 disabled:opacity-70\"\n                            >\n                                {isLoading ? <Loader2 className=\"w-5 h-5 animate-spin\" /> : \"Verify CodeChef Profile\"}\n                            </button>\n                        </div>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AACA;;;AALA;;;;;AAcO,SAAS,kBAAkB,EAAE,QAAQ,EAAE,MAAM,EAAE,OAAO,EAAE,SAAS,EAA0B;;IAC9F,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;IACjC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,qCAAqC;IACrC,MAAM,CAAC,iBAAiB,GAAG,IAAA,yKAAQ;sCAAC,IAAM,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,SAAS,CAAC,GAAG;;IAElF,MAAM,aAAa;QACf,UAAU,SAAS,CAAC,SAAS,CAAC;QAC9B,oJAAK,CAAC,OAAO,CAAC;IAClB;IAEA,MAAM,eAAe;QACjB,aAAa;QACb,IAAI;YACA,MAAM,MAAM,MAAM,IAAA,6KAAuB,EAAC,QAAQ;YAClD,IAAI,IAAI,OAAO,EAAE;gBACb,oJAAK,CAAC,OAAO,CAAC,GAAG,SAAS,+BAA+B,CAAC;gBAC1D;gBACA;YACJ,OAAO;gBACH,oJAAK,CAAC,KAAK,CAAC,IAAI,KAAK,IAAI;YAC7B;QACJ,EAAE,OAAO,OAAO;YACZ,oJAAK,CAAC,KAAK,CAAC;QAChB,SAAU;YACN,aAAa;QACjB;IACJ;IAEA,qBACI,6LAAC;QAAI,WAAU;kBACX,cAAA,6LAAC;YAAI,WAAU;;8BACX,6LAAC;oBACG,SAAS;oBACT,WAAU;8BAEV,cAAA,6LAAC,oMAAC;wBAAC,WAAU;;;;;;;;;;;8BAGjB,6LAAC;oBAAI,WAAU;;sCACX,6LAAC;4BAAG,WAAU;;gCAA0D;gCACvD;gCAAS;;;;;;;sCAE1B,6LAAC;4BAAE,WAAU;;gCAA2C;gCAC9C;gCAAK;;;;;;;;;;;;;gBAIlB,SAAS,mBACN,6LAAC;oBAAI,WAAU;;sCACX,6LAAC;4BAAI,WAAU;;8CACX,6LAAC;oCAAE,WAAU;;wCAAmC;wCACjC;wCAAS;;;;;;;8CAExB,6LAAC;oCACG,MAAM,CAAC,+BAA+B,EAAE,OAAO,KAAK,CAAC;oCACrD,QAAO;oCACP,KAAI;oCACJ,WAAU;;wCACb;sDAC0B,6LAAC,yOAAY;4CAAC,WAAU;;;;;;;;;;;;;;;;;;sCAGvD,6LAAC;4BACG,SAAS,IAAM,QAAQ;4BACvB,WAAU;sCACb;;;;;;;;;;;;gBAMR,SAAS,mBACN,6LAAC;oBAAI,WAAU;;sCACV,6LAAC;4BAAI,WAAU;;8CACZ,6LAAC;oCAAI,WAAU;;sDACX,6LAAC;4CAAE,WAAU;;gDAAwC;8DACZ,6LAAC;8DAAO;;;;;;;;;;;;sDAEjD,6LAAC;4CAAE,WAAU;sDAAwB;;;;;;;;;;;;8CAKzC,6LAAC;oCAAI,WAAU;;sDACX,6LAAC;4CAAK,WAAU;sDACX;;;;;;sDAEL,6LAAC;4CACG,SAAS;4CACT,WAAU;4CACV,OAAM;sDAEN,cAAA,6LAAC,6MAAI;gDAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;sCAK5B,6LAAC;4BAAI,WAAU;;8CACX,6LAAC;oCACG,SAAS,IAAM,QAAQ;oCACvB,WAAU;8CACb;;;;;;8CAGD,6LAAC;oCACG,SAAS,IAAM,QAAQ;oCACvB,WAAU;8CACb;;;;;;;;;;;;;;;;;;gBAOZ,SAAS,mBACN,6LAAC;oBAAI,WAAU;;sCACX,6LAAC;4BAAI,WAAU;;8CACX,6LAAC;oCAAE,WAAU;8CAAmC;;;;;;8CAG/C,6LAAC;oCAAE,WAAU;8CAAwB;;;;;;;;;;;;sCAK1C,6LAAC;4BAAI,WAAU;;8CACX,6LAAC;oCACG,SAAS,IAAM,QAAQ;oCACvB,UAAU;oCACV,WAAU;8CACb;;;;;;8CAGD,6LAAC;oCACG,SAAS;oCACT,UAAU;oCACV,WAAU;8CAET,0BAAY,6LAAC,+NAAO;wCAAC,WAAU;;;;;+CAA4B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQ5F;GAnJgB;KAAA"}}]
}