{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/Algo-fox/components/dashboard/ActivityHeatmap.tsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo, memo } from \"react\";\nimport { motion } from \"framer-motion\";\n\ninterface ActivityHeatmapProps {\n    submissions: {\n        createdAt: Date;\n        status: string;\n    }[];\n}\n\nfunction ActivityHeatmap({ submissions }: ActivityHeatmapProps) {\n    // Utilities\n    const formatDateKey = (date: Date) => {\n        return date.toISOString().split('T')[0];\n    };\n\n    // 1. Generate the calendar grid data (last 365 days approx, aligned to weeks)\n    const { weeks, monthLabels } = useMemo(() => {\n        const today = new Date();\n        const endDate = new Date(today);\n\n        // Start date: 1 year ago\n        const startDate = new Date(today);\n        startDate.setFullYear(startDate.getFullYear() - 1);\n\n        // Adjust start date to the previous Sunday to align the grid\n        // Day 0 is Sunday\n        const dayOfWeek = startDate.getDay();\n        startDate.setDate(startDate.getDate() - dayOfWeek);\n\n        const weeksArr = [];\n        const monthsArr = [];\n\n        const currentDate = new Date(startDate);\n        let currentWeek = [];\n        let weekIndex = 0;\n\n        while (currentDate <= endDate) {\n            // Add day to current week\n            currentWeek.push(new Date(currentDate));\n\n            // If week is full (7 days), push to weeks and reset\n            if (currentWeek.length === 7) {\n                weeksArr.push(currentWeek);\n\n                // check for month label\n                const firstDayOfWeek = currentWeek[0];\n                const month = firstDayOfWeek.toLocaleString('default', { month: 'short' });\n\n                // Logic: Show label if it's the first week of the month visible in this row\n                // Or simply every ~4 weeks, but let's try to be accurate\n                // A simplified standard github-like approach:\n                // If the first day of the week is roughly the start of the month (1st-7th)\n                if (firstDayOfWeek.getDate() <= 7) {\n                    monthsArr.push({ month, weekIndex });\n                }\n\n                currentWeek = [];\n                weekIndex++;\n            }\n\n            // Next day\n            currentDate.setDate(currentDate.getDate() + 1);\n        }\n\n        // Handle partial last week if needed (though loop usually finishes on a boundary if we align precisely)\n        if (currentWeek.length > 0) {\n            weeksArr.push(currentWeek);\n        }\n\n        return { weeks: weeksArr, monthLabels: monthsArr };\n    }, []);\n\n    // 2. Map submissions to dates\n    const submissionMap = useMemo(() => {\n        const map = new Map<string, number>();\n        submissions.forEach(sub => {\n            const dateKey = formatDateKey(new Date(sub.createdAt));\n            map.set(dateKey, (map.get(dateKey) || 0) + 1);\n        });\n        return map;\n    }, [submissions]);\n\n    // 3. Color scale\n    const getIntensityClass = (count: number) => {\n        if (count === 0) return \"bg-gray-100 dark:bg-[#262626]\";\n        if (count <= 2) return \"bg-orange-200 dark:bg-orange-900/50\";\n        if (count <= 5) return \"bg-orange-300 dark:bg-orange-700\";\n        if (count <= 8) return \"bg-orange-400 dark:bg-orange-600\";\n        return \"bg-orange-500 dark:bg-orange-500\";\n    };\n\n    return (\n        <div className=\"w-full overflow-x-auto overflow-y-hidden pb-2\">\n            <div className=\"min-w-fit\">\n                <div className=\"flex text-xs text-gray-400 dark:text-gray-500 mb-2 relative h-4\">\n                    {monthLabels.map((label, i) => (\n                        <span\n                            key={`${label.month}-${i}`}\n                            className=\"absolute top-0 pointer-events-none\"\n                            style={{\n                                left: `${label.weekIndex * 15}px` // 12px (w-3) + 3px (gap-[3px]) = 15px per column\n                            }}\n                        >\n                            {label.month}\n                        </span>\n                    ))}\n                </div>\n\n                <div className=\"flex gap-2\">\n                    {/* Day Labels (Mon, Wed, Fri) */}\n                    <div className=\"flex flex-col gap-[3px] text-[10px] text-gray-500 dark:text-gray-400 mt-[1px]\">\n                        {/* 7 slots, align with grid rows */}\n                        <span className=\"h-3 leading-3 invisible\">Sun</span> {/* Spacer */}\n                        <span className=\"h-3 leading-3\">Mon</span>\n                        <span className=\"h-3 leading-3 invisible\">Tue</span>\n                        <span className=\"h-3 leading-3\">Wed</span>\n                        <span className=\"h-3 leading-3 invisible\">Thu</span>\n                        <span className=\"h-3 leading-3\">Fri</span>\n                        <span className=\"h-3 leading-3 invisible\">Sat</span>\n                    </div>\n\n                    {/* Heatmap Grid */}\n                    <div className=\"flex gap-[3px]\">\n                        {weeks.map((week, wIndex) => (\n                            <div key={wIndex} className=\"flex flex-col gap-[3px]\">\n                                {week.map((date, dIndex) => {\n                                    const dateKey = formatDateKey(date);\n                                    const count = submissionMap.get(dateKey) || 0;\n                                    const titleDate = date.toLocaleDateString(undefined, {\n                                        weekday: 'long',\n                                        year: 'numeric',\n                                        month: 'long',\n                                        day: 'numeric'\n                                    });\n\n                                    return (\n                                        <motion.div\n                                            key={dateKey}\n                                            initial={{ opacity: 0, scale: 0.5 }}\n                                            animate={{ opacity: 1, scale: 1 }}\n                                            transition={{ delay: (wIndex * 7 + dIndex) * 0.0005 }} // Staggered animation\n                                            className={`w-3 h-3 rounded-[2px] ${getIntensityClass(count)} hover:ring-2 ring-offset-1 ring-orange-300 cursor-pointer relative group`}\n                                        >\n                                            {/* Simple Tooltip */}\n                                            <div className=\"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block z-50 whitespace-nowrap\">\n                                                <div className=\"bg-gray-900 dark:bg-white text-white dark:text-black text-xs py-1 px-2 rounded shadow-lg\">\n                                                    <span className=\"font-semibold\">{count} contributions</span> on {titleDate}\n                                                </div>\n                                            </div>\n                                        </motion.div>\n                                    );\n                                })}\n                            </div>\n                        ))}\n                    </div>\n                </div>\n\n                {/* Legend */}\n                <div className=\"flex items-center gap-2 mt-4 text-xs text-gray-400 dark:text-gray-500 justify-end mr-4\">\n                    <span>Less</span>\n                    <div className=\"flex gap-[3px]\">\n                        <div className=\"w-3 h-3 rounded-[2px] bg-gray-100 dark:bg-[#262626]\" />\n                        <div className=\"w-3 h-3 rounded-[2px] bg-orange-200 dark:bg-orange-900/50\" />\n                        <div className=\"w-3 h-3 rounded-[2px] bg-orange-300 dark:bg-orange-700\" />\n                        <div className=\"w-3 h-3 rounded-[2px] bg-orange-400 dark:bg-orange-600\" />\n                        <div className=\"w-3 h-3 rounded-[2px] bg-orange-500 dark:bg-orange-500\" />\n                    </div>\n                    <span>More</span>\n                </div>\n            </div>\n        </div>\n    );\n}\n\n\nexport default memo(ActivityHeatmap);\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 344, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/Algo-fox/actions/user.action.ts"],"sourcesContent":["\"use server\";\n\nimport { UserService } from \"@/core/services/user.service\";\nimport { auth } from \"@/lib/auth\";\nimport { headers } from \"next/headers\";\nimport { prisma } from \"@/lib/prisma\";\nimport { revalidatePath, updateTag, cacheTag, cacheLife } from \"next/cache\";\n\n/**\n * Get user's total score (cached for 5 minutes)\n * Cache is invalidated when user solves a problem via updateTag\n */\n\nexport async function getUserScore(): Promise<number> {\n    \"use cache: private\"; // Must be at top - allows headers() inside\n    cacheLife({ stale: 300, revalidate: 300 }); // 5 minutes\n\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n\n    if (!session?.user?.id) {\n        return 0;\n    }\n\n    const userId = session.user.id;\n\n    cacheTag(`user-score-${userId}`, `user-${userId}`);\n\n    return UserService.getUserScore(userId);\n}\n\n/**\n * Recalculate user's total score based on their solved problems\n * This fixes any incorrect scores in the database\n */\nexport async function recalculateUserScore(): Promise<{ success: boolean; newScore: number }> {\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n\n    if (!session?.user?.id) {\n        throw new Error(\"Unauthorized\");\n    }\n\n    const userId = session.user.id;\n\n    return UserService.recalculateUserScore(userId);\n}\n\n/**\n * Complete user onboarding process\n * Updates user profile information and marks onboarding as complete\n */\nexport async function completeOnboarding(data: {\n    name?: string;\n    bio?: string;\n    collegeId: string;\n    year?: string;\n    leetCodeHandle?: string;\n    codeChefHandle?: string;\n    hackerrankHandle?: string;\n    githubHandle?: string;\n}): Promise<{ success: boolean; error?: string }> {\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n\n    if (!session?.user?.id) {\n        return { success: false, error: \"Unauthorized\" };\n    }\n\n    const userId = session.user.id;\n\n    const res = await UserService.completeOnboarding(userId, data);\n\n    if (res.success) {\n        // Invalidate Redis cache (redundant but good to have here too)\n        try {\n            const redis = (await import(\"@/lib/redis\")).default;\n            await redis.del(`dashboard:stats:${userId}`);\n        } catch (error) {\n            console.error(\"Failed to invalidate dashboard redis cache:\", error);\n        }\n\n        revalidatePath(\"/dashboard\");\n        updateTag(`user-${userId}`);\n        updateTag(`dashboard-${userId}`);\n        updateTag('dashboard-stats');\n    }\n\n    return res;\n}\n\n/**\n * Update user profile information\n */\nexport async function updateUserInfo(data: {\n    name?: string;\n    bio?: string;\n    leetCodeHandle?: string;\n    codeChefHandle?: string;\n    hackerrankHandle?: string;\n    codeforcesHandle?: string;\n    githubHandle?: string;\n}): Promise<{ success: boolean; error?: string }> {\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n\n    if (!session?.user?.id) {\n        return { success: false, error: \"Unauthorized\" };\n    }\n\n    const userId = session.user.id;\n\n    try {\n        // Fetch current user to check for changes\n        const currentUser = await prisma.user.findUnique({\n            where: { id: userId },\n            select: {\n                codeChefHandle: true,\n                codeforcesHandle: true,\n                leetCodeHandle: true,\n            }\n        });\n\n        const updateData: any = {\n            name: data.name,\n            bio: data.bio,\n            leetCodeHandle: data.leetCodeHandle,\n            codeChefHandle: data.codeChefHandle,\n            codeforcesHandle: data.codeforcesHandle,\n            githubHandle: data.githubHandle,\n        };\n\n        // Reset verification if handle changed\n        if (currentUser) {\n            if (data.codeChefHandle !== undefined && data.codeChefHandle !== currentUser.codeChefHandle) {\n                updateData.codeChefVerified = false;\n            }\n            if (data.codeforcesHandle !== undefined && data.codeforcesHandle !== currentUser.codeforcesHandle) {\n                updateData.codeforcesVerified = false;\n            }\n            if (data.leetCodeHandle !== undefined && data.leetCodeHandle !== currentUser.leetCodeHandle) {\n                updateData.leetCodeVerified = false;\n            }\n        }\n\n        await prisma.user.update({\n            where: { id: userId },\n            data: updateData\n        });\n\n        // Invalidate Redis cache\n        try {\n            const redis = (await import(\"@/lib/redis\")).default;\n            await redis.del(`dashboard:stats:${userId}`);\n        } catch (error) {\n            console.error(\"Failed to invalidate dashboard redis cache:\", error);\n        }\n\n        revalidatePath(\"/dashboard\");\n        revalidatePath(\"/dashboard/settings\"); // Added to refresh settings page\n        updateTag(`user-${userId}`);\n        updateTag(`user-score-${userId}`);\n        updateTag(`dashboard-${userId}`);\n        updateTag('dashboard-stats');\n        return { success: true };\n    } catch (error) {\n        console.error(\"Failed to update user info:\", error);\n        return { success: false, error: \"Failed to update profile\" };\n    }\n}\n\n/**\n * Sync user profile and stats\n * Clears all caches related to the user and revalidates dashboard\n */\nexport async function syncUserProfile(): Promise<{ success: boolean; error?: string }> {\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n\n    if (!session?.user?.id) {\n        return { success: false, error: \"Unauthorized\" };\n    }\n\n    const userId = session.user.id;\n\n    try {\n        // Invalidate Redis cache\n        try {\n            const redis = (await import(\"@/lib/redis\")).default;\n            await redis.del(`dashboard:stats:${userId}`);\n            await redis.del(`user-score-${userId}`);\n        } catch (error) {\n            console.error(\"Failed to invalidate redis cache during sync:\", error);\n        }\n\n        // Revalidate Next.js cache\n        revalidatePath(\"/dashboard\");\n        updateTag(`user-${userId}`);\n        updateTag(`user-score-${userId}`);\n        updateTag('dashboard-stats');\n\n        return { success: true };\n    } catch (error) {\n        console.error(\"Sync failed:\", error);\n        return { success: false, error: \"Failed to sync profile\" };\n    }\n}\n\n/**\n * Get user settings data (cached)\n */\nexport async function getUserSettings() {\n    \"use cache: private\";\n    cacheLife({ stale: 300, revalidate: 300 });\n\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n\n    if (!session?.user?.id) {\n        return null;\n    }\n\n    const userId = session.user.id;\n    cacheTag(`user-${userId}`);\n\n    const user = await prisma.user.findUnique({\n        where: { id: userId },\n        include: {\n            institution: true\n        }\n    });\n\n    if (!user) return null;\n\n    return {\n        id: user.id,\n        name: user.name,\n        email: user.email,\n        image: user.image,\n        bio: user.bio,\n        institutionName: user.institution?.name\n    };\n}\n"],"names":[],"mappings":";;;;;;;IAmLsB,kBAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA"}},
    {"offset": {"line": 356, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/Algo-fox/components/dashboard/ProfileActions.tsx"],"sourcesContent":["\"use client\";\n\nimport { Settings2, RefreshCw } from \"lucide-react\";\nimport { useState } from \"react\";\nimport { syncUserProfile } from \"@/actions/user.action\";\nimport { toast } from \"sonner\";\nimport { useRouter } from \"next/navigation\";\nimport Link from \"next/link\";\n\ninterface ProfileActionsProps {\n    user: {\n        name: string;\n        email: string;\n        image?: string | null;\n        bio?: string | null;\n        leetCodeHandle?: string | null;\n        codeChefHandle?: string | null;\n        codeforcesHandle?: string | null;\n        githubHandle?: string | null;\n    };\n    readonly?: boolean;\n}\n\nexport function ProfileActions({ user, readonly }: ProfileActionsProps) {\n    const [isSyncing, setIsSyncing] = useState(false);\n    const router = useRouter();\n\n    if (readonly) return null;\n\n    const handleSync = async () => {\n        setIsSyncing(true);\n        try {\n            const res = await syncUserProfile();\n            if (res.success) {\n                toast.success(\"Profile synchronized successfully\");\n                router.refresh();\n            } else {\n                toast.error(res.error || \"Failed to sync profile\");\n            }\n        } catch (error) {\n            toast.error(\"An error occurred during synchronization\");\n        } finally {\n            setIsSyncing(false);\n        }\n    };\n\n    return (\n        <>\n            <div className=\"flex gap-2 w-full mt-2\">\n                <Link\n                    href=\"/dashboard/settings/basic-info\"\n                    className=\"flex-1 py-2 px-4 bg-orange-500 text-white text-sm font-medium rounded-xl hover:bg-orange-600 transition-colors text-center\"\n                >\n                    Edit Profile\n                </Link>\n                <button\n                    onClick={handleSync}\n                    disabled={isSyncing}\n                    className=\"p-2 border border-gray-200 dark:border-[#333] rounded-xl hover:bg-gray-50 dark:hover:bg-[#1a1a1a] transition-colors text-gray-600 dark:text-gray-400 disabled:opacity-50\"\n                    title=\"Refresh Stats & Profile\"\n                >\n                    <RefreshCw className={`w-5 h-5 ${isSyncing ? 'animate-spin' : ''}`} />\n                </button>\n            </div>\n        </>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AAuBO,SAAS,eAAe,EAAE,IAAI,EAAE,QAAQ,EAAuB;IAClE,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,SAAS,IAAA,+IAAS;IAExB,IAAI,UAAU,OAAO;IAErB,MAAM,aAAa;QACf,aAAa;QACb,IAAI;YACA,MAAM,MAAM,MAAM,IAAA,kKAAe;YACjC,IAAI,IAAI,OAAO,EAAE;gBACb,iJAAK,CAAC,OAAO,CAAC;gBACd,OAAO,OAAO;YAClB,OAAO;gBACH,iJAAK,CAAC,KAAK,CAAC,IAAI,KAAK,IAAI;YAC7B;QACJ,EAAE,OAAO,OAAO;YACZ,iJAAK,CAAC,KAAK,CAAC;QAChB,SAAU;YACN,aAAa;QACjB;IACJ;IAEA,qBACI;kBACI,cAAA,8OAAC;YAAI,WAAU;;8BACX,8OAAC,uKAAI;oBACD,MAAK;oBACL,WAAU;8BACb;;;;;;8BAGD,8OAAC;oBACG,SAAS;oBACT,UAAU;oBACV,WAAU;oBACV,OAAM;8BAEN,cAAA,8OAAC,6NAAS;wBAAC,WAAW,CAAC,QAAQ,EAAE,YAAY,iBAAiB,IAAI;;;;;;;;;;;;;;;;;;AAKtF"}},
    {"offset": {"line": 437, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/Algo-fox/components/dashboard/AchievementsCard.tsx"],"sourcesContent":["\"use client\";\n\nimport { Trophy, Medal, Crown, Lock } from \"lucide-react\";\nimport { motion } from \"framer-motion\";\n\ninterface AchievementsCardProps {\n    badges?: {\n        gold: number;\n        silver: number;\n        bronze: number;\n    };\n}\n\nexport function AchievementsCard({ badges }: AchievementsCardProps) {\n    const earnedBadges = [\n        { type: 'gold', count: badges?.gold || 0, icon: Crown, label: 'Gold', color: 'from-yellow-400 to-yellow-600', shadow: 'shadow-yellow-500/30', bg: 'bg-yellow-50' },\n        { type: 'silver', count: badges?.silver || 0, icon: Medal, label: 'Silver', color: 'from-slate-300 to-slate-500', shadow: 'shadow-slate-400/30', bg: 'bg-slate-50' },\n        { type: 'bronze', count: badges?.bronze || 0, icon: Medal, label: 'Bronze', color: 'from-orange-400 to-orange-600', shadow: 'shadow-orange-500/30', bg: 'bg-orange-50' },\n    ].filter(b => b.count > 0);\n\n    const hasBadges = earnedBadges.length > 0;\n\n    return (\n        <div className=\"bg-white dark:bg-[#141414] rounded-2xl border border-dashed border-gray-300 dark:border-[#262626] hover:shadow-lg transition-shadow duration-300 overflow-hidden h-full flex flex-col\">\n            <div className=\"px-6 py-5 border-b border-dashed border-gray-200 dark:border-[#262626] bg-gray-50/50 dark:bg-[#1a1a1a] flex items-center justify-between\">\n                <h3 className=\"text-lg font-bold text-gray-900 dark:text-gray-100\">Achievements</h3>\n                {hasBadges && (\n                    <span className=\"px-2 py-1 bg-green-100 text-green-700 text-xs font-bold rounded-full border border-green-200\">\n                        {earnedBadges.reduce((acc, curr) => acc + curr.count, 0)} Badges\n                    </span>\n                )}\n            </div>\n\n            <div className=\"p-6 flex-1 flex flex-col justify-center\">\n                {hasBadges ? (\n                    <div className=\"flex flex-wrap gap-4 justify-center\">\n                        {earnedBadges.map((badge, index) => (\n                            <motion.div\n                                key={badge.type}\n                                initial={{ opacity: 0, scale: 0.8 }}\n                                animate={{ opacity: 1, scale: 1 }}\n                                transition={{ delay: index * 0.1, duration: 0.4, type: \"spring\" }}\n                                whileHover={{ scale: 1.1 }}\n                                className=\"relative flex flex-col items-center group cursor-default\"\n                            >\n                                {/* Main Badge Circle */}\n                                <div className={`w-16 h-16 flex items-center justify-center rounded-full bg-gradient-to-br ${badge.color} text-white shadow-md ${badge.shadow} border-2 border-white dark:border-[#262626] ring-1 ring-gray-100 dark:ring-[#333]`}>\n                                    <badge.icon className=\"w-8 h-8 drop-shadow-sm\" strokeWidth={2} />\n                                </div>\n\n                                {/* Pill Count Indicator */}\n                                <div className=\"absolute -bottom-2 bg-orange-100 dark:bg-orange-500/20 text-orange-800 dark:text-orange-400 px-2 py-0.5 rounded-full border-2 border-white dark:border-[#262626] shadow-sm text-[10px] font-bold tracking-tight z-10\">\n                                    x{badge.count}\n                                </div>\n                            </motion.div>\n                        ))}\n                    </div>\n                ) : (\n                    <div className=\"text-center py-8 opacity-70\">\n                        <motion.div\n                            initial={{ scale: 0.8, opacity: 0 }}\n                            animate={{ scale: 1, opacity: 1 }}\n                            className=\"relative inline-block mb-4\"\n                        >\n                            <Trophy className=\"w-20 h-20 mx-auto text-gray-200\" />\n                            <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center\">\n                                <Lock className=\"w-4 h-4 text-gray-400\" />\n                            </div>\n                        </motion.div>\n                        <p className=\"text-gray-900 dark:text-gray-100 font-bold mb-1\">Locked</p>\n                        <p className=\"text-xs text-gray-500 dark:text-gray-400 max-w-[200px] mx-auto\">\n                            Finish in the Top 3 of a contest to unlock your first badge.\n                        </p>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AACA;AAHA;;;;AAaO,SAAS,iBAAiB,EAAE,MAAM,EAAyB;IAC9D,MAAM,eAAe;QACjB;YAAE,MAAM;YAAQ,OAAO,QAAQ,QAAQ;YAAG,MAAM,6MAAK;YAAE,OAAO;YAAQ,OAAO;YAAiC,QAAQ;YAAwB,IAAI;QAAe;QACjK;YAAE,MAAM;YAAU,OAAO,QAAQ,UAAU;YAAG,MAAM,6MAAK;YAAE,OAAO;YAAU,OAAO;YAA+B,QAAQ;YAAuB,IAAI;QAAc;QACnK;YAAE,MAAM;YAAU,OAAO,QAAQ,UAAU;YAAG,MAAM,6MAAK;YAAE,OAAO;YAAU,OAAO;YAAiC,QAAQ;YAAwB,IAAI;QAAe;KAC1K,CAAC,MAAM,CAAC,CAAA,IAAK,EAAE,KAAK,GAAG;IAExB,MAAM,YAAY,aAAa,MAAM,GAAG;IAExC,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAG,WAAU;kCAAqD;;;;;;oBAClE,2BACG,8OAAC;wBAAK,WAAU;;4BACX,aAAa,MAAM,CAAC,CAAC,KAAK,OAAS,MAAM,KAAK,KAAK,EAAE;4BAAG;;;;;;;;;;;;;0BAKrE,8OAAC;gBAAI,WAAU;0BACV,0BACG,8OAAC;oBAAI,WAAU;8BACV,aAAa,GAAG,CAAC,CAAC,OAAO,sBACtB,8OAAC,oMAAM,CAAC,GAAG;4BAEP,SAAS;gCAAE,SAAS;gCAAG,OAAO;4BAAI;4BAClC,SAAS;gCAAE,SAAS;gCAAG,OAAO;4BAAE;4BAChC,YAAY;gCAAE,OAAO,QAAQ;gCAAK,UAAU;gCAAK,MAAM;4BAAS;4BAChE,YAAY;gCAAE,OAAO;4BAAI;4BACzB,WAAU;;8CAGV,8OAAC;oCAAI,WAAW,CAAC,0EAA0E,EAAE,MAAM,KAAK,CAAC,sBAAsB,EAAE,MAAM,MAAM,CAAC,kFAAkF,CAAC;8CAC7N,cAAA,8OAAC,MAAM,IAAI;wCAAC,WAAU;wCAAyB,aAAa;;;;;;;;;;;8CAIhE,8OAAC;oCAAI,WAAU;;wCAAuN;wCAChO,MAAM,KAAK;;;;;;;;2BAdZ,MAAM,IAAI;;;;;;;;;yCAoB3B,8OAAC;oBAAI,WAAU;;sCACX,8OAAC,oMAAM,CAAC,GAAG;4BACP,SAAS;gCAAE,OAAO;gCAAK,SAAS;4BAAE;4BAClC,SAAS;gCAAE,OAAO;gCAAG,SAAS;4BAAE;4BAChC,WAAU;;8CAEV,8OAAC,gNAAM;oCAAC,WAAU;;;;;;8CAClB,8OAAC;oCAAI,WAAU;8CACX,cAAA,8OAAC,0MAAI;wCAAC,WAAU;;;;;;;;;;;;;;;;;sCAGxB,8OAAC;4BAAE,WAAU;sCAAkD;;;;;;sCAC/D,8OAAC;4BAAE,WAAU;sCAAiE;;;;;;;;;;;;;;;;;;;;;;;AAQtG"}},
    {"offset": {"line": 651, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/Algo-fox/actions/platform.action.ts"],"sourcesContent":["\"use server\";\n\nimport { JSDOM } from \"jsdom\";\nimport { auth } from \"@/lib/auth\";\nimport { prisma } from \"@/lib/prisma\";\nimport { revalidatePath, revalidateTag } from \"next/cache\";\nimport { headers } from \"next/headers\";\n\nexport async function checkCodeChefUser(handle: string) {\n    try {\n        const resdata = await fetch(\n            `https://www.codechef.com/users/${handle}`,\n            { cache: 'no-store' }\n        );\n\n        if (resdata.status == 200) {\n\n            let d = await resdata.text();\n            let data = { data: d };\n\n            // Heatmap data extraction\n            let heatMapDataCursour1 =\n                data.data.search(\"var userDailySubmissionsStats =\") +\n                \"var userDailySubmissionsStats =\".length;\n            let heatMapDataCursour2 = data.data.search(\"'#js-heatmap\") - 34;\n            let heatDataString = data.data.substring(\n                heatMapDataCursour1,\n                heatMapDataCursour2\n            );\n\n            let headMapData = null;\n            try {\n                 headMapData = JSON.parse(heatDataString);\n            } catch (e) {\n                console.log(\"Error parsing heatmap data\", e);\n            }\n\n            // Rating data extraction\n            let allRating =\n                data.data.search(\"var all_rating = \") + \"var all_rating = \".length;\n            let allRating2 = data.data.search(\"var current_user_rating =\") - 6;\n\n            let ratingData = null;\n            try {\n                 ratingData = JSON.parse(data.data.substring(allRating, allRating2));\n            } catch (e) {\n                console.log(\"Error parsing rating data\", e);\n            }\n\n            let dom = new JSDOM(data.data);\n            let document = dom.window.document;\n\n            const name = document.querySelector(\".user-details-container\")?.children[0]\n                ?.children[1]?.textContent || \"\";\n\n            // Safe extraction with optional chaining\n            const profile = document.querySelector(\".user-details-container\")?.children[0]\n                ?.children[0]?.getAttribute(\"src\") || \"\";\n\n            const currentRatingText = document.querySelector(\".rating-number\")?.textContent;\n            const currentRating = currentRatingText ? parseInt(currentRatingText) : 0;\n\n            const highestRatingText = document.querySelector(\".rating-number\")?.parentNode?.children[4]?.textContent?.split(\"Rating\")[1];\n            const highestRating = highestRatingText ? parseInt(highestRatingText) : 0;\n\n            const countryFlag = document.querySelector(\".user-country-flag\")?.getAttribute(\"src\") || \"\";\n            const countryName = document.querySelector(\".user-country-name\")?.textContent || \"\";\n\n            const globalRankText = document.querySelector(\".rating-ranks\")?.children[0]?.children[0]\n                ?.children[0]?.children[0]?.innerHTML;\n            const globalRank = globalRankText ? parseInt(globalRankText) : 0;\n\n            const countryRankText = document.querySelector(\".rating-ranks\")?.children[0]?.children[1]\n                ?.children[0]?.children[0]?.innerHTML;\n            const countryRank = countryRankText ? parseInt(countryRankText) : 0;\n\n            const stars = document.querySelector(\".rating\")?.textContent || \"unrated\";\n\n            // Extract Fully Solved Count\n            let fullySolvedCount = 0;\n            const h5Elements = document.querySelectorAll(\"h5\");\n            for (const h5 of h5Elements) {\n                if (h5.textContent?.includes(\"Fully Solved\")) {\n                    const match = h5.textContent.match(/\\d+/);\n                    if (match) {\n                        fullySolvedCount = parseInt(match[0]);\n                    }\n                    break;\n                }\n            }\n\n            return {\n                success: true,\n                status: resdata.status,\n                profile,\n                name,\n                currentRating,\n                highestRating,\n                countryFlag,\n                countryName,\n                globalRank,\n                countryRank,\n                stars,\n                heatMap: headMapData,\n                ratingData,\n                fullySolvedCount\n            };\n        }\n        else {\n            return { success: false, status: resdata.status }\n        }\n    } catch (e) {\n        console.log(e)\n        return { success: false, status: 404 }\n    }\n}\n\nexport async function verifyCodeChefOwnership(handle: string, verificationCode: string) {\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n    if (!session || !session.user) {\n        return { success: false, error: \"Unauthorized\" };\n    }\n\n    const result = await checkCodeChefUser(handle);\n\n    if (result.success && result.name) {\n        // Check if the verification code is present in the name\n        // The user edits their \"Name\" field to include the code\n        if (result.name.includes(verificationCode)) {\n             try {\n                await prisma.user.update({\n                    where: { id: session.user.id },\n                    data: {\n                        codeChefVerified: true,\n                        // Ensure the verified handle is the one stored\n                        codeChefHandle: handle\n                    }\n                });\n                revalidatePath(\"/dashboard/settings\"); // Revalidate settings pages\n                revalidateTag(`user-${session.user.id}`,\"max\"); // Invalidate user cache tag\n                return { success: true };\n            } catch (error) {\n                console.error(\"Database update error:\", error);\n                return { success: false, error: \"Failed to update verification status\" };\n            }\n        } else {\n             return { success: false, error: \"Verification code not found in CodeChef name. Please ensure you have updated your profile name.\" };\n        }\n    }\n\n    return { success: false, error: \"Failed to fetch CodeChef profile\" };\n}\n// ... (existing imports and functions)\n\nexport async function checkCodeforcesUser(handle: string) {\n    try {\n        const [userInfoRes, userStatusRes] = await Promise.all([\n            fetch(`https://codeforces.com/api/user.info?handles=${handle}`, { cache: 'no-store' }),\n            fetch(`https://codeforces.com/api/user.status?handle=${handle}`, { cache: 'no-store' })\n        ]);\n\n        if (userInfoRes.ok && userStatusRes.ok) {\n            const userData = await userInfoRes.json();\n            const statusData = await userStatusRes.json();\n\n            if (userData.status === \"OK\" && userData.result.length > 0) {\n                const user = userData.result[0];\n\n                // Calculate solved count and difficulty breakdown\n                const uniqueSolved = new Set<string>();\n                const solvedByDifficulty = {\n                    EASY: 0,\n                    MEDIUM: 0,\n                    HARD: 0,\n                    TOTAL: 0\n                };\n\n                if (statusData.status === \"OK\") {\n                    for (const submission of statusData.result) {\n                        if (submission.verdict === \"OK\") {\n                            const problemId = `${submission.problem.contestId}-${submission.problem.index}`;\n                            if (!uniqueSolved.has(problemId)) {\n                                uniqueSolved.add(problemId);\n                                const rating = submission.problem.rating;\n                                if (rating) {\n                                    if (rating < 1200) solvedByDifficulty.EASY++;\n                                    else if (rating < 1600) solvedByDifficulty.MEDIUM++; // Adjusted thresholds\n                                    else solvedByDifficulty.HARD++;\n                                } else {\n                                    // Treat unrated as easy or ignore? Let's add to Easy for now or just Total\n                                    // solvedByDifficulty.EASY++;\n                                }\n                            }\n                        }\n                    }\n                    solvedByDifficulty.TOTAL = uniqueSolved.size;\n                }\n\n                return {\n                    success: true,\n                    status: 200,\n                    firstName: user.firstName,\n                    // Check other fields if needed for existence or display\n                    rating: user.rating,\n                    rank: user.rank,\n                    maxRating: user.maxRating,\n                    maxRank: user.maxRank,\n                    avatar: user.titlePhoto || user.avatar,\n                    solvedByDifficulty\n                };\n            }\n        }\n        return { success: false, status: userInfoRes.status };\n    } catch (e) {\n        console.error(e);\n        return { success: false, status: 500 };\n    }\n}\n\nexport async function verifyCodeforcesOwnership(handle: string, verificationCode: string) {\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n    if (!session || !session.user) {\n        return { success: false, error: \"Unauthorized\" };\n    }\n\n    const result = await checkCodeforcesUser(handle);\n\n    if (result.success) {\n        // Check if the verification code is present in the first name\n        // Codeforces allows changing First Name in settings\n        if (result.firstName && result.firstName.includes(verificationCode)) {\n             try {\n                await prisma.user.update({\n                    where: { id: session.user.id },\n                    data: {\n                        codeforcesVerified: true,\n                        // Ensure the verified handle is the one stored\n                        codeforcesHandle: handle\n                    }\n                });\n                revalidatePath(\"/dashboard/settings\"); // Revalidate settings pages\n                revalidateTag(`user-${session.user.id}`,\"max\"); // Invalidate user cache tag\n                return { success: true };\n            } catch (error) {\n                console.error(\"Database update error:\", error);\n                return { success: false, error: \"Failed to update verification status\" };\n            }\n        } else {\n             return { success: false, error: \"Verification code not found in Codeforces First Name. Please ensure you have updated it in your profile settings.\" };\n        }\n    }\n\n    return { success: false, error: \"Failed to fetch Codeforces profile\" };\n}\n\n// Check LeetCode User\nexport async function checkLeetCodeUser(handle: string) {\n    try {\n        const { LeetCode } = await import(\"leetcode-query\");\n        const leetcode = new LeetCode();\n        const user = await leetcode.user(handle);\n\n        if (user && user.matchedUser) {\n            return {\n                success: true,\n                status: 200,\n                name: user.matchedUser.profile.realName,\n                avatar: user.matchedUser.profile.userAvatar,\n                submitStats: user.matchedUser.submitStats\n            };\n        }\n        return { success: false, status: 404 };\n    } catch (e) {\n        console.error(\"LeetCode check error:\", e);\n        return { success: false, status: 500 };\n    }\n}\n\n// Verify LeetCode Ownership\nexport async function verifyLeetCodeOwnership(handle: string, verificationCode: string) {\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n    if (!session || !session.user) {\n        return { success: false, error: \"Unauthorized\" };\n    }\n\n    try {\n        const result = await checkLeetCodeUser(handle);\n\n        if (result.success && result.name) {\n            // Check if verification code is in the name\n            if (result.name.includes(verificationCode)) {\n                try {\n                    await prisma.user.update({\n                        where: { id: session.user.id },\n                        data: {\n                            leetCodeVerified: true,\n                            leetCodeHandle: handle\n                        }\n                    });\n                    revalidatePath(\"/dashboard/settings\");\n                    revalidateTag(`user-${session.user.id}`,\"max\");\n                    return { success: true };\n                } catch (error) {\n                    console.error(\"Database update error:\", error);\n                    return { success: false, error: \"Failed to update verification status\" };\n                }\n            } else {\n                return { success: false, error: \"Verification code not found in LeetCode Name. Please ensure you have updated it in your profile.\" };\n            }\n        }\n    } catch (error) {\n         return { success: false, error: \"Failed to verify LeetCode profile\" };\n    }\n\n    return { success: false, error: \"Failed to fetch LeetCode profile or name is empty\" };\n}\n"],"names":[],"mappings":";;;;;;;IAQsB,oBAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA"}},
    {"offset": {"line": 663, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/Algo-fox/actions/platform.action.ts"],"sourcesContent":["\"use server\";\n\nimport { JSDOM } from \"jsdom\";\nimport { auth } from \"@/lib/auth\";\nimport { prisma } from \"@/lib/prisma\";\nimport { revalidatePath, revalidateTag } from \"next/cache\";\nimport { headers } from \"next/headers\";\n\nexport async function checkCodeChefUser(handle: string) {\n    try {\n        const resdata = await fetch(\n            `https://www.codechef.com/users/${handle}`,\n            { cache: 'no-store' }\n        );\n\n        if (resdata.status == 200) {\n\n            let d = await resdata.text();\n            let data = { data: d };\n\n            // Heatmap data extraction\n            let heatMapDataCursour1 =\n                data.data.search(\"var userDailySubmissionsStats =\") +\n                \"var userDailySubmissionsStats =\".length;\n            let heatMapDataCursour2 = data.data.search(\"'#js-heatmap\") - 34;\n            let heatDataString = data.data.substring(\n                heatMapDataCursour1,\n                heatMapDataCursour2\n            );\n\n            let headMapData = null;\n            try {\n                 headMapData = JSON.parse(heatDataString);\n            } catch (e) {\n                console.log(\"Error parsing heatmap data\", e);\n            }\n\n            // Rating data extraction\n            let allRating =\n                data.data.search(\"var all_rating = \") + \"var all_rating = \".length;\n            let allRating2 = data.data.search(\"var current_user_rating =\") - 6;\n\n            let ratingData = null;\n            try {\n                 ratingData = JSON.parse(data.data.substring(allRating, allRating2));\n            } catch (e) {\n                console.log(\"Error parsing rating data\", e);\n            }\n\n            let dom = new JSDOM(data.data);\n            let document = dom.window.document;\n\n            const name = document.querySelector(\".user-details-container\")?.children[0]\n                ?.children[1]?.textContent || \"\";\n\n            // Safe extraction with optional chaining\n            const profile = document.querySelector(\".user-details-container\")?.children[0]\n                ?.children[0]?.getAttribute(\"src\") || \"\";\n\n            const currentRatingText = document.querySelector(\".rating-number\")?.textContent;\n            const currentRating = currentRatingText ? parseInt(currentRatingText) : 0;\n\n            const highestRatingText = document.querySelector(\".rating-number\")?.parentNode?.children[4]?.textContent?.split(\"Rating\")[1];\n            const highestRating = highestRatingText ? parseInt(highestRatingText) : 0;\n\n            const countryFlag = document.querySelector(\".user-country-flag\")?.getAttribute(\"src\") || \"\";\n            const countryName = document.querySelector(\".user-country-name\")?.textContent || \"\";\n\n            const globalRankText = document.querySelector(\".rating-ranks\")?.children[0]?.children[0]\n                ?.children[0]?.children[0]?.innerHTML;\n            const globalRank = globalRankText ? parseInt(globalRankText) : 0;\n\n            const countryRankText = document.querySelector(\".rating-ranks\")?.children[0]?.children[1]\n                ?.children[0]?.children[0]?.innerHTML;\n            const countryRank = countryRankText ? parseInt(countryRankText) : 0;\n\n            const stars = document.querySelector(\".rating\")?.textContent || \"unrated\";\n\n            // Extract Fully Solved Count\n            let fullySolvedCount = 0;\n            const h5Elements = document.querySelectorAll(\"h5\");\n            for (const h5 of h5Elements) {\n                if (h5.textContent?.includes(\"Fully Solved\")) {\n                    const match = h5.textContent.match(/\\d+/);\n                    if (match) {\n                        fullySolvedCount = parseInt(match[0]);\n                    }\n                    break;\n                }\n            }\n\n            return {\n                success: true,\n                status: resdata.status,\n                profile,\n                name,\n                currentRating,\n                highestRating,\n                countryFlag,\n                countryName,\n                globalRank,\n                countryRank,\n                stars,\n                heatMap: headMapData,\n                ratingData,\n                fullySolvedCount\n            };\n        }\n        else {\n            return { success: false, status: resdata.status }\n        }\n    } catch (e) {\n        console.log(e)\n        return { success: false, status: 404 }\n    }\n}\n\nexport async function verifyCodeChefOwnership(handle: string, verificationCode: string) {\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n    if (!session || !session.user) {\n        return { success: false, error: \"Unauthorized\" };\n    }\n\n    const result = await checkCodeChefUser(handle);\n\n    if (result.success && result.name) {\n        // Check if the verification code is present in the name\n        // The user edits their \"Name\" field to include the code\n        if (result.name.includes(verificationCode)) {\n             try {\n                await prisma.user.update({\n                    where: { id: session.user.id },\n                    data: {\n                        codeChefVerified: true,\n                        // Ensure the verified handle is the one stored\n                        codeChefHandle: handle\n                    }\n                });\n                revalidatePath(\"/dashboard/settings\"); // Revalidate settings pages\n                revalidateTag(`user-${session.user.id}`,\"max\"); // Invalidate user cache tag\n                return { success: true };\n            } catch (error) {\n                console.error(\"Database update error:\", error);\n                return { success: false, error: \"Failed to update verification status\" };\n            }\n        } else {\n             return { success: false, error: \"Verification code not found in CodeChef name. Please ensure you have updated your profile name.\" };\n        }\n    }\n\n    return { success: false, error: \"Failed to fetch CodeChef profile\" };\n}\n// ... (existing imports and functions)\n\nexport async function checkCodeforcesUser(handle: string) {\n    try {\n        const [userInfoRes, userStatusRes] = await Promise.all([\n            fetch(`https://codeforces.com/api/user.info?handles=${handle}`, { cache: 'no-store' }),\n            fetch(`https://codeforces.com/api/user.status?handle=${handle}`, { cache: 'no-store' })\n        ]);\n\n        if (userInfoRes.ok && userStatusRes.ok) {\n            const userData = await userInfoRes.json();\n            const statusData = await userStatusRes.json();\n\n            if (userData.status === \"OK\" && userData.result.length > 0) {\n                const user = userData.result[0];\n\n                // Calculate solved count and difficulty breakdown\n                const uniqueSolved = new Set<string>();\n                const solvedByDifficulty = {\n                    EASY: 0,\n                    MEDIUM: 0,\n                    HARD: 0,\n                    TOTAL: 0\n                };\n\n                if (statusData.status === \"OK\") {\n                    for (const submission of statusData.result) {\n                        if (submission.verdict === \"OK\") {\n                            const problemId = `${submission.problem.contestId}-${submission.problem.index}`;\n                            if (!uniqueSolved.has(problemId)) {\n                                uniqueSolved.add(problemId);\n                                const rating = submission.problem.rating;\n                                if (rating) {\n                                    if (rating < 1200) solvedByDifficulty.EASY++;\n                                    else if (rating < 1600) solvedByDifficulty.MEDIUM++; // Adjusted thresholds\n                                    else solvedByDifficulty.HARD++;\n                                } else {\n                                    // Treat unrated as easy or ignore? Let's add to Easy for now or just Total\n                                    // solvedByDifficulty.EASY++;\n                                }\n                            }\n                        }\n                    }\n                    solvedByDifficulty.TOTAL = uniqueSolved.size;\n                }\n\n                return {\n                    success: true,\n                    status: 200,\n                    firstName: user.firstName,\n                    // Check other fields if needed for existence or display\n                    rating: user.rating,\n                    rank: user.rank,\n                    maxRating: user.maxRating,\n                    maxRank: user.maxRank,\n                    avatar: user.titlePhoto || user.avatar,\n                    solvedByDifficulty\n                };\n            }\n        }\n        return { success: false, status: userInfoRes.status };\n    } catch (e) {\n        console.error(e);\n        return { success: false, status: 500 };\n    }\n}\n\nexport async function verifyCodeforcesOwnership(handle: string, verificationCode: string) {\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n    if (!session || !session.user) {\n        return { success: false, error: \"Unauthorized\" };\n    }\n\n    const result = await checkCodeforcesUser(handle);\n\n    if (result.success) {\n        // Check if the verification code is present in the first name\n        // Codeforces allows changing First Name in settings\n        if (result.firstName && result.firstName.includes(verificationCode)) {\n             try {\n                await prisma.user.update({\n                    where: { id: session.user.id },\n                    data: {\n                        codeforcesVerified: true,\n                        // Ensure the verified handle is the one stored\n                        codeforcesHandle: handle\n                    }\n                });\n                revalidatePath(\"/dashboard/settings\"); // Revalidate settings pages\n                revalidateTag(`user-${session.user.id}`,\"max\"); // Invalidate user cache tag\n                return { success: true };\n            } catch (error) {\n                console.error(\"Database update error:\", error);\n                return { success: false, error: \"Failed to update verification status\" };\n            }\n        } else {\n             return { success: false, error: \"Verification code not found in Codeforces First Name. Please ensure you have updated it in your profile settings.\" };\n        }\n    }\n\n    return { success: false, error: \"Failed to fetch Codeforces profile\" };\n}\n\n// Check LeetCode User\nexport async function checkLeetCodeUser(handle: string) {\n    try {\n        const { LeetCode } = await import(\"leetcode-query\");\n        const leetcode = new LeetCode();\n        const user = await leetcode.user(handle);\n\n        if (user && user.matchedUser) {\n            return {\n                success: true,\n                status: 200,\n                name: user.matchedUser.profile.realName,\n                avatar: user.matchedUser.profile.userAvatar,\n                submitStats: user.matchedUser.submitStats\n            };\n        }\n        return { success: false, status: 404 };\n    } catch (e) {\n        console.error(\"LeetCode check error:\", e);\n        return { success: false, status: 500 };\n    }\n}\n\n// Verify LeetCode Ownership\nexport async function verifyLeetCodeOwnership(handle: string, verificationCode: string) {\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n    if (!session || !session.user) {\n        return { success: false, error: \"Unauthorized\" };\n    }\n\n    try {\n        const result = await checkLeetCodeUser(handle);\n\n        if (result.success && result.name) {\n            // Check if verification code is in the name\n            if (result.name.includes(verificationCode)) {\n                try {\n                    await prisma.user.update({\n                        where: { id: session.user.id },\n                        data: {\n                            leetCodeVerified: true,\n                            leetCodeHandle: handle\n                        }\n                    });\n                    revalidatePath(\"/dashboard/settings\");\n                    revalidateTag(`user-${session.user.id}`,\"max\");\n                    return { success: true };\n                } catch (error) {\n                    console.error(\"Database update error:\", error);\n                    return { success: false, error: \"Failed to update verification status\" };\n                }\n            } else {\n                return { success: false, error: \"Verification code not found in LeetCode Name. Please ensure you have updated it in your profile.\" };\n            }\n        }\n    } catch (error) {\n         return { success: false, error: \"Failed to verify LeetCode profile\" };\n    }\n\n    return { success: false, error: \"Failed to fetch LeetCode profile or name is empty\" };\n}\n"],"names":[],"mappings":";;;;;;;IA4JsB,sBAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA"}},
    {"offset": {"line": 675, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/Algo-fox/actions/platform.action.ts"],"sourcesContent":["\"use server\";\n\nimport { JSDOM } from \"jsdom\";\nimport { auth } from \"@/lib/auth\";\nimport { prisma } from \"@/lib/prisma\";\nimport { revalidatePath, revalidateTag } from \"next/cache\";\nimport { headers } from \"next/headers\";\n\nexport async function checkCodeChefUser(handle: string) {\n    try {\n        const resdata = await fetch(\n            `https://www.codechef.com/users/${handle}`,\n            { cache: 'no-store' }\n        );\n\n        if (resdata.status == 200) {\n\n            let d = await resdata.text();\n            let data = { data: d };\n\n            // Heatmap data extraction\n            let heatMapDataCursour1 =\n                data.data.search(\"var userDailySubmissionsStats =\") +\n                \"var userDailySubmissionsStats =\".length;\n            let heatMapDataCursour2 = data.data.search(\"'#js-heatmap\") - 34;\n            let heatDataString = data.data.substring(\n                heatMapDataCursour1,\n                heatMapDataCursour2\n            );\n\n            let headMapData = null;\n            try {\n                 headMapData = JSON.parse(heatDataString);\n            } catch (e) {\n                console.log(\"Error parsing heatmap data\", e);\n            }\n\n            // Rating data extraction\n            let allRating =\n                data.data.search(\"var all_rating = \") + \"var all_rating = \".length;\n            let allRating2 = data.data.search(\"var current_user_rating =\") - 6;\n\n            let ratingData = null;\n            try {\n                 ratingData = JSON.parse(data.data.substring(allRating, allRating2));\n            } catch (e) {\n                console.log(\"Error parsing rating data\", e);\n            }\n\n            let dom = new JSDOM(data.data);\n            let document = dom.window.document;\n\n            const name = document.querySelector(\".user-details-container\")?.children[0]\n                ?.children[1]?.textContent || \"\";\n\n            // Safe extraction with optional chaining\n            const profile = document.querySelector(\".user-details-container\")?.children[0]\n                ?.children[0]?.getAttribute(\"src\") || \"\";\n\n            const currentRatingText = document.querySelector(\".rating-number\")?.textContent;\n            const currentRating = currentRatingText ? parseInt(currentRatingText) : 0;\n\n            const highestRatingText = document.querySelector(\".rating-number\")?.parentNode?.children[4]?.textContent?.split(\"Rating\")[1];\n            const highestRating = highestRatingText ? parseInt(highestRatingText) : 0;\n\n            const countryFlag = document.querySelector(\".user-country-flag\")?.getAttribute(\"src\") || \"\";\n            const countryName = document.querySelector(\".user-country-name\")?.textContent || \"\";\n\n            const globalRankText = document.querySelector(\".rating-ranks\")?.children[0]?.children[0]\n                ?.children[0]?.children[0]?.innerHTML;\n            const globalRank = globalRankText ? parseInt(globalRankText) : 0;\n\n            const countryRankText = document.querySelector(\".rating-ranks\")?.children[0]?.children[1]\n                ?.children[0]?.children[0]?.innerHTML;\n            const countryRank = countryRankText ? parseInt(countryRankText) : 0;\n\n            const stars = document.querySelector(\".rating\")?.textContent || \"unrated\";\n\n            // Extract Fully Solved Count\n            let fullySolvedCount = 0;\n            const h5Elements = document.querySelectorAll(\"h5\");\n            for (const h5 of h5Elements) {\n                if (h5.textContent?.includes(\"Fully Solved\")) {\n                    const match = h5.textContent.match(/\\d+/);\n                    if (match) {\n                        fullySolvedCount = parseInt(match[0]);\n                    }\n                    break;\n                }\n            }\n\n            return {\n                success: true,\n                status: resdata.status,\n                profile,\n                name,\n                currentRating,\n                highestRating,\n                countryFlag,\n                countryName,\n                globalRank,\n                countryRank,\n                stars,\n                heatMap: headMapData,\n                ratingData,\n                fullySolvedCount\n            };\n        }\n        else {\n            return { success: false, status: resdata.status }\n        }\n    } catch (e) {\n        console.log(e)\n        return { success: false, status: 404 }\n    }\n}\n\nexport async function verifyCodeChefOwnership(handle: string, verificationCode: string) {\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n    if (!session || !session.user) {\n        return { success: false, error: \"Unauthorized\" };\n    }\n\n    const result = await checkCodeChefUser(handle);\n\n    if (result.success && result.name) {\n        // Check if the verification code is present in the name\n        // The user edits their \"Name\" field to include the code\n        if (result.name.includes(verificationCode)) {\n             try {\n                await prisma.user.update({\n                    where: { id: session.user.id },\n                    data: {\n                        codeChefVerified: true,\n                        // Ensure the verified handle is the one stored\n                        codeChefHandle: handle\n                    }\n                });\n                revalidatePath(\"/dashboard/settings\"); // Revalidate settings pages\n                revalidateTag(`user-${session.user.id}`,\"max\"); // Invalidate user cache tag\n                return { success: true };\n            } catch (error) {\n                console.error(\"Database update error:\", error);\n                return { success: false, error: \"Failed to update verification status\" };\n            }\n        } else {\n             return { success: false, error: \"Verification code not found in CodeChef name. Please ensure you have updated your profile name.\" };\n        }\n    }\n\n    return { success: false, error: \"Failed to fetch CodeChef profile\" };\n}\n// ... (existing imports and functions)\n\nexport async function checkCodeforcesUser(handle: string) {\n    try {\n        const [userInfoRes, userStatusRes] = await Promise.all([\n            fetch(`https://codeforces.com/api/user.info?handles=${handle}`, { cache: 'no-store' }),\n            fetch(`https://codeforces.com/api/user.status?handle=${handle}`, { cache: 'no-store' })\n        ]);\n\n        if (userInfoRes.ok && userStatusRes.ok) {\n            const userData = await userInfoRes.json();\n            const statusData = await userStatusRes.json();\n\n            if (userData.status === \"OK\" && userData.result.length > 0) {\n                const user = userData.result[0];\n\n                // Calculate solved count and difficulty breakdown\n                const uniqueSolved = new Set<string>();\n                const solvedByDifficulty = {\n                    EASY: 0,\n                    MEDIUM: 0,\n                    HARD: 0,\n                    TOTAL: 0\n                };\n\n                if (statusData.status === \"OK\") {\n                    for (const submission of statusData.result) {\n                        if (submission.verdict === \"OK\") {\n                            const problemId = `${submission.problem.contestId}-${submission.problem.index}`;\n                            if (!uniqueSolved.has(problemId)) {\n                                uniqueSolved.add(problemId);\n                                const rating = submission.problem.rating;\n                                if (rating) {\n                                    if (rating < 1200) solvedByDifficulty.EASY++;\n                                    else if (rating < 1600) solvedByDifficulty.MEDIUM++; // Adjusted thresholds\n                                    else solvedByDifficulty.HARD++;\n                                } else {\n                                    // Treat unrated as easy or ignore? Let's add to Easy for now or just Total\n                                    // solvedByDifficulty.EASY++;\n                                }\n                            }\n                        }\n                    }\n                    solvedByDifficulty.TOTAL = uniqueSolved.size;\n                }\n\n                return {\n                    success: true,\n                    status: 200,\n                    firstName: user.firstName,\n                    // Check other fields if needed for existence or display\n                    rating: user.rating,\n                    rank: user.rank,\n                    maxRating: user.maxRating,\n                    maxRank: user.maxRank,\n                    avatar: user.titlePhoto || user.avatar,\n                    solvedByDifficulty\n                };\n            }\n        }\n        return { success: false, status: userInfoRes.status };\n    } catch (e) {\n        console.error(e);\n        return { success: false, status: 500 };\n    }\n}\n\nexport async function verifyCodeforcesOwnership(handle: string, verificationCode: string) {\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n    if (!session || !session.user) {\n        return { success: false, error: \"Unauthorized\" };\n    }\n\n    const result = await checkCodeforcesUser(handle);\n\n    if (result.success) {\n        // Check if the verification code is present in the first name\n        // Codeforces allows changing First Name in settings\n        if (result.firstName && result.firstName.includes(verificationCode)) {\n             try {\n                await prisma.user.update({\n                    where: { id: session.user.id },\n                    data: {\n                        codeforcesVerified: true,\n                        // Ensure the verified handle is the one stored\n                        codeforcesHandle: handle\n                    }\n                });\n                revalidatePath(\"/dashboard/settings\"); // Revalidate settings pages\n                revalidateTag(`user-${session.user.id}`,\"max\"); // Invalidate user cache tag\n                return { success: true };\n            } catch (error) {\n                console.error(\"Database update error:\", error);\n                return { success: false, error: \"Failed to update verification status\" };\n            }\n        } else {\n             return { success: false, error: \"Verification code not found in Codeforces First Name. Please ensure you have updated it in your profile settings.\" };\n        }\n    }\n\n    return { success: false, error: \"Failed to fetch Codeforces profile\" };\n}\n\n// Check LeetCode User\nexport async function checkLeetCodeUser(handle: string) {\n    try {\n        const { LeetCode } = await import(\"leetcode-query\");\n        const leetcode = new LeetCode();\n        const user = await leetcode.user(handle);\n\n        if (user && user.matchedUser) {\n            return {\n                success: true,\n                status: 200,\n                name: user.matchedUser.profile.realName,\n                avatar: user.matchedUser.profile.userAvatar,\n                submitStats: user.matchedUser.submitStats\n            };\n        }\n        return { success: false, status: 404 };\n    } catch (e) {\n        console.error(\"LeetCode check error:\", e);\n        return { success: false, status: 500 };\n    }\n}\n\n// Verify LeetCode Ownership\nexport async function verifyLeetCodeOwnership(handle: string, verificationCode: string) {\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n    if (!session || !session.user) {\n        return { success: false, error: \"Unauthorized\" };\n    }\n\n    try {\n        const result = await checkLeetCodeUser(handle);\n\n        if (result.success && result.name) {\n            // Check if verification code is in the name\n            if (result.name.includes(verificationCode)) {\n                try {\n                    await prisma.user.update({\n                        where: { id: session.user.id },\n                        data: {\n                            leetCodeVerified: true,\n                            leetCodeHandle: handle\n                        }\n                    });\n                    revalidatePath(\"/dashboard/settings\");\n                    revalidateTag(`user-${session.user.id}`,\"max\");\n                    return { success: true };\n                } catch (error) {\n                    console.error(\"Database update error:\", error);\n                    return { success: false, error: \"Failed to update verification status\" };\n                }\n            } else {\n                return { success: false, error: \"Verification code not found in LeetCode Name. Please ensure you have updated it in your profile.\" };\n            }\n        }\n    } catch (error) {\n         return { success: false, error: \"Failed to verify LeetCode profile\" };\n    }\n\n    return { success: false, error: \"Failed to fetch LeetCode profile or name is empty\" };\n}\n"],"names":[],"mappings":";;;;;;;IAoQsB,oBAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA"}},
    {"offset": {"line": 687, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/Algo-fox/components/dashboard/ProblemOverviewCard.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { checkCodeChefUser, checkCodeforcesUser, checkLeetCodeUser } from \"@/actions/platform.action\";\nimport { Loader2, ExternalLink } from \"lucide-react\";\nimport {\n    LineChart,\n    Line,\n    XAxis,\n    YAxis,\n    CartesianGrid,\n    Tooltip,\n    ResponsiveContainer\n} from \"recharts\";\n\ninterface ProblemOverviewCardProps {\n    solvedByDifficulty: {\n        EASY: number;\n        MEDIUM: number;\n        HARD: number;\n    };\n    totalProblems: {\n        EASY: number;\n        MEDIUM: number;\n        HARD: number;\n        TOTAL: number;\n    };\n    problemsSolved: number;\n    leetCodeHandle?: string | null;\n    codeChefHandle?: string | null;\n    codeforcesHandle?: string | null;\n}\n\nexport function ProblemOverviewCard({\n    solvedByDifficulty,\n    totalProblems,\n    problemsSolved,\n    leetCodeHandle,\n    codeChefHandle,\n    codeforcesHandle\n}: ProblemOverviewCardProps) {\n    const [activeTab, setActiveTab] = useState<\"overview\" | \"leetcode\" | \"codechef\" | \"codeforces\">(\"overview\");\n\n    // Existing Logic for Internal Overview\n    const calculatedSolved = solvedByDifficulty.EASY + solvedByDifficulty.MEDIUM + solvedByDifficulty.HARD;\n    const total = Math.max(totalProblems.TOTAL || 1, 1);\n    const percentage = Math.round((calculatedSolved / total) * 100);\n    const easyPct = (solvedByDifficulty.EASY / total) * 100;\n    const medPct = (solvedByDifficulty.MEDIUM / total) * 100;\n    const hardPct = (solvedByDifficulty.HARD / total) * 100;\n    const radius = 100;\n    const circumference = 2 * Math.PI * radius;\n    const easyArc = (easyPct / 100) * circumference;\n    const medArc = (medPct / 100) * circumference;\n    const hardArc = (hardPct / 100) * circumference;\n\n    return (\n        <div className=\"bg-white dark:bg-[#141414] rounded-2xl border border-dashed border-gray-300 dark:border-[#262626] p-6 hover:shadow-md transition-all h-[400px] flex flex-col\">\n            <div className=\"flex items-center justify-between mb-6\">\n                <h3 className=\"text-lg font-bold text-gray-900 dark:text-gray-100\">Problem Solving Overview</h3>\n            </div>\n\n            {/* Tabs */}\n            <div className=\"flex space-x-2 mb-6 overflow-x-auto pb-2 scrollbar-hide\">\n                 {/* Tabs implementation code... */}\n                 <TabButton active={activeTab === \"overview\"} onClick={() => setActiveTab(\"overview\")}>Overview</TabButton>\n                 <TabButton active={activeTab === \"leetcode\"} onClick={() => setActiveTab(\"leetcode\")}>LeetCode</TabButton>\n                 <TabButton active={activeTab === \"codechef\"} onClick={() => setActiveTab(\"codechef\")}>CodeChef</TabButton>\n                 <TabButton active={activeTab === \"codeforces\"} onClick={() => setActiveTab(\"codeforces\")}>CodeForces</TabButton>\n            </div>\n\n            <div className=\"flex-1 min-h-0\">\n                {activeTab === \"overview\" && (\n                    <div className=\"flex flex-col-reverse sm:flex-row items-center justify-between gap-8 h-full\">\n                         <div className=\"w-full sm:w-auto min-w-[140px] space-y-3 self-center\">\n                            <LegendItem color=\"bg-green-500\" label=\"Easy\" value={solvedByDifficulty.EASY} total={totalProblems.EASY} />\n                            <LegendItem color=\"bg-orange-500\" label=\"Med.\" value={solvedByDifficulty.MEDIUM} total={totalProblems.MEDIUM} />\n                            <LegendItem color=\"bg-red-500\" label=\"Hard\" value={solvedByDifficulty.HARD} total={totalProblems.HARD} />\n                        </div>\n\n                        <div className=\"relative flex-1 flex items-center justify-center h-full\">\n                            <div className=\"relative w-48 h-48 md:w-56 md:h-56\">\n                                <svg className=\"w-full h-full transform -rotate-90\">\n                                    <circle cx=\"50%\" cy=\"50%\" r={radius} fill=\"none\" className=\"stroke-gray-100 dark:stroke-[#262626]\" strokeWidth=\"20\" />\n                                    <circle cx=\"50%\" cy=\"50%\" r={radius} fill=\"none\" stroke=\"#22c55e\" strokeWidth=\"20\" strokeDasharray={circumference} strokeDashoffset={circumference - easyArc} strokeLinecap=\"round\" />\n                                    <circle cx=\"50%\" cy=\"50%\" r={radius} fill=\"none\" stroke=\"#f97316\" strokeWidth=\"20\" strokeDasharray={circumference} strokeDashoffset={circumference - medArc} strokeLinecap=\"round\" style={{ transform: `rotate(${(easyPct / 100) * 360}deg)`, transformOrigin: \"50% 50%\" }} />\n                                    <circle cx=\"50%\" cy=\"50%\" r={radius} fill=\"none\" stroke=\"#ef4444\" strokeWidth=\"20\" strokeDasharray={circumference} strokeDashoffset={circumference - hardArc} strokeLinecap=\"round\" style={{ transform: `rotate(${((easyPct + medPct) / 100) * 360}deg)`, transformOrigin: \"50% 50%\" }} />\n                                </svg>\n                                <div className=\"absolute inset-0 flex flex-col items-center justify-center pointer-events-none\">\n                                    <span className=\"text-4xl font-extrabold text-gray-900 dark:text-gray-100 tracking-tight\">{percentage}%</span>\n                                    <span className=\"text-xs font-medium text-gray-400 uppercase tracking-wider mt-1\">Completed</span>\n                                    <span className=\"text-sm font-medium text-gray-500 mt-2\">{calculatedSolved} / {total}</span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                )}\n\n                {activeTab === \"leetcode\" && <LeetCodeView handle={leetCodeHandle} />}\n                {activeTab === \"codechef\" && <CodeChefView handle={codeChefHandle} />}\n                {activeTab === \"codeforces\" && <CodeForcesView handle={codeforcesHandle} />}\n            </div>\n        </div>\n    );\n}\n\nfunction TabButton({ active, onClick, children }: { active: boolean; onClick: () => void; children: React.ReactNode }) {\n    return (\n        <button\n            onClick={onClick}\n            className={`px-3 py-1.5 rounded-full text-xs font-medium transition-colors whitespace-nowrap ${\n                active\n                    ? \"bg-black dark:bg-white text-white dark:text-black\"\n                    : \"bg-gray-100 dark:bg-[#262626] text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-[#333]\"\n            }`}\n        >\n            {children}\n        </button>\n    );\n}\n\nfunction LegendItem({ color, label, value, total }: { color: string; label: string; value: number; total?: number }) {\n    return (\n        <div className=\"flex items-center justify-between p-2 rounded-xl bg-white dark:bg-[#1a1a1a] border border-gray-100 dark:border-[#262626]\">\n            <div className=\"flex items-center gap-2\">\n                <div className={`w-1.5 h-1.5 rounded-full ${color}`} />\n                <span className={`text-xs font-semibold ${color.replace(\"bg-\", \"text-\").replace(\"500\", \"600\")} dark:${color.replace(\"bg-\", \"text-\").replace(\"500\", \"500\")}`}>{label}</span>\n            </div>\n            <div className=\"text-right flex items-baseline gap-1 pl-4\">\n                <span className=\"text-sm font-bold text-gray-900 dark:text-gray-100\">{value}</span>\n                {total !== undefined && <span className=\"text-[10px] text-gray-400\">/ {total}</span>}\n            </div>\n        </div>\n    );\n}\n\n// --- Sub-Views ---\n\nfunction LeetCodeView({ handle }: { handle?: string | null }) {\n    const [data, setData] = useState<any>(null);\n    const [loading, setLoading] = useState(false);\n\n    useEffect(() => {\n        if (handle) {\n            setLoading(true);\n            checkLeetCodeUser(handle).then(res => {\n                if (res.success) setData(res);\n                setLoading(false);\n            });\n        }\n    }, [handle]);\n\n    if (!handle) return <div className=\"h-full flex items-center justify-center text-gray-500 text-sm\">No LeetCode handle linked</div>;\n    if (loading) return <div className=\"h-full flex items-center justify-center\"><Loader2 className=\"w-6 h-6 animate-spin text-gray-400\" /></div>;\n    if (!data) return <div className=\"h-full flex items-center justify-center text-gray-500 text-sm\">Failed to load data</div>;\n\n    const easy = data.submitStats?.acSubmissionNum?.find((s: any) => s.difficulty === \"Easy\")?.count || 0;\n    const medium = data.submitStats?.acSubmissionNum?.find((s: any) => s.difficulty === \"Medium\")?.count || 0;\n    const hard = data.submitStats?.acSubmissionNum?.find((s: any) => s.difficulty === \"Hard\")?.count || 0;\n    const total = data.submitStats?.acSubmissionNum?.find((s: any) => s.difficulty === \"All\")?.count || 0;\n\n    // Total available questions (approximate, hardcoded or if API provided)\n    // LeetCode API sometimes provides total questions count in `allQuestionsCount` but I didn't fetch it.\n    // I'll just show solved counts.\n\n    return (\n        <div className=\"flex flex-col-reverse sm:flex-row items-center justify-between gap-8 h-full\">\n            <div className=\"w-full sm:w-auto min-w-[140px] space-y-3 self-center\">\n                 <LegendItem color=\"bg-green-500\" label=\"Easy\" value={easy} />\n                 <LegendItem color=\"bg-orange-500\" label=\"Med.\" value={medium} />\n                 <LegendItem color=\"bg-red-500\" label=\"Hard\" value={hard} />\n            </div>\n             <div className=\"relative flex-1 flex items-center justify-center h-full\">\n                <div className=\"flex flex-col items-center\">\n                     <span className=\"text-4xl font-bold text-gray-900 dark:text-white\">{total}</span>\n                     <span className=\"text-xs text-gray-500 uppercase tracking-wider\">Solved</span>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nfunction CodeChefView({ handle }: { handle?: string | null }) {\n     const [data, setData] = useState<any>(null);\n    const [loading, setLoading] = useState(false);\n\n    useEffect(() => {\n        if (handle) {\n            setLoading(true);\n            checkCodeChefUser(handle).then(res => {\n                if (res.success) setData(res);\n                setLoading(false);\n            });\n        }\n    }, [handle]);\n\n    if (!handle) return <div className=\"h-full flex items-center justify-center text-gray-500 text-sm\">No CodeChef handle linked</div>;\n    if (loading) return <div className=\"h-full flex items-center justify-center\"><Loader2 className=\"w-6 h-6 animate-spin text-gray-400\" /></div>;\n    if (!data) return <div className=\"h-full flex items-center justify-center text-gray-500 text-sm\">Failed to load data</div>;\n\n    return (\n        <div className=\"h-full w-full flex flex-col gap-4\">\n            <div className=\"flex justify-between items-start\">\n                 <div className=\"grid grid-cols-2 gap-4 w-full\">\n                    <div className=\"bg-gray-50 dark:bg-[#1a1a1a] p-3 rounded-xl border border-gray-100 dark:border-[#262626]\">\n                        <div className=\"text-xs text-gray-500\">Current Rating</div>\n                        <div className=\"text-lg font-bold text-gray-900 dark:text-white\">{data.currentRating}</div>\n                         <div className=\"text-[10px] text-gray-400\">{data.stars}</div>\n                    </div>\n                     <div className=\"bg-gray-50 dark:bg-[#1a1a1a] p-3 rounded-xl border border-gray-100 dark:border-[#262626]\">\n                        <div className=\"text-xs text-gray-500\">Global Rank</div>\n                        <div className=\"text-lg font-bold text-gray-900 dark:text-white\">{data.globalRank}</div>\n                    </div>\n                      <div className=\"bg-gray-50 dark:bg-[#1a1a1a] p-3 rounded-xl border border-gray-100 dark:border-[#262626]\">\n                        <div className=\"text-xs text-gray-500\">Problems Solved</div>\n                        <div className=\"text-lg font-bold text-gray-900 dark:text-white\">{data.fullySolvedCount}</div>\n                    </div>\n                      <div className=\"bg-gray-50 dark:bg-[#1a1a1a] p-3 rounded-xl border border-gray-100 dark:border-[#262626]\">\n                        <div className=\"text-xs text-gray-500\">Contests</div>\n                        <div className=\"text-lg font-bold text-gray-900 dark:text-white\">{data.ratingData?.length || 0}</div>\n                    </div>\n                 </div>\n            </div>\n\n            {/* Simple Rating Graph */}\n            {data.ratingData && data.ratingData.length > 0 && (\n                <div className=\"flex-1 w-full min-h-0\">\n                    <ResponsiveContainer width=\"100%\" height=\"100%\">\n                        <LineChart data={data.ratingData}>\n                             <Tooltip\n                                contentStyle={{ backgroundColor: '#262626', borderColor: '#333', borderRadius: '8px', color: '#fff' }}\n                                itemStyle={{ color: '#fff' }}\n                                labelStyle={{ display: 'none' }}\n                             />\n                            <Line type=\"monotone\" dataKey=\"rating\" stroke=\"#f97316\" strokeWidth={2} dot={false} />\n                        </LineChart>\n                    </ResponsiveContainer>\n                </div>\n            )}\n        </div>\n    );\n}\n\nfunction CodeForcesView({ handle }: { handle?: string | null }) {\n    const [data, setData] = useState<any>(null);\n    const [loading, setLoading] = useState(false);\n\n    useEffect(() => {\n        if (handle) {\n            setLoading(true);\n            checkCodeforcesUser(handle).then(res => {\n                if (res.success) setData(res);\n                setLoading(false);\n            });\n        }\n    }, [handle]);\n\n    if (!handle) return <div className=\"h-full flex items-center justify-center text-gray-500 text-sm\">No CodeForces handle linked</div>;\n    if (loading) return <div className=\"h-full flex items-center justify-center\"><Loader2 className=\"w-6 h-6 animate-spin text-gray-400\" /></div>;\n    if (!data) return <div className=\"h-full flex items-center justify-center text-gray-500 text-sm\">Failed to load data</div>;\n\n    const solved = data.solvedByDifficulty || { EASY: 0, MEDIUM: 0, HARD: 0, TOTAL: 0 };\n\n\n    return (\n        <div className=\"h-full w-full flex flex-col gap-4\">\n             <div className=\"flex justify-between items-start\">\n                 <div className=\"grid grid-cols-2 gap-4 w-full\">\n                    <div className=\"bg-gray-50 dark:bg-[#1a1a1a] p-3 rounded-xl border border-gray-100 dark:border-[#262626]\">\n                        <div className=\"text-xs text-gray-500\">Rating</div>\n                        <div className=\"text-lg font-bold text-gray-900 dark:text-white\">{data.rating || \"Unrated\"}</div>\n                         <div className=\"text-[10px] text-gray-400\">{data.rank || \"-\"}</div>\n                    </div>\n                    <div className=\"bg-gray-50 dark:bg-[#1a1a1a] p-3 rounded-xl border border-gray-100 dark:border-[#262626]\">\n                        <div className=\"text-xs text-gray-500\">Max Rating</div>\n                        <div className=\"text-lg font-bold text-gray-900 dark:text-white\">{data.maxRating || \"Unrated\"}</div>\n                    </div>\n                 </div>\n            </div>\n\n            <div className=\"flex flex-col-reverse sm:flex-row items-center justify-between gap-8 h-full flex-1\">\n                 <div className=\"w-full sm:w-auto min-w-[140px] space-y-3 self-center\">\n                    <LegendItem color=\"bg-green-500\" label=\"Easy (<1200)\" value={solved.EASY} />\n                    <LegendItem color=\"bg-orange-500\" label=\"Med. (1200-1600)\" value={solved.MEDIUM} />\n                    <LegendItem color=\"bg-red-500\" label=\"Hard (1600+)\" value={solved.HARD} />\n                </div>\n                 <div className=\"relative flex-1 flex items-center justify-center h-full\">\n                    <div className=\"flex flex-col items-center\">\n                         <span className=\"text-4xl font-bold text-gray-900 dark:text-white\">{solved.TOTAL}</span>\n                         <span className=\"text-xs text-gray-500 uppercase tracking-wider\">Total Solved</span>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}