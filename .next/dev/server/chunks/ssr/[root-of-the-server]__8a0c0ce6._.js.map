{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/Algo-fox/actions/problems.ts"],"sourcesContent":["\"use server\";\n\nimport { ProblemService } from \"@/core/services/problem.service\";\nimport { Difficulty, ProblemType, ProblemDomain } from \"@prisma/client\";\nimport { headers } from \"next/headers\";\nimport { auth } from \"@/lib/auth\";\nimport { revalidatePath, updateTag, cacheTag, cacheLife } from \"next/cache\";\n\n// GETTING PUBLIC PROBLEMS\n\nexport async function getProblems(\n    page: number = 1,\n    pageSize: number = 10,\n    type: ProblemType = \"PRACTICE\",\n    domain: ProblemDomain = \"DSA\",\n    difficulty?: Difficulty,\n    tags?: string[],\n    cursor?: string\n) {\n    \"use cache: private\"; // Must be at top - allows headers() inside\n    cacheLife({ stale: 900, revalidate: 900 }); // 15 minutes default\n\n    // CHECKING IF USER IS AUTHENTICATED\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n    const userId = session?.user?.id;\n\n    const tagKey = `problems-${domain}-${type}${difficulty ? `-${difficulty}` : ''}${tags && tags.length > 0 ? `-${tags.join('-')}` : ''}${cursor ? `-cursor-${cursor}` : `-page-${page}`}${userId ? `-user-${userId}` : ''}`;\n    cacheTag(tagKey, 'problems-list', `problems-${domain}-${type}`);\n\n    return ProblemService.getProblems(page, pageSize, type, domain, userId, difficulty, tags || [], cursor);\n}\n\n// GETTING ADMIN PROBLEMS\n\nexport async function getAdminProblems(\n    page: number = 1,\n    pageSize: number = 50,\n    domain?: ProblemDomain,\n    excludeDifficulty?: Difficulty,\n    type?: ProblemType\n) {\n    \"use cache: private\"; // Must be at top - allows headers() inside\n    cacheLife({ stale: 900, revalidate: 900 }); // 15 minutes default\n\n    // CHECKING IF USER IS AUTHENTICATED\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n\n    if (!session || session.user.role !== \"ADMIN\") {\n        throw new Error(\"Unauthorized\");\n    }\n\n    const tagKey = `admin-problems-${domain || 'all'}${excludeDifficulty ? `-exclude-${excludeDifficulty}` : ''}${type ? `-type-${type}` : ''}-page-${page}`;\n    cacheTag(tagKey, 'admin-problems-list');\n\n    return ProblemService.getAdminProblems(page, pageSize, domain, excludeDifficulty, type);\n}\n\n// SEARCHING FOR PROBLEMS\n\nexport async function searchProblems(\n    term: string,\n    type: ProblemType = \"PRACTICE\",\n    domain: ProblemDomain = \"DSA\"\n) {\n    \"use cache: private\"; // Must be at top - allows headers() inside\n    cacheLife({ stale: 300, revalidate: 300 }); // 5 minutes for search results\n\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n    const userId = session?.user?.id;\n\n    const tagKey = `search-${domain}-${type}-${term.toLowerCase().slice(0, 20)}${userId ? `-user-${userId}` : ''}`;\n    cacheTag(tagKey, 'problems-search');\n\n    return ProblemService.searchProblems(term, type, domain, userId);\n}\n\n// GETTING A PROBLEM BY SLUG CACHED\n\nexport async function getProblem(slug: string) {\n    \"use cache\";\n    cacheLife({ stale: 900, revalidate: 900 }); // 15 minutes default\n\n    cacheTag(`problem-${slug}`, 'problems-list');\n\n    return ProblemService.getProblem(slug);\n}\n\n\n// CREATING A PROBLEM --> ADMIN ONLY\n\nexport async function createProblem(data: {\n    title: string;\n    description: string;\n    difficulty: Difficulty;\n    slug: string;\n    hidden: boolean;\n    hiddenQuery?: string | null;\n    domain?: ProblemDomain;\n    testCases: { input: string; output: string; hidden?: boolean }[];\n    tags?: string[];\n    useFunctionTemplate?: boolean;\n    functionTemplates?: { languageId: number; functionTemplate: string; driverCode: string }[];\n    solution?: string | null;\n}) {\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n\n    if (!session || session.user.role !== \"ADMIN\") {\n        throw new Error(\"Unauthorized\");\n    }\n\n    const result = await ProblemService.createProblem(data);\n\n    if (result.success) {\n        revalidatePath(\"/problems\");\n        revalidatePath(\"/problems/dsa\");\n        revalidatePath(\"/problems/sql\");\n        revalidatePath(\"/admin/problems\");\n        revalidatePath(\"/admin/dsa/problems\");\n        revalidatePath(\"/admin/sql/problems\");\n\n        updateTag('admin-problems-list');\n        updateTag('problems-list');\n        updateTag('problems-SQL-PRACTICE');\n        updateTag('problems-DSA-PRACTICE');\n    }\n\n    return result;\n}\n\n\n// GETTING A PROBLEM BY ID\nexport async function getProblemById(id: string) {\n    \"use cache\";\n    cacheLife({ stale: 900, revalidate: 900 }); // 15 minutes default\n\n    cacheTag(`problem-id-${id}`, 'problems-list');\n\n    return ProblemService.getProblemById(id);\n}\n\n// NAVIGATION ACTIONS\n\nexport async function getNextProblem(currentCreatedAt: Date, domain: ProblemDomain, type: ProblemType) {\n    \"use cache: private\";\n    cacheLife({ stale: 300, revalidate: 300 });\n    return ProblemService.getNextProblem(currentCreatedAt, domain, type);\n}\n\nexport async function getPreviousProblem(currentCreatedAt: Date, domain: ProblemDomain, type: ProblemType) {\n    \"use cache: private\";\n    cacheLife({ stale: 300, revalidate: 300 });\n    return ProblemService.getPreviousProblem(currentCreatedAt, domain, type);\n}\n\nexport async function getRandomProblem(domain: ProblemDomain, type: ProblemType) {\n    // No cache for random\n    return ProblemService.getRandomProblem(domain, type);\n}\n\n\n// UPDATING A PROBLEM --> ADMIN ONLY\nexport async function updateProblem(id: string, data: any) {\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n\n    // CHECKING IF USER IS ADMIN --> THROWING AN ERROR IF NOT ADMIN\n\n    if (!session || session.user.role !== \"ADMIN\") {\n        throw new Error(\"Unauthorized\");\n    }\n\n    const result = await ProblemService.updateProblem(id, data);\n\n    if (result.success) {\n        revalidatePath(\"/problems\");\n        revalidatePath(\"/problems/dsa\");\n        revalidatePath(\"/problems/sql\");\n        revalidatePath(`/admin/problems`);\n        revalidatePath(\"/admin/dsa/problems\");\n        revalidatePath(\"/admin/sql/problems\");\n\n        updateTag('admin-problems-list');\n        updateTag('problems-list');\n        updateTag(`problems-${result.data?.domain || 'DSA'}-${result.data?.type || 'PRACTICE'}`);\n        updateTag(`problem-${result.data?.slug}`);\n    }\n\n    return result;\n}\n\n\n// DELETING A PROBLEM --> ADMIN ONLY\nexport async function deleteProblem(id: string) {\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n\n    // CHECKING IF USER IS ADMIN --> THROWING AN ERROR IF NOT ADMIN\n\n    if (!session || session.user.role !== \"ADMIN\") {\n        throw new Error(\"Unauthorized\");\n    }\n\n    const result = await ProblemService.deleteProblem(id);\n\n    if (result.success) {\n        revalidatePath(\"/problems\");\n        revalidatePath(\"/problems/dsa\");\n        revalidatePath(\"/problems/sql\");\n        revalidatePath(`/admin/problems`);\n        revalidatePath(\"/admin/dsa/problems\");\n        revalidatePath(\"/admin/sql/problems\");\n\n        updateTag('admin-problems-list');\n        updateTag('problems-list');\n    }\n\n    return result;\n}\n"],"names":[],"mappings":";;;;;;;IA2IsB,iBAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA"}},
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/Algo-fox/actions/problems.ts"],"sourcesContent":["\"use server\";\n\nimport { ProblemService } from \"@/core/services/problem.service\";\nimport { Difficulty, ProblemType, ProblemDomain } from \"@prisma/client\";\nimport { headers } from \"next/headers\";\nimport { auth } from \"@/lib/auth\";\nimport { revalidatePath, updateTag, cacheTag, cacheLife } from \"next/cache\";\n\n// GETTING PUBLIC PROBLEMS\n\nexport async function getProblems(\n    page: number = 1,\n    pageSize: number = 10,\n    type: ProblemType = \"PRACTICE\",\n    domain: ProblemDomain = \"DSA\",\n    difficulty?: Difficulty,\n    tags?: string[],\n    cursor?: string\n) {\n    \"use cache: private\"; // Must be at top - allows headers() inside\n    cacheLife({ stale: 900, revalidate: 900 }); // 15 minutes default\n\n    // CHECKING IF USER IS AUTHENTICATED\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n    const userId = session?.user?.id;\n\n    const tagKey = `problems-${domain}-${type}${difficulty ? `-${difficulty}` : ''}${tags && tags.length > 0 ? `-${tags.join('-')}` : ''}${cursor ? `-cursor-${cursor}` : `-page-${page}`}${userId ? `-user-${userId}` : ''}`;\n    cacheTag(tagKey, 'problems-list', `problems-${domain}-${type}`);\n\n    return ProblemService.getProblems(page, pageSize, type, domain, userId, difficulty, tags || [], cursor);\n}\n\n// GETTING ADMIN PROBLEMS\n\nexport async function getAdminProblems(\n    page: number = 1,\n    pageSize: number = 50,\n    domain?: ProblemDomain,\n    excludeDifficulty?: Difficulty,\n    type?: ProblemType\n) {\n    \"use cache: private\"; // Must be at top - allows headers() inside\n    cacheLife({ stale: 900, revalidate: 900 }); // 15 minutes default\n\n    // CHECKING IF USER IS AUTHENTICATED\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n\n    if (!session || session.user.role !== \"ADMIN\") {\n        throw new Error(\"Unauthorized\");\n    }\n\n    const tagKey = `admin-problems-${domain || 'all'}${excludeDifficulty ? `-exclude-${excludeDifficulty}` : ''}${type ? `-type-${type}` : ''}-page-${page}`;\n    cacheTag(tagKey, 'admin-problems-list');\n\n    return ProblemService.getAdminProblems(page, pageSize, domain, excludeDifficulty, type);\n}\n\n// SEARCHING FOR PROBLEMS\n\nexport async function searchProblems(\n    term: string,\n    type: ProblemType = \"PRACTICE\",\n    domain: ProblemDomain = \"DSA\"\n) {\n    \"use cache: private\"; // Must be at top - allows headers() inside\n    cacheLife({ stale: 300, revalidate: 300 }); // 5 minutes for search results\n\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n    const userId = session?.user?.id;\n\n    const tagKey = `search-${domain}-${type}-${term.toLowerCase().slice(0, 20)}${userId ? `-user-${userId}` : ''}`;\n    cacheTag(tagKey, 'problems-search');\n\n    return ProblemService.searchProblems(term, type, domain, userId);\n}\n\n// GETTING A PROBLEM BY SLUG CACHED\n\nexport async function getProblem(slug: string) {\n    \"use cache\";\n    cacheLife({ stale: 900, revalidate: 900 }); // 15 minutes default\n\n    cacheTag(`problem-${slug}`, 'problems-list');\n\n    return ProblemService.getProblem(slug);\n}\n\n\n// CREATING A PROBLEM --> ADMIN ONLY\n\nexport async function createProblem(data: {\n    title: string;\n    description: string;\n    difficulty: Difficulty;\n    slug: string;\n    hidden: boolean;\n    hiddenQuery?: string | null;\n    domain?: ProblemDomain;\n    testCases: { input: string; output: string; hidden?: boolean }[];\n    tags?: string[];\n    useFunctionTemplate?: boolean;\n    functionTemplates?: { languageId: number; functionTemplate: string; driverCode: string }[];\n    solution?: string | null;\n}) {\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n\n    if (!session || session.user.role !== \"ADMIN\") {\n        throw new Error(\"Unauthorized\");\n    }\n\n    const result = await ProblemService.createProblem(data);\n\n    if (result.success) {\n        revalidatePath(\"/problems\");\n        revalidatePath(\"/problems/dsa\");\n        revalidatePath(\"/problems/sql\");\n        revalidatePath(\"/admin/problems\");\n        revalidatePath(\"/admin/dsa/problems\");\n        revalidatePath(\"/admin/sql/problems\");\n\n        updateTag('admin-problems-list');\n        updateTag('problems-list');\n        updateTag('problems-SQL-PRACTICE');\n        updateTag('problems-DSA-PRACTICE');\n    }\n\n    return result;\n}\n\n\n// GETTING A PROBLEM BY ID\nexport async function getProblemById(id: string) {\n    \"use cache\";\n    cacheLife({ stale: 900, revalidate: 900 }); // 15 minutes default\n\n    cacheTag(`problem-id-${id}`, 'problems-list');\n\n    return ProblemService.getProblemById(id);\n}\n\n// NAVIGATION ACTIONS\n\nexport async function getNextProblem(currentCreatedAt: Date, domain: ProblemDomain, type: ProblemType) {\n    \"use cache: private\";\n    cacheLife({ stale: 300, revalidate: 300 });\n    return ProblemService.getNextProblem(currentCreatedAt, domain, type);\n}\n\nexport async function getPreviousProblem(currentCreatedAt: Date, domain: ProblemDomain, type: ProblemType) {\n    \"use cache: private\";\n    cacheLife({ stale: 300, revalidate: 300 });\n    return ProblemService.getPreviousProblem(currentCreatedAt, domain, type);\n}\n\nexport async function getRandomProblem(domain: ProblemDomain, type: ProblemType) {\n    // No cache for random\n    return ProblemService.getRandomProblem(domain, type);\n}\n\n\n// UPDATING A PROBLEM --> ADMIN ONLY\nexport async function updateProblem(id: string, data: any) {\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n\n    // CHECKING IF USER IS ADMIN --> THROWING AN ERROR IF NOT ADMIN\n\n    if (!session || session.user.role !== \"ADMIN\") {\n        throw new Error(\"Unauthorized\");\n    }\n\n    const result = await ProblemService.updateProblem(id, data);\n\n    if (result.success) {\n        revalidatePath(\"/problems\");\n        revalidatePath(\"/problems/dsa\");\n        revalidatePath(\"/problems/sql\");\n        revalidatePath(`/admin/problems`);\n        revalidatePath(\"/admin/dsa/problems\");\n        revalidatePath(\"/admin/sql/problems\");\n\n        updateTag('admin-problems-list');\n        updateTag('problems-list');\n        updateTag(`problems-${result.data?.domain || 'DSA'}-${result.data?.type || 'PRACTICE'}`);\n        updateTag(`problem-${result.data?.slug}`);\n    }\n\n    return result;\n}\n\n\n// DELETING A PROBLEM --> ADMIN ONLY\nexport async function deleteProblem(id: string) {\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n\n    // CHECKING IF USER IS ADMIN --> THROWING AN ERROR IF NOT ADMIN\n\n    if (!session || session.user.role !== \"ADMIN\") {\n        throw new Error(\"Unauthorized\");\n    }\n\n    const result = await ProblemService.deleteProblem(id);\n\n    if (result.success) {\n        revalidatePath(\"/problems\");\n        revalidatePath(\"/problems/dsa\");\n        revalidatePath(\"/problems/sql\");\n        revalidatePath(`/admin/problems`);\n        revalidatePath(\"/admin/dsa/problems\");\n        revalidatePath(\"/admin/sql/problems\");\n\n        updateTag('admin-problems-list');\n        updateTag('problems-list');\n    }\n\n    return result;\n}\n"],"names":[],"mappings":";;;;;;;IAyKsB,gBAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA"}},
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/Algo-fox/actions/tag.action.ts"],"sourcesContent":["\"use server\";\n\nimport { prisma } from \"@/lib/prisma\";\n\nexport async function searchTags(query: string) {\n    try {\n        const tags = await prisma.tag.findMany({\n            where: {\n                name: {\n                    contains: query,\n                    mode: \"insensitive\",\n                },\n            },\n            take: 10,\n            orderBy: {\n                name: 'asc'\n            }\n        });\n\n        return { success: true, tags };\n    } catch (error) {\n        console.error(\"Failed to search tags:\", error);\n        return { success: false, error: \"Failed to search tags\" };\n    }\n}\n\nexport async function createTag(name: string) {\n    try {\n        const slug = name\n            .toLowerCase()\n            .trim()\n            .replace(/[^\\w\\s-]/g, \"\")\n            .replace(/[\\s_-]+/g, \"-\")\n            .replace(/^-+|-+$/g, \"\");\n\n        const tag = await prisma.tag.upsert({\n            where: { slug },\n            update: {},\n            create: {\n                name,\n                slug,\n            },\n        });\n\n        return { success: true, tag };\n    } catch (error) {\n        console.error(\"Failed to create tag:\", error);\n        return { success: false, error: \"Failed to create tag\" };\n    }\n}\n"],"names":[],"mappings":";;;;;;;IAIsB,aAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA"}},
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/Algo-fox/actions/tag.action.ts"],"sourcesContent":["\"use server\";\n\nimport { prisma } from \"@/lib/prisma\";\n\nexport async function searchTags(query: string) {\n    try {\n        const tags = await prisma.tag.findMany({\n            where: {\n                name: {\n                    contains: query,\n                    mode: \"insensitive\",\n                },\n            },\n            take: 10,\n            orderBy: {\n                name: 'asc'\n            }\n        });\n\n        return { success: true, tags };\n    } catch (error) {\n        console.error(\"Failed to search tags:\", error);\n        return { success: false, error: \"Failed to search tags\" };\n    }\n}\n\nexport async function createTag(name: string) {\n    try {\n        const slug = name\n            .toLowerCase()\n            .trim()\n            .replace(/[^\\w\\s-]/g, \"\")\n            .replace(/[\\s_-]+/g, \"-\")\n            .replace(/^-+|-+$/g, \"\");\n\n        const tag = await prisma.tag.upsert({\n            where: { slug },\n            update: {},\n            create: {\n                name,\n                slug,\n            },\n        });\n\n        return { success: true, tag };\n    } catch (error) {\n        console.error(\"Failed to create tag:\", error);\n        return { success: false, error: \"Failed to create tag\" };\n    }\n}\n"],"names":[],"mappings":";;;;;;;IA0BsB,YAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA"}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/Algo-fox/components/admin/TagInput.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useRef } from \"react\";\nimport { X, Search, Loader2, Plus } from \"lucide-react\";\nimport { searchTags, createTag } from \"@/actions/tag.action\";\nimport { toast } from \"sonner\";\n\n\n\ninterface Tag {\n    slug: string;\n    name: string;\n}\n\ninterface TagInputProps {\n    value: Tag[];\n    onChange: (tags: Tag[]) => void;\n    placeholder?: string;\n}\n\nexport function TagInput({ value, onChange, placeholder = \"Search or create tags...\" }: TagInputProps) {\n    const [inputValue, setInputValue] = useState(\"\");\n    const [suggestions, setSuggestions] = useState<Tag[]>([]);\n    const [isSearching, setIsSearching] = useState(false);\n    const [isCreating, setIsCreating] = useState(false);\n    const [showSuggestions, setShowSuggestions] = useState(false);\n    const wrapperRef = useRef<HTMLDivElement>(null);\n\n    // Debounce logic\n    useEffect(() => {\n        const timer = setTimeout(() => {\n            if (inputValue.trim()) {\n                handleSearch(inputValue);\n            } else {\n                setSuggestions([]);\n            }\n        }, 300);\n\n        return () => clearTimeout(timer);\n    }, [inputValue]);\n\n    // Click outside to close\n    useEffect(() => {\n        function handleClickOutside(event: MouseEvent) {\n            if (wrapperRef.current && !wrapperRef.current.contains(event.target as Node)) {\n                setShowSuggestions(false);\n            }\n        }\n        document.addEventListener(\"mousedown\", handleClickOutside);\n        return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n    }, []);\n\n    const handleSearch = async (query: string) => {\n        setIsSearching(true);\n        const res = await searchTags(query);\n        if (res.success && res.tags) {\n            // Filter out already selected tags\n            const selectedSlugs = new Set(value.map(t => t.slug));\n            setSuggestions(res.tags.filter(t => !selectedSlugs.has(t.slug)));\n        }\n        setIsSearching(false);\n        setShowSuggestions(true);\n    };\n\n    const handleSelectTag = (tag: Tag) => {\n        onChange([...value, tag]);\n        setInputValue(\"\");\n        setSuggestions([]);\n        setShowSuggestions(false);\n    };\n\n    const handleRemoveTag = (slug: string) => {\n        onChange(value.filter(t => t.slug !== slug));\n    };\n\n    const handleCreateTag = async () => {\n        if (!inputValue.trim()) return;\n        setIsCreating(true);\n        const res = await createTag(inputValue);\n        setIsCreating(false);\n\n        if (res.success && res.tag) {\n            handleSelectTag(res.tag);\n            toast.success(`Tag \"${res.tag.name}\" created`);\n        } else {\n            toast.error(\"Failed to create tag\");\n        }\n    };\n\n    const handleKeyDown = (e: React.KeyboardEvent) => {\n        if (e.key === 'Enter') {\n            e.preventDefault();\n            if (suggestions.length > 0) {\n                handleSelectTag(suggestions[0]);\n            } else if (inputValue.trim()) {\n                handleCreateTag();\n            }\n        }\n    };\n\n    return (\n        <div className=\"space-y-3\" ref={wrapperRef}>\n            <div className=\"flex flex-wrap gap-2\">\n                {value.map((tag) => (\n                    <span\n                        key={tag.slug}\n                        className=\"inline-flex items-center gap-1 px-3 py-1 bg-orange-50 text-orange-700 rounded-full text-sm font-medium border border-orange-100\"\n                    >\n                        {tag.name}\n                        <button\n                            type=\"button\"\n                            onClick={() => handleRemoveTag(tag.slug)}\n                            className=\"ml-2\"\n                        >\n                            <X className=\"w-3 h-3\" />\n                        </button>\n                    </span>\n                ))}\n            </div>\n\n            <div className=\"relative\">\n                <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                    <Search className=\"h-4 w-4 text-gray-400\" />\n                </div>\n                <input\n                    type=\"text\"\n                    value={inputValue}\n                    onChange={(e) => {\n                        setInputValue(e.target.value);\n                        setShowSuggestions(true);\n                    }}\n                    onFocus={() => {\n                        if (inputValue.trim()) setShowSuggestions(true);\n                    }}\n                    onKeyDown={handleKeyDown}\n                    className=\"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-[#333] rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all placeholder:text-gray-400 dark:placeholder:text-gray-600 bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-white\"\n                    placeholder={placeholder}\n                />\n\n                {/* Suggestions Dropdown */}\n                {showSuggestions && inputValue.trim() && (\n                    <div className=\"absolute z-50 mt-1 w-full bg-white dark:bg-[#1a1a1a] rounded-lg shadow-xl border border-gray-100 dark:border-[#333] max-h-60 overflow-y-auto\">\n                        {isSearching ? (\n                            <div className=\"p-4 text-center text-gray-400 text-sm flex items-center justify-center gap-2\">\n                                <Loader2 className=\"w-4 h-4 animate-spin\" /> Searching...\n                            </div>\n                        ) : (\n                            <div className=\"py-1\">\n                                {suggestions.map((tag) => (\n                                    <button\n                                        key={tag.slug}\n                                        type=\"button\"\n                                        onClick={() => handleSelectTag(tag)}\n                                        className=\"w-full text-left px-4 py-2 hover:bg-orange-50 dark:hover:bg-[#262626] text-gray-700 dark:text-gray-300 text-sm transition-colors flex items-center justify-between group\"\n                                    >\n                                        <span>{tag.name}</span>\n                                        <Plus className=\"w-3 h-3 opacity-0 group-hover:opacity-100 text-orange-500\" />\n                                    </button>\n                                ))}\n\n                                {suggestions.length === 0 && (\n                                    <button\n                                        type=\"button\"\n                                        onClick={handleCreateTag}\n                                        className=\"w-full text-left px-4 py-3 hover:bg-orange-50 dark:hover:bg-[#262626] text-orange-600 dark:text-orange-400 text-sm transition-colors flex items-center gap-2 border-t border-gray-50 dark:border-[#262626] font-medium\"\n                                    >\n                                        <Plus className=\"w-4 h-4\" />\n                                        Create \"{inputValue}\"\n                                        {isCreating && <Loader2 className=\"w-3 h-3 animate-spin ml-auto\" />}\n                                    </button>\n                                )}\n                            </div>\n                        )}\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 326, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/Algo-fox/lib/languages.ts"],"sourcesContent":["\nexport interface Language {\n    id: number; // Judge0 ID\n    name: string;\n    monacoLanguage: string; // Monaco Editor language identifier\n    boilerplate: string;\n}\n\nexport const LANGUAGES: Language[] = [\n    {\n        id: 63,\n        name: \"JavaScript\",\n        monacoLanguage: \"javascript\",\n        boilerplate: `const fs = require(\"fs\");\n\nconst input = fs.readFileSync(0, \"utf8\").trim().split(/\\\\s+/);\n\n// write your code here\n\nconsole.log();`\n    },\n\n    {\n        id: 62,\n        name: \"Java\",\n        monacoLanguage: \"java\",\n        boilerplate: `import java.util.*;\n\npublic class Main {\n    public static void main(String[] args) {\n\n        // write your code here\n\n        \n    }\n}`\n    },\n\n    {\n        id: 71,\n        name: \"Python\",\n        monacoLanguage: \"python\",\n        boilerplate: `import sys\n\ndata = sys.stdin.read().split()\n\n# write your code here\n\nprint()`\n    },\n\n    {\n        id: 50,\n        name: \"C\",\n        monacoLanguage: \"c\",\n        boilerplate: `#include <stdio.h>\n\nint main() {\n\n    // write your code here\n\n    return 0;\n}`\n    },\n\n    {\n        id: 54,\n        name: \"C++\",\n        monacoLanguage: \"cpp\",\n        boilerplate: `#include <bits/stdc++.h>\nusing namespace std;\n\nint main() {\n\n    // write your code here\n\n    return 0;\n}`\n    },\n\n    {\n        id: 73,\n        name: \"Rust\",\n        monacoLanguage: \"rust\",\n        boilerplate: `use std::io::{self, Read};\n\nfn main() {\n    let mut input = String::new();\n    io::stdin().read_to_string(&mut input).unwrap();\n\n    // write your code here\n}`\n    },\n\n    {\n        id: 60,\n        name: \"Go\",\n        monacoLanguage: \"go\",\n        boilerplate: `package main\n\nimport (\n    \"bufio\"\n    \"os\"\n)\n\nfunc main() {\n    in := bufio.NewReader(os.Stdin)\n\n    // write your code here\n\n}`\n    },\n    {\n        id: 82,\n        name: \"SQL\",\n        monacoLanguage: \"sql\",\n        boilerplate: `` // Empty boilerplate for SQL\n    }\n];\n\nexport function getLanguageById(id: number): Language | undefined {\n    return LANGUAGES.find(lang => lang.id === id);\n}\n\nexport function getLanguageByName(name: string): Language | undefined {\n    return LANGUAGES.find(lang => lang.name === name);\n}\n\nexport const DEFAULT_LANGUAGE_ID = 63;\n\n"],"names":[],"mappings":";;;;;;;;;;AAQO,MAAM,YAAwB;IACjC;QACI,IAAI;QACJ,MAAM;QACN,gBAAgB;QAChB,aAAa,CAAC;;;;;;cAMR,CAAC;IACX;IAEA;QACI,IAAI;QACJ,MAAM;QACN,gBAAgB;QAChB,aAAa,CAAC;;;;;;;;;CASrB,CAAC;IACE;IAEA;QACI,IAAI;QACJ,MAAM;QACN,gBAAgB;QAChB,aAAa,CAAC;;;;;;OAMf,CAAC;IACJ;IAEA;QACI,IAAI;QACJ,MAAM;QACN,gBAAgB;QAChB,aAAa,CAAC;;;;;;;CAOrB,CAAC;IACE;IAEA;QACI,IAAI;QACJ,MAAM;QACN,gBAAgB;QAChB,aAAa,CAAC;;;;;;;;CAQrB,CAAC;IACE;IAEA;QACI,IAAI;QACJ,MAAM;QACN,gBAAgB;QAChB,aAAa,CAAC;;;;;;;CAOrB,CAAC;IACE;IAEA;QACI,IAAI;QACJ,MAAM;QACN,gBAAgB;QAChB,aAAa,CAAC;;;;;;;;;;;;CAYrB,CAAC;IACE;IACA;QACI,IAAI;QACJ,MAAM;QACN,gBAAgB;QAChB,aAAa,EAAE,CAAC,4BAA4B;IAChD;CACH;AAEM,SAAS,gBAAgB,EAAU;IACtC,OAAO,UAAU,IAAI,CAAC,CAAA,OAAQ,KAAK,EAAE,KAAK;AAC9C;AAEO,SAAS,kBAAkB,IAAY;IAC1C,OAAO,UAAU,IAAI,CAAC,CAAA,OAAQ,KAAK,IAAI,KAAK;AAChD;AAEO,MAAM,sBAAsB"}},
    {"offset": {"line": 452, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/Algo-fox/components/admin/FunctionTemplateEditor.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useMemo } from \"react\";\nimport Editor from \"@monaco-editor/react\";\nimport { ChevronDown, ChevronRight, Loader2, Copy, Check } from \"lucide-react\";\nimport { LANGUAGES } from \"@/lib/languages\";\nimport { useTheme } from \"next-themes\";\n\n// DSA languages only (exclude SQL which has id 82)\nconst DSA_LANGUAGES = LANGUAGES.filter(lang => lang.id !== 82);\n\nexport interface FunctionTemplate {\n    languageId: number;\n    functionTemplate: string;\n    driverCode: string;\n}\n\ninterface FunctionTemplateEditorProps {\n    value: FunctionTemplate[];\n    onChange: (templates: FunctionTemplate[]) => void;\n    useFunctionTemplate: boolean;\n    onUseFunctionTemplateChange: (use: boolean) => void;\n}\n\nexport default function FunctionTemplateEditor({\n    value,\n    onChange,\n    useFunctionTemplate,\n    onUseFunctionTemplateChange,\n}: FunctionTemplateEditorProps) {\n    const [expandedLanguages, setExpandedLanguages] = useState<Set<number>>(new Set());\n    const [copiedFrom, setCopiedFrom] = useState<number | null>(null);\n    const { theme, systemTheme } = useTheme();\n    const currentTheme = theme === 'system' ? systemTheme : theme;\n    const isDark = currentTheme === 'dark';\n\n    // Create a map for quick lookup\n    const templateMap = useMemo(() => {\n        const map = new Map<number, FunctionTemplate>();\n        value.forEach(t => map.set(t.languageId, t));\n        return map;\n    }, [value]);\n\n    const toggleLanguage = (langId: number) => {\n        setExpandedLanguages(prev => {\n            const next = new Set(prev);\n            if (next.has(langId)) {\n                next.delete(langId);\n            } else {\n                next.add(langId);\n            }\n            return next;\n        });\n    };\n\n    const updateTemplate = (languageId: number, field: \"functionTemplate\" | \"driverCode\", newValue: string) => {\n        const existing = templateMap.get(languageId);\n        const updated: FunctionTemplate = existing\n            ? { ...existing, [field]: newValue }\n            : { languageId, functionTemplate: \"\", driverCode: \"\", [field]: newValue };\n\n        const newTemplates = value.filter(t => t.languageId !== languageId);\n        newTemplates.push(updated);\n        onChange(newTemplates);\n    };\n\n    const getTemplate = (languageId: number): FunctionTemplate => {\n        return templateMap.get(languageId) || { languageId, functionTemplate: \"\", driverCode: \"\" };\n    };\n\n    const copyToAllLanguages = (sourceLanguageId: number) => {\n        const source = getTemplate(sourceLanguageId);\n        if (!source.functionTemplate && !source.driverCode) return;\n\n        const newTemplates: FunctionTemplate[] = DSA_LANGUAGES.map(lang => ({\n            languageId: lang.id,\n            functionTemplate: source.functionTemplate,\n            driverCode: source.driverCode,\n        }));\n\n        onChange(newTemplates);\n        setCopiedFrom(sourceLanguageId);\n        setTimeout(() => setCopiedFrom(null), 2000);\n    };\n\n    const hasContent = (languageId: number): boolean => {\n        const t = getTemplate(languageId);\n        return !!(t.functionTemplate || t.driverCode);\n    };\n\n    return (\n        <div className=\"space-y-6\">\n            {/* Mode Toggle */}\n            <div className=\"bg-gray-50 dark:bg-[#141414] rounded-xl p-4 border border-gray-200 dark:border-[#262626]\">\n                <div className=\"flex items-center gap-4\">\n                    <button\n                        type=\"button\"\n                        onClick={() => onUseFunctionTemplateChange(false)}\n                        className={`flex-1 px-4 py-3 rounded-lg text-sm font-medium transition-all border-2 ${!useFunctionTemplate\n                            ? \"bg-white dark:bg-[#1a1a1a] border-orange-500 text-orange-700 dark:text-orange-400 shadow-sm\"\n                            : \"bg-transparent border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-[#1a1a1a]\"\n                            }`}\n                    >\n                        <div className=\"flex flex-col items-center gap-1\">\n                            <span className=\"font-semibold\">Use Default</span>\n                            <span className=\"text-xs opacity-75\">Standard boilerplate code</span>\n                        </div>\n                    </button>\n                    <button\n                        type=\"button\"\n                        onClick={() => onUseFunctionTemplateChange(true)}\n                        className={`flex-1 px-4 py-3 rounded-lg text-sm font-medium transition-all border-2 ${useFunctionTemplate\n                            ? \"bg-white dark:bg-[#1a1a1a] border-orange-500 text-orange-700 dark:text-orange-400 shadow-sm\"\n                            : \"bg-transparent border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-[#1a1a1a]\"\n                            }`}\n                    >\n                        <div className=\"flex flex-col items-center gap-1\">\n                            <span className=\"font-semibold\">Use Function</span>\n                            <span className=\"text-xs opacity-75\">Custom function template + driver</span>\n                        </div>\n                    </button>\n                </div>\n            </div>\n\n            {/* Function Template Editor (shown when useFunctionTemplate is true) */}\n            {useFunctionTemplate && (\n                <div className=\"space-y-3\">\n                    <div className=\"flex items-center justify-between\">\n                        <h3 className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">\n                            Language Templates\n                        </h3>\n                        <span className=\"text-xs text-gray-500 dark:text-gray-400\">\n                            Define function signature and driver code for each language\n                        </span>\n                    </div>\n\n                    {/* Language Accordion */}\n                    <div className=\"border border-gray-200 dark:border-[#262626] rounded-xl overflow-hidden\">\n                        {DSA_LANGUAGES.map((lang, idx) => {\n                            const isExpanded = expandedLanguages.has(lang.id);\n                            const template = getTemplate(lang.id);\n                            const hasTemplateContent = hasContent(lang.id);\n\n                            return (\n                                <div key={lang.id} className={idx > 0 ? \"border-t border-gray-200 dark:border-[#262626]\" : \"\"}>\n                                    {/* Language Header */}\n                                    <div className=\"w-full flex items-center justify-between px-4 py-3 bg-gray-50 dark:bg-[#1a1a1a] hover:bg-gray-100 dark:hover:bg-[#202020] transition-colors\">\n                                        <button\n                                            type=\"button\"\n                                            onClick={() => toggleLanguage(lang.id)}\n                                            className=\"flex items-center gap-3 flex-1\"\n                                        >\n                                            {isExpanded ? (\n                                                <ChevronDown className=\"w-4 h-4 text-gray-500 dark:text-gray-400\" />\n                                            ) : (\n                                                <ChevronRight className=\"w-4 h-4 text-gray-500 dark:text-gray-400\" />\n                                            )}\n                                            <span className=\"font-medium text-gray-700 dark:text-gray-200\">{lang.name}</span>\n                                            {hasTemplateContent && (\n                                                <span className=\"px-2 py-0.5 bg-green-100 dark:bg-green-500/10 text-green-700 dark:text-green-400 text-xs rounded-full font-medium\">\n                                                    Configured\n                                                </span>\n                                            )}\n                                        </button>\n                                        {isExpanded && hasTemplateContent && (\n                                            <button\n                                                type=\"button\"\n                                                onClick={() => copyToAllLanguages(lang.id)}\n                                                className=\"flex items-center gap-1.5 px-2 py-1 text-xs font-medium text-gray-600 dark:text-gray-400 hover:text-orange-600 dark:hover:text-orange-400 hover:bg-orange-50 dark:hover:bg-orange-500/10 rounded transition-colors\"\n                                            >\n                                                {copiedFrom === lang.id ? (\n                                                    <>\n                                                        <Check className=\"w-3 h-3\" />\n                                                        Copied!\n                                                    </>\n                                                ) : (\n                                                    <>\n                                                        <Copy className=\"w-3 h-3\" />\n                                                        Copy to all\n                                                    </>\n                                                )}\n                                            </button>\n                                        )}\n                                    </div>\n\n                                    {/* Language Content */}\n                                    {isExpanded && (\n                                        <div className=\"p-4 bg-white dark:bg-[#141414] space-y-4\">\n                                            {/* Function Template */}\n                                            <div className=\"space-y-2\">\n                                                <label className=\"block text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide\">\n                                                    Function Template\n                                                    <span className=\"font-normal text-gray-400 dark:text-gray-500 ml-2\">\n                                                        (What user sees as boilerplate)\n                                                    </span>\n                                                </label>\n                                                <div className=\"border border-gray-200 dark:border-[#333] rounded-lg overflow-hidden h-40\">\n                                                    <Editor\n                                                        height=\"100%\"\n                                                        language={lang.monacoLanguage}\n                                                        value={template.functionTemplate}\n                                                        theme={isDark ? \"vs-dark\" : \"vs-light\"}\n                                                        onChange={(val) => updateTemplate(lang.id, \"functionTemplate\", val || \"\")}\n                                                        options={{\n                                                            minimap: { enabled: false },\n                                                            fontSize: 13,\n                                                            lineNumbers: \"on\",\n                                                            scrollBeyondLastLine: false,\n                                                            automaticLayout: true,\n                                                            padding: { top: 8 },\n                                                        }}\n                                                        loading={\n                                                            <div className=\"flex items-center justify-center h-full\">\n                                                                <Loader2 className=\"w-5 h-5 text-orange-500 animate-spin\" />\n                                                            </div>\n                                                        }\n                                                    />\n                                                </div>\n                                            </div>\n\n                                            {/* Driver Code */}\n                                            <div className=\"space-y-2\">\n                                                <label className=\"block text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide\">\n                                                    Driver Code\n                                                    <span className=\"font-normal text-gray-400 dark:text-gray-500 ml-2\">\n                                                        (Hidden - calls user&apos;s function)\n                                                    </span>\n                                                </label>\n                                                <div className=\"border border-gray-200 dark:border-[#333] rounded-lg overflow-hidden h-48\">\n                                                    <Editor\n                                                        height=\"100%\"\n                                                        language={lang.monacoLanguage}\n                                                        value={template.driverCode}\n                                                        theme={isDark ? \"vs-dark\" : \"vs-light\"}\n                                                        onChange={(val) => updateTemplate(lang.id, \"driverCode\", val || \"\")}\n                                                        options={{\n                                                            minimap: { enabled: false },\n                                                            fontSize: 13,\n                                                            lineNumbers: \"on\",\n                                                            scrollBeyondLastLine: false,\n                                                            automaticLayout: true,\n                                                            padding: { top: 8 },\n                                                        }}\n                                                        loading={\n                                                            <div className=\"flex items-center justify-center h-full\">\n                                                                <Loader2 className=\"w-5 h-5 text-orange-500 animate-spin\" />\n                                                            </div>\n                                                        }\n                                                    />\n                                                </div>\n                                                <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n                                                    This code wraps the user&apos;s implementation. Include input parsing and function call.\n                                                </p>\n                                            </div>\n                                        </div>\n                                    )}\n                                </div>\n                            );\n                        })}\n                    </div>\n\n                    {/* Helper tip */}\n                    <div className=\"bg-blue-50 dark:bg-blue-500/10 border border-blue-200 dark:border-blue-500/20 rounded-lg p-3\">\n                        <p className=\"text-xs text-blue-700 dark:text-blue-300\">\n                            <strong>Tip:</strong> Define the function signature in &quot;Function Template&quot; and the I/O handling in &quot;Driver Code&quot;.\n                            When running, the system combines: <code className=\"bg-blue-100 dark:bg-blue-500/20 px-1 rounded\">driver code + user&apos;s function</code>\n                        </p>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 963, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/Algo-fox/components/admin/ProblemForm.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { Difficulty, ProblemDomain } from \"@prisma/client\";\nimport { toast } from \"sonner\";\nimport { useRouter } from \"next/navigation\";\nimport { Plus, Trash2, Eye, EyeOff } from \"lucide-react\";\nimport { useForm, useFieldArray } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport * as z from \"zod\";\nimport { TagInput } from \"./TagInput\";\nimport FunctionTemplateEditor, { FunctionTemplate } from \"./FunctionTemplateEditor\";\n\n\n// FUNCTION TAMPLATE SCHEMA\nconst functionTemplateSchema = z.object({\n    languageId: z.number(),\n    functionTemplate: z.string(),\n    driverCode: z.string(),\n});\n\n\n// FORM SCHEMA\nconst formSchema = z.object({\n    title: z.string().min(1, \"Title is required\"),\n    slug: z.string().min(1, \"Slug is required\"),\n    description: z.string().min(1, \"Description is required\"),\n    difficulty: z.nativeEnum(Difficulty),\n    hidden: z.boolean(),\n    hiddenQuery: z.string().optional().nullable(),\n    tags: z.array(z.string()).optional(),\n    testCases: z.array(z.object({\n        input: z.string(), // Optional for SQL\n        output: z.string().min(1, \"Output is required\"),\n        hidden: z.boolean().optional()\n    })).min(1, \"At least one test case is required\"),\n    useFunctionTemplate: z.boolean().optional(),\n    functionTemplates: z.array(functionTemplateSchema).optional(),\n    solution: z.string().optional().nullable(),\n});\n\ntype FormValues = z.infer<typeof formSchema>;\n\n// PROPS INTERFACE\ninterface ProblemFormProps {\n    initialData?: Omit<Partial<FormValues>, \"tags\"> & {\n        tags?: { name: string; slug: string }[];\n        useFunctionTemplate?: boolean;\n        functionTemplates?: FunctionTemplate[];\n    };\n    onSubmit: (data: any) => Promise<{ success: boolean; error?: string }>;\n    submitLabel: string;\n    domain?: ProblemDomain;\n    redirectPath?: string;\n}\n\nexport default function ProblemForm({ initialData, onSubmit, submitLabel, domain = \"DSA\", redirectPath }: ProblemFormProps) {\n    const [isLoading, setIsLoading] = useState(false);\n    const [currentStep, setCurrentStep] = useState(1);\n    const [selectedTags, setSelectedTags] = useState<{ name: string, slug: string }[]>(initialData?.tags || []);\n\n    //FUNCTION TAMPLATE (DSA ONLY)\n    const [useFunctionTemplate, setUseFunctionTemplate] = useState(initialData?.useFunctionTemplate || false);\n    const [functionTemplates, setFunctionTemplates] = useState<FunctionTemplate[]>(initialData?.functionTemplates || []);\n\n    // Sync state with initialData updates (crucial for edit mode)\n    useEffect(() => {\n        if (initialData?.useFunctionTemplate !== undefined) {\n            setUseFunctionTemplate(initialData.useFunctionTemplate);\n        }\n        if (initialData?.functionTemplates) {\n            setFunctionTemplates(initialData.functionTemplates);\n        }\n    }, [initialData]);\n\n    const router = useRouter();\n\n    // NUMBER OF STEPS BASED ON DOMAIN\n    const isDSA = domain === \"DSA\";\n    const totalSteps = isDSA ? 5 : 4;\n\n    const { register, control, handleSubmit, watch, setValue, trigger, formState: { errors } } = useForm<FormValues>({\n        resolver: zodResolver(formSchema),\n        defaultValues: {\n            title: initialData?.title || \"\",\n            slug: initialData?.slug || \"\",\n            description: initialData?.description || \"\",\n            difficulty: initialData?.difficulty || \"EASY\",\n            hidden: initialData?.hidden || false,\n            hiddenQuery: initialData?.hiddenQuery || \"\",\n            testCases: initialData?.testCases?.length ? initialData.testCases : [{ input: \"\", output: \"\", hidden: false }],\n            tags: initialData?.tags?.map(t => t.slug) || [],\n            useFunctionTemplate: initialData?.useFunctionTemplate || false,\n            functionTemplates: initialData?.functionTemplates || [],\n            solution: initialData?.solution || \"\",\n        }\n    });\n\n    const { fields, append, remove } = useFieldArray({\n        control,\n        name: \"testCases\"\n    });\n\n    const hiddenValue = watch(\"hidden\");\n\n    // BUILD STEPS ARRAY BASED ON DOMAIN\n    const steps = isDSA\n        ? [\n            { id: 1, name: \"Basic Details\" },\n            { id: 2, name: \"Description\" },\n            { id: 3, name: \"Solution\" },\n            { id: 4, name: \"Test Cases\" },\n            { id: 5, name: \"Code Templates\" }\n        ]\n        : [\n            { id: 1, name: \"Basic Details\" },\n            { id: 2, name: \"Description\" },\n            { id: 3, name: \"Solution\" },\n            { id: 4, name: \"Test Cases\" }\n        ];\n\n    // NEXT STEP HANDLER\n    const handleNext = async (e?: React.MouseEvent<HTMLButtonElement>) => {\n        e?.preventDefault();\n        e?.stopPropagation();\n\n        let isValid = false;\n        if (currentStep === 1) {\n            isValid = await trigger([\"title\", \"slug\", \"difficulty\"]);\n        } else if (currentStep === 2) {\n            isValid = await trigger([\"description\"]);\n        } else if (currentStep === 3) {\n            isValid = await trigger([\"solution\"]);\n        } else if (currentStep === 4) {\n            isValid = await trigger([\"testCases\"]);\n        } else {\n            isValid = true; // Step 5 (templates) has no required validation\n        }\n\n        if (isValid && currentStep < totalSteps) {\n            setCurrentStep(prev => prev + 1);\n        }\n    };\n\n    const handleBack = () => {\n        setCurrentStep(prev => prev - 1);\n    };\n\n    // ON SUBMIT\n    async function onSubmitForm(data: FormValues) {\n\n        if (isLoading) return;\n        setIsLoading(true);\n\n        const submissionData = {\n            ...data,\n            hidden: data.hidden,\n            hiddenQuery: domain === \"SQL\" ? (data.hiddenQuery?.trim() || null) : null,\n            domain,\n            tags: selectedTags.map(t => t.slug),\n            useFunctionTemplate: isDSA ? useFunctionTemplate : false,\n            functionTemplates: isDSA && useFunctionTemplate ? functionTemplates : [],\n        };\n\n        const res = await onSubmit(submissionData);\n\n        if (res.success) {\n            toast.success(\"Saved successfully\");\n            if (redirectPath !== undefined) {\n                router.push(redirectPath || \"/admin/problems\");\n                router.refresh();\n            }\n        } else {\n            toast.error(res.error || \"Something went wrong\");\n        }\n        setIsLoading(false);\n    }\n\n    return (\n        <div className=\"bg-white dark:bg-[#141414] border border-gray-200 dark:border-[#262626] rounded-2xl shadow-sm overflow-hidden\">\n            {/* Steps Header */}\n            <div className=\"border-b border-gray-100 dark:border-[#262626] bg-gray-50/50 dark:bg-[#1a1a1a] p-6\">\n                <div className=\"flex items-center justify-between max-w-2xl mx-auto\">\n                    {steps.map((step) => (\n                        <div key={step.id} className=\"flex items-center gap-3\">\n                            <div className={`\n                                w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold transition-colors\n                                ${currentStep >= step.id ? \"bg-orange-600 text-white\" : \"bg-gray-200 dark:bg-[#333] text-gray-500 dark:text-gray-400\"}\n                            `}>\n                                {step.id}                            </div>\n                            <span className={`text-sm font-medium ${currentStep >= step.id ? \"text-gray-900 dark:text-white\" : \"text-gray-400 dark:text-gray-600\"}`}>\n                                {step.name}\n                            </span>\n                            {step.id < totalSteps && <div className=\"w-12 h-0.5 bg-gray-200 mx-2\" />}\n                        </div>\n                    ))}\n                </div>\n            </div>\n\n            <form onSubmit={handleSubmit(onSubmitForm)} className=\"p-8\">\n                {/* Step 1: Basics */}\n                {currentStep === 1 && (\n                    <div className=\"space-y-6 max-w-2xl mx-auto animation-fade-in\">\n                        <div className=\"space-y-2\">\n                            <label className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">Problem Title</label>\n                            <input\n                                {...register(\"title\")}\n                                placeholder=\"e.g. Two Sum\"\n                                className=\"w-full px-4 py-3 rounded-lg border border-gray-200 dark:border-[#333] focus:border-orange-500 dark:focus:border-orange-500 focus:ring-2 focus:ring-orange-100 dark:focus:ring-orange-500/10 outline-none transition-all placeholder:text-gray-400 dark:placeholder:text-gray-600 font-medium text-gray-900 dark:text-white bg-white dark:bg-[#0a0a0a]\"\n                            />\n                            {errors.title && <p className=\"text-xs text-red-500\">{errors.title.message}</p>}\n                        </div>\n\n                        <div className=\"space-y-2\">\n                            <label className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">Slug</label>\n                            <input\n                                {...register(\"slug\")}\n                                placeholder=\"e.g. two-sum\"\n                                className=\"w-full px-4 py-3 rounded-lg border border-gray-200 dark:border-[#333] focus:border-orange-500 dark:focus:border-orange-500 focus:ring-2 focus:ring-orange-100 dark:focus:ring-orange-500/10 outline-none transition-all placeholder:text-gray-400 dark:placeholder:text-gray-600 font-medium text-gray-900 dark:text-white bg-white dark:bg-[#0a0a0a]\"\n                            />\n                            {errors.slug && <p className=\"text-xs text-red-500\">{errors.slug.message}</p>}\n                        </div>\n\n                        <div className={`grid gap-6 ${domain === \"SQL\" ? \"grid-cols-2\" : \"grid-cols-1\"}`}>\n                            <div className=\"space-y-2\">\n                                <label className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">Difficulty</label>\n                                <select\n                                    {...register(\"difficulty\")}\n                                    className=\"w-full px-4 py-3 rounded-lg border border-gray-200 dark:border-[#333] focus:border-orange-500 dark:focus:border-orange-500 focus:ring-2 focus:ring-orange-100 dark:focus:ring-orange-500/10 outline-none transition-all bg-white dark:bg-[#0a0a0a] font-medium text-gray-700 dark:text-gray-300\"\n                                >\n                                    <option value=\"EASY\">Easy</option>\n                                    <option value=\"MEDIUM\">Medium</option>\n                                    <option value=\"HARD\">Hard</option>\n                                </select>\n                            </div>\n\n                            <div className=\"space-y-2\">\n                                <label className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">Tags</label>\n                                <TagInput\n                                    value={selectedTags}\n                                    onChange={(newTags) => {\n                                        setSelectedTags(newTags);\n                                        setValue(\"tags\", newTags.map(t => t.slug));\n                                    }}\n                                />\n                            </div>\n\n                            <div className=\"space-y-2\">\n                                <label className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">Hidden</label>\n                                <div className=\"space-y-2 flex flex-col justify-end\">\n                                    <button\n                                        type=\"button\"\n                                        onClick={() => setValue(\"hidden\", !hiddenValue)}\n                                        className={`w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg text-sm font-semibold transition-colors border ${hiddenValue\n                                            ? \"bg-gray-50 dark:bg-[#1a1a1a] text-gray-600 dark:text-gray-400 border-gray-200 dark:border-[#333]\"\n                                            : \"bg-green-50 dark:bg-green-500/10 text-green-700 dark:text-green-400 border-green-200 dark:border-green-500/20\"\n                                            }`}\n                                    >\n                                        {hiddenValue ? <EyeOff className=\"w-4 h-4\" /> : <Eye className=\"w-4 h-4\" />}\n                                        {hiddenValue ? \"Hidden Problem\" : \"Visible Problem\"}\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                )}\n\n                {/* Step 2: Description */}\n                {currentStep === 2 && (\n                    <div className=\"space-y-4 max-w-4xl mx-auto animation-fade-in\">\n                        <label className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">Description (Markdown)</label>\n                        <textarea\n                            {...register(\"description\")}\n                            rows={15}\n                            placeholder=\"# Problem Description...\"\n                            className=\"w-full px-4 py-3 rounded-lg border border-gray-200 dark:border-[#333] focus:border-orange-500 dark:focus:border-orange-500 focus:ring-2 focus:ring-orange-100 dark:focus:ring-orange-500/10 outline-none transition-all font-mono text-sm leading-relaxed text-gray-900 dark:text-gray-100 bg-white dark:bg-[#0a0a0a] placeholder:text-gray-400 dark:placeholder:text-gray-600\"\n                        />\n                        {errors.description && <p className=\"text-xs text-red-500\">{errors.description.message}</p>}\n\n                        {/* Hidden Query field - only for SQL domain */}\n                        {domain === \"SQL\" && (\n                            <div className=\"space-y-2 mt-6\">\n                                <label className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">\n                                    Hidden Query (Optional)\n                                    <span className=\"text-xs text-gray-500 dark:text-gray-400 font-normal ml-2\">\n                                        This SQL query will be prepended to the user's code before execution\n                                    </span>\n                                </label>\n                                <textarea\n                                    {...register(\"hiddenQuery\")}\n                                    rows={5}\n                                    placeholder=\"-- e.g. CREATE TABLE temp_table AS SELECT * FROM ...\"\n                                    className=\"w-full px-4 py-3 rounded-lg border border-gray-200 dark:border-[#333] focus:border-orange-500 dark:focus:border-orange-500 focus:ring-2 focus:ring-orange-100 dark:focus:ring-orange-500/10 outline-none transition-all font-mono text-sm leading-relaxed text-gray-900 dark:text-gray-100 bg-white dark:bg-[#0a0a0a]\"\n                                />\n                            </div>\n                        )}\n                    </div>\n                )}\n\n                {/* Step 3: Solution */}\n                {currentStep === 3 && (\n                    <div className=\"space-y-4 max-w-4xl mx-auto animation-fade-in\">\n                        <label className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">Solution (Markdown)</label>\n                        <p className=\"text-xs text-gray-500 dark:text-gray-400 mb-2\">This solution will be visible only to users who have successfully solved the problem.</p>\n                        <textarea\n                            {...register(\"solution\")}\n                            rows={15}\n                            placeholder=\"# Detailed Solution...\"\n                            className=\"w-full px-4 py-3 rounded-lg border border-gray-200 dark:border-[#333] focus:border-orange-500 dark:focus:border-orange-500 focus:ring-2 focus:ring-orange-100 dark:focus:ring-orange-500/10 outline-none transition-all font-mono text-sm leading-relaxed text-gray-900 dark:text-gray-100 bg-white dark:bg-[#0a0a0a]\"\n                        />\n                        {errors.solution && <p className=\"text-xs text-red-500\">{errors.solution.message}</p>}\n                    </div>\n                )}\n\n                {/* Step 4: Test Cases */}\n                {currentStep === 4 && (\n                    <div className=\"space-y-6 max-w-3xl mx-auto animation-fade-in\">\n                        <div className=\"flex items-center justify-between\">\n                            <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">Test Cases</h3>\n                            <button\n                                type=\"button\"\n                                onClick={() => append({ input: \"\", output: \"\", hidden: false })}\n                                className=\"flex items-center gap-2 px-3 py-1.5 text-orange-600 hover:bg-orange-50 rounded-lg text-sm font-medium transition-colors\"\n                            >\n                                <Plus className=\"w-4 h-4\" />\n                                Add Case\n                            </button>\n                        </div>\n\n                        <div className=\"space-y-4\">\n                            {fields.map((field, index) => (\n                                <div key={field.id} className=\"flex gap-4 p-4 border border-gray-100 dark:border-[#262626] rounded-xl bg-gray-50/50 dark:bg-[#1a1a1a] hover:border-orange-200 dark:hover:border-orange-500/30 transition-colors\">\n                                    <div className=\"flex-1 space-y-2\">\n                                        <label className=\"text-xs font-medium text-gray-500 dark:text-gray-400\">\n                                            INPUT {domain === \"SQL\" && <span className=\"text-[10px] font-normal opacity-70 ml-1\">(OPTIONAL)</span>}\n                                        </label>\n                                        <textarea\n                                            {...register(`testCases.${index}.input` as const)}\n                                            className=\"w-full px-3 py-2 rounded-md border border-gray-200 dark:border-[#333] focus:border-orange-500 dark:focus:border-orange-500 outline-none text-sm font-mono bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-gray-100\"\n                                            rows={2}\n                                        />\n                                    </div>\n                                    <div className=\"flex-1 space-y-2\">\n                                        <label className=\"text-xs font-medium text-gray-500\">OUTPUT</label>\n                                        <textarea\n                                            {...register(`testCases.${index}.output` as const)}\n                                            className=\"w-full px-3 py-2 rounded-md border border-gray-200 dark:border-[#333] focus:border-orange-500 dark:focus:border-orange-500 outline-none text-sm font-mono bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-gray-100\"\n                                            rows={2}\n                                        />\n                                    </div>\n                                    <div className=\"flex flex-col gap-2 pt-6 items-center\">\n                                        <label className=\"flex items-center gap-2 cursor-pointer group\" title=\"Hidden Test Case\">\n                                            <input\n                                                type=\"checkbox\"\n                                                {...register(`testCases.${index}.hidden` as const)}\n                                                className=\"w-4 h-4 rounded border-gray-300 dark:border-[#444] text-orange-600 focus:ring-orange-500 dark:bg-[#0a0a0a] cursor-pointer\"\n                                            />\n                                            <span className=\"text-xs text-gray-500 dark:text-gray-400 font-medium group-hover:text-gray-700 dark:group-hover:text-gray-200 transition-colors\">Hidden</span>\n                                        </label>\n                                        <button type=\"button\" onClick={() => remove(index)} className=\"p-2 text-gray-400 hover:text-red-500 transition-colors\">\n                                            <Trash2 className=\"w-4 h-4\" />\n                                        </button>\n                                    </div>\n                                </div>\n                            ))}\n                            {errors.testCases && <p className=\"text-xs text-red-500\">{errors.testCases.root?.message || \"Invalid test cases\"}</p>}\n                        </div>\n                    </div>\n                )}\n\n                {/* Step 5: Code Templates (DSA only) */}\n                {isDSA && currentStep === 5 && (\n                    <div className=\"space-y-6 max-w-4xl mx-auto animation-fade-in\">\n                        <div className=\"mb-4\">\n                            <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">Code Templates</h3>\n                            <p className=\"text-sm text-gray-500 dark:text-gray-400\">Choose how users will start solving this problem.</p>\n                        </div>\n                        <FunctionTemplateEditor\n                            value={functionTemplates}\n                            onChange={setFunctionTemplates}\n                            useFunctionTemplate={useFunctionTemplate}\n                            onUseFunctionTemplateChange={setUseFunctionTemplate}\n                        />\n                    </div>\n                )}\n\n                {/* Footer Actions */}\n                <div className=\"mt-8 pt-6 border-t border-gray-100 dark:border-[#262626] flex justify-between\">\n                    <button\n                        type=\"button\"\n                        onClick={handleBack}\n                        disabled={currentStep === 1}\n                        className=\"px-6 py-2.5 rounded-lg text-sm font-medium text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-[#1a1a1a] hover:text-gray-900 dark:hover:text-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n                    >\n                        Back\n                    </button>\n\n                    {currentStep < totalSteps ? (\n                        <button\n                            type=\"button\"\n                            onClick={handleNext}\n                            className=\"px-6 py-2.5 rounded-lg bg-gray-900 dark:bg-white text-white dark:text-gray-900 text-sm font-medium hover:bg-gray-800 dark:hover:bg-gray-200 transition-colors\"\n                        >\n                            Next Step\n                        </button>\n                    ) : (\n                        <button\n                            type=\"submit\"\n                            disabled={isLoading}\n                            className=\"px-8 py-2.5 rounded-lg bg-orange-600 text-white text-sm font-bold hover:bg-orange-700 transition-colors disabled:opacity-70 flex items-center gap-2\"\n                        >\n                            {isLoading ? \"Saving...\" : submitLabel}\n                        </button>\n                    )}\n                </div>\n            </form>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1841, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/Algo-fox/components/admin/ConceptForm.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { toast } from \"sonner\";\nimport { useRouter } from \"next/navigation\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport * as z from \"zod\";\n\nconst formSchema = z.object({\n    title: z.string().min(1, \"Title is required\"),\n    slug: z.string().min(1, \"Slug is required\"),\n    description: z.string().min(1, \"Content (Markdown) is required\"),\n    hidden: z.boolean(),\n});\n\ntype FormValues = z.infer<typeof formSchema>;\n\ninterface ConceptFormProps {\n    onSubmit: (data: any) => Promise<{ success: boolean; error?: string }>;\n    submitLabel?: string;\n    initialData?: Partial<FormValues>;\n}\n\nexport default function ConceptForm({ onSubmit, submitLabel = \"Create Concept\", initialData }: ConceptFormProps) {\n    const [isLoading, setIsLoading] = useState(false);\n    const router = useRouter();\n\n    const { register, handleSubmit, formState: { errors } } = useForm<FormValues>({\n        resolver: zodResolver(formSchema),\n        defaultValues: {\n            title: initialData?.title || \"\",\n            slug: initialData?.slug || \"\",\n            description: initialData?.description || \"\",\n            hidden: initialData?.hidden || false,\n        }\n    });\n\n    async function onSubmitForm(data: FormValues) {\n        setIsLoading(true);\n\n        const submissionData = {\n            ...data,\n            difficulty: \"CONCEPT\",\n            testCases: [], // No test cases for concepts\n            tags: [],\n        };\n\n        const res = await onSubmit(submissionData);\n\n        if (res.success) {\n            toast.success(\"Concept created successfully\");\n        } else {\n            toast.error(res.error || \"Something went wrong\");\n        }\n        setIsLoading(false);\n    }\n\n    return (\n        <div className=\"bg-white dark:bg-[#141414] border border-gray-200 dark:border-[#262626] rounded-2xl shadow-sm overflow-hidden p-8\">\n            <form onSubmit={handleSubmit(onSubmitForm)} className=\"space-y-6\">\n                <div className=\"space-y-2\">\n                    <label className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">Concept Title</label>\n                    <input\n                        {...register(\"title\")}\n                        placeholder=\"e.g. Introduction to Arrays\"\n                        className=\"w-full px-4 py-3 rounded-lg border border-gray-200 dark:border-[#333] focus:border-orange-500 dark:focus:border-orange-500 focus:ring-2 focus:ring-orange-100 dark:focus:ring-orange-500/10 outline-none transition-all placeholder:text-gray-400 dark:placeholder:text-gray-600 font-medium text-gray-900 dark:text-white bg-white dark:bg-[#0a0a0a]\"\n                    />\n                    {errors.title && <p className=\"text-xs text-red-500\">{errors.title.message}</p>}\n                </div>\n\n                <div className=\"space-y-2\">\n                    <label className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">Slug</label>\n                    <input\n                        {...register(\"slug\")}\n                        placeholder=\"e.g. intro-arrays\"\n                        className=\"w-full px-4 py-3 rounded-lg border border-gray-200 dark:border-[#333] focus:border-orange-500 dark:focus:border-orange-500 focus:ring-2 focus:ring-orange-100 dark:focus:ring-orange-500/10 outline-none transition-all placeholder:text-gray-400 dark:placeholder:text-gray-600 font-medium text-gray-900 dark:text-white bg-white dark:bg-[#0a0a0a]\"\n                    />\n                    {errors.slug && <p className=\"text-xs text-red-500\">{errors.slug.message}</p>}\n                </div>\n\n                <div className=\"space-y-2\">\n                    <label className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">Content (Markdown)</label>\n                    <textarea\n                        {...register(\"description\")}\n                        rows={12}\n                        placeholder=\"# Introduction...\"\n                        className=\"w-full px-4 py-3 rounded-lg border border-gray-200 dark:border-[#333] focus:border-orange-500 dark:focus:border-orange-500 focus:ring-2 focus:ring-orange-100 dark:focus:ring-orange-500/10 outline-none transition-all font-mono text-sm leading-relaxed text-gray-900 dark:text-gray-100 bg-white dark:bg-[#0a0a0a] placeholder:text-gray-400 dark:placeholder:text-gray-600\"\n                    />\n                    {errors.description && <p className=\"text-xs text-red-500\">{errors.description.message}</p>}\n                </div>\n\n                <div className=\"pt-4 flex justify-end\">\n                    <button\n                        type=\"submit\"\n                        disabled={isLoading}\n                        className=\"px-8 py-2.5 rounded-lg bg-orange-600 text-white text-sm font-bold hover:bg-orange-700 transition-colors disabled:opacity-70\"\n                    >\n                        {isLoading ? \"Saving...\" : submitLabel}\n                    </button>\n                </div>\n            </form>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AASA,MAAM,aAAa,yJAAQ,CAAC;IACxB,OAAO,yJAAQ,GAAG,GAAG,CAAC,GAAG;IACzB,MAAM,yJAAQ,GAAG,GAAG,CAAC,GAAG;IACxB,aAAa,yJAAQ,GAAG,GAAG,CAAC,GAAG;IAC/B,QAAQ,0JAAS;AACrB;AAUe,SAAS,YAAY,EAAE,QAAQ,EAAE,cAAc,gBAAgB,EAAE,WAAW,EAAoB;IAC3G,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,SAAS,IAAA,+IAAS;IAExB,MAAM,EAAE,QAAQ,EAAE,YAAY,EAAE,WAAW,EAAE,MAAM,EAAE,EAAE,GAAG,IAAA,yKAAO,EAAa;QAC1E,UAAU,IAAA,6KAAW,EAAC;QACtB,eAAe;YACX,OAAO,aAAa,SAAS;YAC7B,MAAM,aAAa,QAAQ;YAC3B,aAAa,aAAa,eAAe;YACzC,QAAQ,aAAa,UAAU;QACnC;IACJ;IAEA,eAAe,aAAa,IAAgB;QACxC,aAAa;QAEb,MAAM,iBAAiB;YACnB,GAAG,IAAI;YACP,YAAY;YACZ,WAAW,EAAE;YACb,MAAM,EAAE;QACZ;QAEA,MAAM,MAAM,MAAM,SAAS;QAE3B,IAAI,IAAI,OAAO,EAAE;YACb,iJAAK,CAAC,OAAO,CAAC;QAClB,OAAO;YACH,iJAAK,CAAC,KAAK,CAAC,IAAI,KAAK,IAAI;QAC7B;QACA,aAAa;IACjB;IAEA,qBACI,8OAAC;QAAI,WAAU;kBACX,cAAA,8OAAC;YAAK,UAAU,aAAa;YAAe,WAAU;;8BAClD,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAM,WAAU;sCAAyD;;;;;;sCAC1E,8OAAC;4BACI,GAAG,SAAS,QAAQ;4BACrB,aAAY;4BACZ,WAAU;;;;;;wBAEb,OAAO,KAAK,kBAAI,8OAAC;4BAAE,WAAU;sCAAwB,OAAO,KAAK,CAAC,OAAO;;;;;;;;;;;;8BAG9E,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAM,WAAU;sCAAyD;;;;;;sCAC1E,8OAAC;4BACI,GAAG,SAAS,OAAO;4BACpB,aAAY;4BACZ,WAAU;;;;;;wBAEb,OAAO,IAAI,kBAAI,8OAAC;4BAAE,WAAU;sCAAwB,OAAO,IAAI,CAAC,OAAO;;;;;;;;;;;;8BAG5E,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAM,WAAU;sCAAyD;;;;;;sCAC1E,8OAAC;4BACI,GAAG,SAAS,cAAc;4BAC3B,MAAM;4BACN,aAAY;4BACZ,WAAU;;;;;;wBAEb,OAAO,WAAW,kBAAI,8OAAC;4BAAE,WAAU;sCAAwB,OAAO,WAAW,CAAC,OAAO;;;;;;;;;;;;8BAG1F,8OAAC;oBAAI,WAAU;8BACX,cAAA,8OAAC;wBACG,MAAK;wBACL,UAAU;wBACV,WAAU;kCAET,YAAY,cAAc;;;;;;;;;;;;;;;;;;;;;;AAMnD"}},
    {"offset": {"line": 2036, "column": 0}, "map": {"version":3,"sources":["file:///home/vishnu/Documents/projects/Algo-fox/app/%28main%29/admin/problems/%5Bid%5D/edit/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { getProblemById, updateProblem } from \"@/actions/problems\";\nimport ProblemForm from \"@/components/admin/ProblemForm\";\nimport ConceptForm from \"@/components/admin/ConceptForm\";\nimport { useParams } from \"next/navigation\";\nimport { useEffect, useState } from \"react\";\nimport { toast } from \"sonner\";\nimport { Difficulty } from \"@prisma/client\";\nimport { Suspense } from \"react\";\nimport Link from \"next/link\";\nimport { ArrowLeft } from \"lucide-react\";\n\nfunction EditProblemContent() {\n    const params = useParams();\n    const id = params?.id as string;\n    const [problem, setProblem] = useState<any>(null);\n    const [isLoading, setIsLoading] = useState(true);\n\n    useEffect(() => {\n        const fetchProblem = async () => {\n            if (!id) return;\n            const res = await getProblemById(id);\n            if (res.success) {\n                setProblem(res.data);\n            } else {\n                toast.error(\"Failed to fetch problem\");\n            }\n            setIsLoading(false);\n        };\n        fetchProblem();\n    }, [id]);\n\n    if (isLoading) {\n        return (\n            <div className=\"h-[60vh] flex items-center justify-center\">\n                <div className=\"flex flex-col items-center gap-4\">\n                    <div className=\"animate-spin rounded-full h-12 w-12 border-4 border-orange-500 border-t-transparent\"></div>\n                    <p className=\"text-gray-500 font-medium\">Loading problem data...</p>\n                </div>\n            </div>\n        );\n    }\n\n    if (!problem) {\n        return (\n            <div className=\"h-[60vh] flex items-center justify-center text-center\">\n                <div>\n                    <h1 className=\"text-2xl font-bold text-gray-900 mb-2\">Problem Not Found</h1>\n                    <p className=\"text-gray-500\">The problem you are looking for does not exist.</p>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"w-full max-w-5xl mx-auto space-y-8 animate-fade-in-up\">\n            <div className=\"flex flex-col gap-1 mb-8\">\n                <Link\n                    href=\"/admin/dsa/problems\"\n                    className=\"inline-flex items-center gap-2 text-sm font-medium text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-6 transition-colors\"\n                >\n                    <ArrowLeft className=\"w-4 h-4\" />\n                    Back to Problems\n                </Link>\n                <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white tracking-tight\">Edit Problem</h1>\n                <p className=\"text-gray-500 dark:text-gray-400\">Update problem details and test cases.</p>\n            </div>\n\n            <div>\n                {problem.difficulty === \"CONCEPT\" ? (\n                    <ConceptForm\n                        initialData={{\n                            title: problem.title,\n                            slug: problem.slug,\n                            description: problem.description,\n                            hidden: problem.hidden,\n                        }}\n                        onSubmit={(data) => updateProblem(id, data)}\n                        submitLabel=\"Save Changes\"\n                    />\n                ) : (\n                    <ProblemForm\n                        initialData={{\n                            title: problem.title,\n                            slug: problem.slug,\n                            description: problem.description,\n                            difficulty: problem.difficulty as Difficulty,\n                            hidden: problem.hidden,\n                            hiddenQuery: problem.hiddenQuery || null,\n                            testCases: problem.testCases || [],\n                            tags: problem.tags || [],\n                            useFunctionTemplate: problem.useFunctionTemplate || false,\n                            functionTemplates: problem.functionTemplates || [],\n                            solution: problem.solution || \"\"\n                        }}\n                        onSubmit={(data) => updateProblem(id, data)}\n                        submitLabel=\"Save Changes\"\n                        domain={problem.domain || \"DSA\"}\n                    />\n                )}\n            </div>\n        </div>\n    );\n}\n\nexport default function EditProblemPage() {\n    return (\n        <Suspense fallback={\n            <div className=\"h-[60vh] flex items-center justify-center\">\n                <div className=\"flex flex-col items-center gap-4\">\n                    <div className=\"animate-spin rounded-full h-12 w-12 border-4 border-orange-500 border-t-transparent\"></div>\n                    <p className=\"text-gray-500 font-medium\">Loading problem data...</p>\n                </div>\n            </div>\n        }>\n            <EditProblemContent />\n        </Suspense>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAXA;;;;;;;;;;;AAaA,SAAS;IACL,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,KAAK,QAAQ;IACnB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAM;IAC5C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAE3C,IAAA,kNAAS,EAAC;QACN,MAAM,eAAe;YACjB,IAAI,CAAC,IAAI;YACT,MAAM,MAAM,MAAM,IAAA,iKAAc,EAAC;YACjC,IAAI,IAAI,OAAO,EAAE;gBACb,WAAW,IAAI,IAAI;YACvB,OAAO;gBACH,iJAAK,CAAC,KAAK,CAAC;YAChB;YACA,aAAa;QACjB;QACA;IACJ,GAAG;QAAC;KAAG;IAEP,IAAI,WAAW;QACX,qBACI,8OAAC;YAAI,WAAU;sBACX,cAAA,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAE,WAAU;kCAA4B;;;;;;;;;;;;;;;;;IAIzD;IAEA,IAAI,CAAC,SAAS;QACV,qBACI,8OAAC;YAAI,WAAU;sBACX,cAAA,8OAAC;;kCACG,8OAAC;wBAAG,WAAU;kCAAwC;;;;;;kCACtD,8OAAC;wBAAE,WAAU;kCAAgB;;;;;;;;;;;;;;;;;IAI7C;IAEA,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;;kCACX,8OAAC,uKAAI;wBACD,MAAK;wBACL,WAAU;;0CAEV,8OAAC,6NAAS;gCAAC,WAAU;;;;;;4BAAY;;;;;;;kCAGrC,8OAAC;wBAAG,WAAU;kCAAkE;;;;;;kCAChF,8OAAC;wBAAE,WAAU;kCAAmC;;;;;;;;;;;;0BAGpD,8OAAC;0BACI,QAAQ,UAAU,KAAK,0BACpB,8OAAC,8IAAW;oBACR,aAAa;wBACT,OAAO,QAAQ,KAAK;wBACpB,MAAM,QAAQ,IAAI;wBAClB,aAAa,QAAQ,WAAW;wBAChC,QAAQ,QAAQ,MAAM;oBAC1B;oBACA,UAAU,CAAC,OAAS,IAAA,gKAAa,EAAC,IAAI;oBACtC,aAAY;;;;;yCAGhB,8OAAC,8IAAW;oBACR,aAAa;wBACT,OAAO,QAAQ,KAAK;wBACpB,MAAM,QAAQ,IAAI;wBAClB,aAAa,QAAQ,WAAW;wBAChC,YAAY,QAAQ,UAAU;wBAC9B,QAAQ,QAAQ,MAAM;wBACtB,aAAa,QAAQ,WAAW,IAAI;wBACpC,WAAW,QAAQ,SAAS,IAAI,EAAE;wBAClC,MAAM,QAAQ,IAAI,IAAI,EAAE;wBACxB,qBAAqB,QAAQ,mBAAmB,IAAI;wBACpD,mBAAmB,QAAQ,iBAAiB,IAAI,EAAE;wBAClD,UAAU,QAAQ,QAAQ,IAAI;oBAClC;oBACA,UAAU,CAAC,OAAS,IAAA,gKAAa,EAAC,IAAI;oBACtC,aAAY;oBACZ,QAAQ,QAAQ,MAAM,IAAI;;;;;;;;;;;;;;;;;AAMlD;AAEe,SAAS;IACpB,qBACI,8OAAC,iNAAQ;QAAC,wBACN,8OAAC;YAAI,WAAU;sBACX,cAAA,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAE,WAAU;kCAA4B;;;;;;;;;;;;;;;;;kBAIjD,cAAA,8OAAC;;;;;;;;;;AAGb"}}]
}