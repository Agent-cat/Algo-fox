{"version":3,"sources":["../../../../components/settings/PlatformSettings.tsx/__nextjs-internal-proxy.mjs","../../../../app/%28main%29/dashboard/settings/platform/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const PlatformSettings = registerClientReference(\n    function() { throw new Error(\"Attempted to call PlatformSettings() from the server but PlatformSettings is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/settings/PlatformSettings.tsx\",\n    \"PlatformSettings\",\n);\n","import { PlatformSettings } from \"@/components/settings/PlatformSettings\";\nimport { prisma } from \"@/lib/prisma\";\nimport { auth } from \"@/lib/auth\";\nimport { headers } from \"next/headers\";\nimport { redirect } from \"next/navigation\";\n\nexport default async function PlatformSettingsPage() {\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n\n    if (!session?.user?.id) {\n        redirect(\"/signin\");\n    }\n\n    const user = await prisma.user.findUnique({\n        where: { id: session.user.id },\n        select: {\n            leetCodeHandle: true,\n            codeChefHandle: true,\n            codeforcesHandle: true,\n            githubHandle: true,\n            codeChefVerified: true,\n            codeforcesVerified: true,\n            leetCodeVerified: true,\n            // These fields might not exist in DB yet, but I'll try to select them if they existed or return null.\n            // Since they don't exist in schema, prisma will error if I select them.\n            // So I will NOT select them. I will pass them as null/undefined to the component.\n        }\n    });\n\n    if (!user) {\n        redirect(\"/signin\");\n    }\n\n    // Transform undefined to null for serialization if needed, or just pass as is.\n    // PlatformSettings optional props handle it.\n\n    return (\n        <PlatformSettings user={user} />\n    );\n}\n"],"names":[],"mappings":"ggBAEO,IAAM,EAAmB,CAAA,EAAA,AADhC,EAAA,CAAA,CAAA,QACgC,uBAAA,AAAuB,EACnD,WAAa,MAAM,AAAI,MAAM,8OAAgP,EAC7Q,yEACA,6EAHG,IAAM,EAAmB,CAAA,EADhC,AACgC,EADhC,CAAA,CAAA,QACgC,uBAAA,AAAuB,EACnD,WAAa,MAAM,AAAI,MAAM,8OAAgP,EAC7Q,qDACA,4HCLJ,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,CAAA,CAAA,QAAA,IAAA,EAAA,EAAA,CAAA,CAAA,QAEe,eAAe,IAC1B,IAAM,EAAU,MAAM,EAAA,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,CACtC,QAAS,MAAM,CAAA,EAAA,EAAA,OAAA,AAAO,GAC1B,EAEI,CAAC,GAAS,MAAM,IAAI,AACpB,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,WAGb,IAAM,EAAO,MAAM,EAAA,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CACtC,MAAO,CAAE,GAAI,EAAQ,IAAI,CAAC,EAAE,AAAC,EAC7B,OAAQ,CACJ,gBAAgB,EAChB,gBAAgB,EAChB,kBAAkB,EAClB,cAAc,EACd,kBAAkB,EAClB,oBAAoB,EACpB,kBAAkB,CAItB,CACJ,GASA,OAPI,AAAC,GACD,CAAA,EADO,AACP,EAAA,QAAA,AAAQ,EAAC,WAOT,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,gBAAgB,CAAA,CAAC,KAAM,GAEhC","ignoreList":[0]}