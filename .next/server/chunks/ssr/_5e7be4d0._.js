module.exports=[973365,a=>{"use strict";let b=(0,a.i(170106).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["default",()=>b])},400210,a=>{"use strict";var b=a.i(973365);a.s(["ArrowLeft",()=>b.default])},167453,a=>{"use strict";let b=(0,a.i(170106).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);a.s(["CheckCircle2",()=>b],167453)},660246,a=>{"use strict";let b=(0,a.i(170106).default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);a.s(["Users",()=>b],660246)},641710,a=>{"use strict";let b=(0,a.i(170106).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["Clock",()=>b],641710)},603314,a=>{"use strict";let b=(0,a.i(170106).default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);a.s(["Shield",()=>b],603314)},73570,a=>{"use strict";let b=(0,a.i(170106).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);a.s(["AlertTriangle",()=>b],73570)},756468,a=>{"use strict";let b=(0,a.i(170106).default)("ban",[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["Ban",()=>b],756468)},57498,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(50944),e=a.i(400210),f=a.i(660246),g=a.i(73570),h=a.i(756468),i=a.i(641710),j=a.i(167453),k=a.i(405784),l=a.i(170106);let m=(0,l.default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),n=(0,l.default)("lock-open",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);var o=a.i(603314),p=a.i(823292),q=a.i(405050);let r=(0,q.createServerReference)("4092871713fd49951fb96de6880895702406eeacf3",q.callServer,void 0,q.findSourceMapURL,"getContestParticipants"),s=(0,q.createServerReference)("6056877ff0b936524f0713c621512340498d9b6a4e",q.callServer,void 0,q.findSourceMapURL,"unblockParticipant");function t(){let a=(0,d.useParams)(),l=(0,d.useRouter)(),q=a.id,[t,u]=(0,c.useState)([]),[v,w]=(0,c.useState)(!0),[x,y]=(0,c.useState)(null),[z,A]=(0,c.useState)(null);(0,c.useEffect)(()=>{B()},[q]);let B=async()=>{w(!0);let a=await r(q);a.success&&a.participants?u(a.participants.map(a=>({...a,violations:a.violations.map(a=>({...a,createdAt:a.createdAt instanceof Date?a.createdAt.toISOString():a.createdAt}))}))):p.toast.error(a.error||"Failed to load participants"),w(!1)},C=async a=>{A(a);let b=await s(q,a);b.success?(p.toast.success("Participant unblocked successfully"),B()):p.toast.error(b.error||"Failed to unblock participant"),A(null)},D=t.filter(a=>a.isBlocked||a.permanentlyBlocked).length,E=t.filter(a=>a.isFlagged&&!a.isBlocked).length;return(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-[#0a0a0a]",children:[(0,b.jsx)("div",{className:"bg-white dark:bg-[#141414] border-b border-gray-200 dark:border-[#262626] sticky top-0 z-10",children:(0,b.jsx)("div",{className:"max-w-6xl mx-auto px-4 py-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("button",{onClick:()=>l.back(),className:"p-2 hover:bg-gray-100 dark:hover:bg-[#1a1a1a] rounded-lg transition-colors text-gray-500 dark:text-gray-400",children:(0,b.jsx)(e.ArrowLeft,{className:"w-5 h-5"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Contest Participants"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"View violations and manage blocked participants"})]})]})})}),(0,b.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,b.jsx)("div",{className:"bg-white dark:bg-[#141414] rounded-xl p-4 border border-gray-200 dark:border-[#262626]",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-500/10 rounded-lg flex items-center justify-center",children:(0,b.jsx)(f.Users,{className:"w-5 h-5 text-blue-600 dark:text-blue-500"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:t.length}),(0,b.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Participants"})]})]})}),(0,b.jsx)("div",{className:"bg-white dark:bg-[#141414] rounded-xl p-4 border border-gray-200 dark:border-[#262626]",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-red-100 dark:bg-red-500/10 rounded-lg flex items-center justify-center",children:(0,b.jsx)(h.Ban,{className:"w-5 h-5 text-red-600 dark:text-red-500"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:D}),(0,b.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Blocked"})]})]})}),(0,b.jsx)("div",{className:"bg-white dark:bg-[#141414] rounded-xl p-4 border border-gray-200 dark:border-[#262626]",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-yellow-100 dark:bg-yellow-500/10 rounded-lg flex items-center justify-center",children:(0,b.jsx)(g.AlertTriangle,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-500"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:E}),(0,b.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Flagged"})]})]})}),(0,b.jsx)("div",{className:"bg-white dark:bg-[#141414] rounded-xl p-4 border border-gray-200 dark:border-[#262626]",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-500/10 rounded-lg flex items-center justify-center",children:(0,b.jsx)(o.Shield,{className:"w-5 h-5 text-green-600 dark:text-green-500"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:t.filter(a=>0===a.totalViolations).length}),(0,b.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Clean"})]})]})})]}),(0,b.jsx)("div",{className:"bg-white dark:bg-[#141414] rounded-xl border border-gray-200 dark:border-[#262626] overflow-hidden",children:v?(0,b.jsx)("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:"Loading participants..."}):0===t.length?(0,b.jsx)("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:"No participants yet"}):(0,b.jsx)("div",{className:"divide-y divide-gray-100 dark:divide-[#262626]",children:t.map(a=>(0,b.jsxs)("div",{className:"hover:bg-gray-50 dark:hover:bg-[#1a1a1a]",children:[(0,b.jsxs)("div",{className:"p-4 flex items-center justify-between cursor-pointer",onClick:()=>y(x===a.id?null:a.id),children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-gray-200 dark:bg-[#262626] rounded-full flex items-center justify-center overflow-hidden",children:a.user.image?(0,b.jsx)("img",{src:a.user.image,alt:"",className:"w-full h-full object-cover",referrerPolicy:"no-referrer"}):(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400 font-medium",children:a.user.name?.charAt(0)||"?"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:a.user.name}),(0,b.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a.user.email})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[a.permanentlyBlocked?(0,b.jsxs)("span",{className:"px-2 py-1 bg-red-100 dark:bg-red-500/10 text-red-700 dark:text-red-400 text-xs font-medium rounded-full flex items-center gap-1",children:[(0,b.jsx)(h.Ban,{className:"w-3 h-3"})," Permanently Blocked"]}):a.tempBlockedUntil&&new Date(a.tempBlockedUntil)>new Date?(0,b.jsxs)("span",{className:"px-2 py-1 bg-orange-100 dark:bg-orange-500/10 text-orange-700 dark:text-orange-400 text-xs font-medium rounded-full flex items-center gap-1",children:[(0,b.jsx)(i.Clock,{className:"w-3 h-3"})," Temp Blocked"]}):a.isBlocked?(0,b.jsxs)("span",{className:"px-2 py-1 bg-red-100 dark:bg-red-500/10 text-red-700 dark:text-red-400 text-xs font-medium rounded-full flex items-center gap-1",children:[(0,b.jsx)(h.Ban,{className:"w-3 h-3"})," Blocked"]}):a.isFlagged?(0,b.jsxs)("span",{className:"px-2 py-1 bg-yellow-100 dark:bg-yellow-500/10 text-yellow-700 dark:text-yellow-400 text-xs font-medium rounded-full flex items-center gap-1",children:[(0,b.jsx)(g.AlertTriangle,{className:"w-3 h-3"})," Flagged"]}):a.unblockedAt?(0,b.jsxs)("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-500/10 text-green-700 dark:text-green-400 text-xs font-medium rounded-full flex items-center gap-1",children:[(0,b.jsx)(j.CheckCircle2,{className:"w-3 h-3"})," Unblocked"]}):(0,b.jsx)("span",{className:"px-2 py-1 bg-gray-100 dark:bg-[#1a1a1a] text-gray-700 dark:text-gray-300 text-xs font-medium rounded-full",children:"Active"}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:`text-lg font-bold ${a.totalViolations>=6?"text-red-600":a.totalViolations>=4?"text-orange-600":a.totalViolations>=1?"text-yellow-600":"text-green-600"}`,children:a.totalViolations}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Violations"})]}),x===a.id?(0,b.jsx)(m,{className:"w-5 h-5 text-gray-400"}):(0,b.jsx)(k.ChevronDown,{className:"w-5 h-5 text-gray-400"})]})]}),x===a.id&&(0,b.jsx)("div",{className:"px-4 pb-4 border-t border-gray-100 dark:border-[#262626] bg-gray-50 dark:bg-[#1a1a1a]",children:(0,b.jsxs)("div",{className:"pt-4",children:[(a.isBlocked||a.permanentlyBlocked)&&(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsxs)("button",{onClick:b=>{b.stopPropagation(),C(a.userId)},disabled:z===a.userId,className:"px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[(0,b.jsx)(n,{className:"w-4 h-4"}),z===a.userId?"Unblocking...":"Unblock Participant"]})}),(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Recent Violations:"}),0===a.violations.length?(0,b.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No violations recorded"}):(0,b.jsx)("div",{className:"space-y-2",children:a.violations.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-2 bg-white dark:bg-[#141414] rounded-lg border border-gray-200 dark:border-[#262626]",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"px-2 py-0.5 bg-red-100 dark:bg-red-500/10 text-red-700 dark:text-red-400 text-xs rounded font-medium",children:a.type.replace(/_/g," ")}),a.message&&(0,b.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:a.message})]}),(0,b.jsx)("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:new Date(a.createdAt).toLocaleTimeString()})]},a.id))})]})})]},a.id))})})]})]})}a.s(["default",()=>t],57498)}];

//# sourceMappingURL=_5e7be4d0._.js.map