module.exports=[16491,a=>{"use strict";var b=a.i(187924),c=a.i(695245),d=a.i(572131),e=a.i(596221),f=a.i(781560),g=a.i(533441);let h=(0,a.i(170106).default)("github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);var i=a.i(633508),j=a.i(104416),k=a.i(179257),l=a.i(823292),m=a.i(723267),n=a.i(830443),o=a.i(713103),p=a.i(795975),q=a.i(571987),r=a.i(705151),s=a.i(452495),t=a.i(405050);let u=(0,t.createServerReference)("60145e4af14ae79ec5111899491f8f565f73ef64b0",t.callServer,void 0,t.findSourceMapURL,"verifyCodeChefOwnership"),v=(0,t.createServerReference)("60c81e63d45b0e7b9ed6db67fda69fe679b61713ff",t.callServer,void 0,t.findSourceMapURL,"verifyCodeforcesOwnership"),w=(0,t.createServerReference)("60e97b8341e0f0a4ffa7a5c441e64b0e42edd97973",t.callServer,void 0,t.findSourceMapURL,"verifyLeetCodeOwnership");function x({platform:a,handle:c,onClose:f,onSuccess:g}){let[h,j]=(0,d.useState)(1),[k,m]=(0,d.useState)(!1),[n]=(0,d.useState)(()=>Math.random().toString(36).substring(2,10)),o="Codeforces"===a,p="LeetCode"===a,q=`https://www.codechef.com/users/${c}/edit`;o&&(q="https://codeforces.com/settings/social"),p&&(q="https://leetcode.com/profile/");let t="Name";o&&(t="First Name"),p&&(t="Name");let x=async()=>{m(!0);try{let b;(b=o?await v(c,n):p?await w(c,n):await u(c,n)).success?(l.toast.success(`${a} profile verified successfully!`),g(),f()):l.toast.error(b.error||`Verification failed. Please check if the ${t} is updated correctly.`)}catch(a){l.toast.error("An error occurred during verification")}finally{m(!1)}};return(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:(0,b.jsxs)("div",{className:"bg-white dark:bg-[#1a1a1a] rounded-2xl w-full max-w-md p-6 shadow-2xl border border-gray-200 dark:border-[#333] relative animate-in zoom-in-95 duration-200",children:[(0,b.jsx)("button",{onClick:f,className:"absolute top-4 right-4 p-2 text-gray-500 hover:bg-gray-100 dark:hover:bg-[#262626] rounded-full transition-colors",children:(0,b.jsx)(i.X,{className:"w-5 h-5"})}),(0,b.jsxs)("div",{className:"mb-6 text-center",children:[(0,b.jsxs)("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:["Verify your ",a," profile"]}),(0,b.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Step ",h," / 3"]})]}),1===h&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"text-center space-y-4",children:[(0,b.jsxs)("p",{className:"text-gray-600 dark:text-gray-300",children:["Open your ",a," profile settings in a new tab."]}),(0,b.jsxs)("a",{href:q,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400 rounded-xl font-medium hover:bg-orange-200 dark:hover:bg-orange-900/50 transition-colors",children:["Open ",a," Settings ",(0,b.jsx)(s.ExternalLink,{className:"w-4 h-4"})]})]}),(0,b.jsx)("button",{onClick:()=>j(2),className:"w-full py-3 bg-orange-600 hover:bg-orange-700 text-white font-medium rounded-xl transition-colors",children:"Continue"})]}),2===h&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsxs)("p",{className:"text-gray-600 dark:text-gray-300 mb-2",children:["Paste this verification code in your ",(0,b.jsx)("strong",{children:t})]}),(0,b.jsx)("p",{className:"text-xs text-gray-400",children:"(You can change it back after verification)"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-gray-50 dark:bg-[#0a0a0a] border border-gray-200 dark:border-[#333] rounded-xl",children:[(0,b.jsx)("code",{className:"flex-1 text-center font-mono text-lg font-bold text-gray-900 dark:text-gray-100 tracking-wider",children:n}),(0,b.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(n),l.toast.success("Code copied to clipboard")},className:"p-2 text-gray-500 hover:text-orange-600 hover:bg-orange-50 dark:hover:bg-orange-900/20 rounded-lg transition-colors",title:"Copy Code",children:(0,b.jsx)(r.Copy,{className:"w-5 h-5"})})]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>j(1),className:"flex-1 py-3 bg-gray-100 dark:bg-[#262626] text-gray-700 dark:text-gray-300 font-medium rounded-xl hover:bg-gray-200 dark:hover:bg-[#333] transition-colors",children:"Back"}),(0,b.jsx)("button",{onClick:()=>j(3),className:"flex-1 py-3 bg-orange-600 hover:bg-orange-700 text-white font-medium rounded-xl transition-colors",children:"I've pasted the code"})]})]}),3===h&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"text-center space-y-4",children:[(0,b.jsxs)("p",{className:"text-gray-600 dark:text-gray-300",children:["Make sure you saved your profile changes on ",a," using the verification code."]}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Click verify below to confirm ownership."})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>j(2),disabled:k,className:"flex-1 py-3 bg-gray-100 dark:bg-[#262626] text-gray-700 dark:text-gray-300 font-medium rounded-xl hover:bg-gray-200 dark:hover:bg-[#333] transition-colors disabled:opacity-50",children:"Back"}),(0,b.jsx)("button",{onClick:x,disabled:k,className:"flex-1 py-3 bg-orange-600 hover:bg-orange-700 text-white font-medium rounded-xl transition-colors flex items-center justify-center gap-2 disabled:opacity-70",children:k?(0,b.jsx)(e.Loader2,{className:"w-5 h-5 animate-spin"}):`Verify ${a} Profile`})]})]})]})})}var y=a.i(50944);let z=({id:a,label:c,iconSrc:h,placeholder:l,urlPrefix:m,form:r,onSubmit:s,handleDisconnect:t,isLoading:u,initialValue:v,onVerify:w,isVerified:x})=>{let{register:y,watch:z,formState:{errors:A}}=r,B=z(a),C=function(a,b){let[c,e]=(0,d.useState)(a);return(0,d.useEffect)(()=>{let b=setTimeout(()=>{e(a)},500);return()=>{clearTimeout(b)}},[a,500]),c}(B,0),[D,E]=(0,d.useState)(null),[F,G]=(0,d.useState)(!1),H=B===v&&!!B;return(0,d.useEffect)(()=>{(async()=>{if(!C||C===v)return E(null);if("codeChefHandle"===a){G(!0);let a=await (0,n.checkCodeChefUser)(C);G(!1),E(a.success)}if("codeforcesHandle"===a){G(!0);let a=await (0,o.checkCodeforcesUser)(C);G(!1),E(a.success)}if("leetCodeHandle"===a){G(!0);let a=await (0,p.checkLeetCodeUser)(C);G(!1),E(a.success)}})()},[C,a,v]),(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-[#1a1a1a]/50 rounded-xl border border-gray-100 dark:border-[#262626]",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 w-1/4",children:["string"==typeof h?(0,b.jsx)(q.default,{src:h,alt:c,width:24,height:24,className:"rounded-sm object-contain"}):h,(0,b.jsx)("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:c})]}),(0,b.jsxs)("div",{className:"flex-1 flex gap-2",children:[(0,b.jsxs)("div",{className:"flex-1 flex items-center bg-white dark:bg-[#0a0a0a] border border-gray-200 dark:border-[#333] rounded-lg px-3 overflow-hidden relative",children:[m&&(0,b.jsx)("span",{className:"text-gray-400 text-sm whitespace-nowrap mr-1",children:m}),(0,b.jsx)("input",{...y(a),className:"flex-1 py-2 bg-transparent border-none outline-none text-sm",placeholder:l}),(0,b.jsx)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:F?(0,b.jsx)(e.Loader2,{className:"w-4 h-4 animate-spin text-gray-400"}):!0===D?(0,b.jsx)(g.Check,{className:"w-4 h-4 text-green-500"}):!1===D&&C?(0,b.jsx)(i.X,{className:"w-4 h-4 text-red-500"}):null})]}),H?(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[x?(0,b.jsxs)("div",{className:"flex items-center gap-1.5 px-3 py-2 bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-400 text-xs font-bold rounded-lg border border-green-200 dark:border-green-800",children:[(0,b.jsx)(j.ShieldCheck,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:"Verified"})]}):w?(0,b.jsx)("button",{onClick:()=>w(B),className:"px-3 py-2 bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 text-xs font-medium rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/40 transition-colors",children:"Verify Now"}):(0,b.jsx)("div",{className:"flex items-center justify-center w-10 h-10 bg-gray-100 dark:bg-gray-800 text-gray-500 rounded-lg",title:"Linked",children:(0,b.jsx)(k.Link,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>t(a),className:"flex items-center justify-center w-10 h-10 border border-gray-200 dark:border-[#333] hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-600 hover:border-red-200 dark:hover:border-red-800 rounded-lg transition-colors",title:"Disconnect",children:(0,b.jsx)(f.Trash2,{className:"w-4 h-4"})})]}):(0,b.jsx)("button",{onClick:()=>s(a),disabled:u===a||!1===D,className:"px-4 py-2 bg-white dark:bg-[#0a0a0a] border border-gray-200 dark:border-[#333] hover:bg-gray-50 dark:hover:bg-[#1a1a1a] text-sm font-medium rounded-lg transition-colors min-w-[80px] disabled:opacity-50",children:u===a?(0,b.jsx)(e.Loader2,{className:"w-4 h-4 animate-spin mx-auto"}):"Save"})]})]})};function A({user:a}){let e=(0,y.useRouter)(),[f,g]=(0,d.useState)(null),[i,j]=(0,d.useState)(null),k=(0,c.useForm)({defaultValues:{leetCodeHandle:a.leetCodeHandle||"",codeChefHandle:a.codeChefHandle||"",codeforcesHandle:a.codeforcesHandle||"",githubHandle:a.githubHandle||""}}),{getValues:n,setValue:o,watch:p,reset:q}=k,r=!!a.githubHandle||!!p("githubHandle"),s=async a=>{g(a);let b=n();try{let c={leetCodeHandle:b.leetCodeHandle,codeChefHandle:b.codeChefHandle,codeforcesHandle:b.codeforcesHandle,githubHandle:b.githubHandle},d=await (0,m.updateUserInfo)(c);d.success?(l.toast.success(`${a} handle updated successfully`),q(b)):l.toast.error(d.error||"Failed to update profile")}catch(a){l.toast.error("Something went wrong")}finally{g(null)}},t=async a=>{o(a,""),await s(a)};return(0,b.jsxs)("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[i&&(0,b.jsx)(x,{platform:i.platform,handle:i.handle,onClose:()=>j(null),onSuccess:()=>{j(null),e.refresh(),l.toast.success("CodeChef profile verified successfully")}}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold font-mono text-gray-900 dark:text-gray-100",children:"Platforms"}),(0,b.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:"You can update and verify your platform details here."})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h2",{className:"text-lg font-medium font-mono text-gray-900 dark:text-gray-100",children:"Development"}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-[#1a1a1a]/50 rounded-xl border border-gray-100 dark:border-[#262626]",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(h,{className:"w-6 h-6 text-gray-900 dark:text-gray-100"}),(0,b.jsx)("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Github"})]}),r?(0,b.jsxs)("button",{className:"px-4 py-2 bg-white dark:bg-[#0a0a0a] border border-gray-200 dark:border-[#333] text-sm font-medium rounded-lg",children:["Connected as ",p("githubHandle")]}):(0,b.jsx)("button",{className:"px-4 py-2 bg-gray-900 text-white dark:bg-white dark:text-gray-900 text-sm font-medium rounded-lg hover:opacity-90 transition-opacity",children:"Connect"})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h2",{className:"text-lg font-medium font-mono text-gray-900 dark:text-gray-100",children:"Problem Solving"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(z,{id:"leetCodeHandle",label:"LeetCode",iconSrc:"/handles_logos/leetcode.png",placeholder:"username",urlPrefix:"https://leetcode.com/u/",form:k,onSubmit:s,handleDisconnect:t,isLoading:f,initialValue:a.leetCodeHandle||"",onVerify:a=>j({platform:"LeetCode",handle:a}),isVerified:a.leetCodeVerified||!1}),(0,b.jsx)(z,{id:"codeChefHandle",label:"CodeChef",iconSrc:"/handles_logos/codechef.png",placeholder:"username",urlPrefix:"https://www.codechef.com/users/",form:k,onSubmit:s,handleDisconnect:t,isLoading:f,initialValue:a.codeChefHandle||"",onVerify:a=>j({platform:"CodeChef",handle:a}),isVerified:a.codeChefVerified||!1}),(0,b.jsx)(z,{id:"codeforcesHandle",label:"CodeForces",iconSrc:"/handles_logos/codeforces.png",placeholder:"username",urlPrefix:"https://codeforces.com/profile/",form:k,onSubmit:s,handleDisconnect:t,isLoading:f,initialValue:a.codeforcesHandle||"",onVerify:a=>j({platform:"Codeforces",handle:a}),isVerified:a.codeforcesVerified||!1})]})]})]})}a.s(["PlatformSettings",()=>A],16491)}];

//# sourceMappingURL=components_settings_PlatformSettings_tsx_65c285c3._.js.map