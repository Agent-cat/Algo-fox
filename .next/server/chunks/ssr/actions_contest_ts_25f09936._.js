module.exports=[758964,a=>{"use strict";var b=a.i(137936),c=a.i(402597),d=a.i(800717),e=a.i(231191),f=a.i(409223),g=a.i(905246),h=a.i(53112),i=a.i(118558),j=a.i(713095);let k=h.z.object({title:h.z.string().min(3,"Title must be at least 3 characters"),description:h.z.string().optional(),startTime:h.z.coerce.date(),endTime:h.z.coerce.date(),visibility:h.z.enum(["PUBLIC","INSTITUTION","CLASSROOM"]),classroomId:h.z.string().optional(),institutionId:h.z.string().optional().nullable(),problems:h.z.array(h.z.string()).min(1,"Select at least one problem"),contestPassword:h.z.string().optional(),randomizeQuestions:h.z.boolean().default(!1)}),l=h.z.object({title:h.z.string().min(3,"Title must be at least 3 characters"),slug:h.z.string().min(3,"Slug must be at least 3 characters"),description:h.z.string().optional(),startTime:h.z.date(),endTime:h.z.date(),visibility:h.z.enum(["PUBLIC","INSTITUTION","CLASSROOM"]),hidden:h.z.boolean().default(!1),classroomId:h.z.string().optional(),institutionId:h.z.string().optional().nullable(),backgroundImage:h.z.string().optional(),prizes:h.z.string().optional(),rules:h.z.string().optional(),problems:h.z.array(h.z.any()),contestPassword:h.z.string().optional(),randomizeQuestions:h.z.boolean().default(!1)}),m=async function(){return(0,i.cacheTag)("contests-public"),(0,i.cacheLife)("contests"),e.prisma.contest.findMany({where:{visibility:"PUBLIC",hidden:!1},include:{_count:{select:{problems:!0}}},orderBy:{startTime:"desc"}})};var n=(0,d.cache)(function(){return(0,c.cache)("default","80ad8df1de46115cbf4e6a7e47dc598cc611fdcba1",0,m,arguments)});async function o(){let a=await f.auth.api.getSession({headers:await (0,g.headers)()});try{if(!a?.user){let a=await n();return{success:!0,contests:a}}let b=a.user;if("ADMIN"===b.role){let a=await e.prisma.contest.findMany({include:{_count:{select:{problems:!0}}},orderBy:{startTime:"desc"}});return{success:!0,contests:a}}let c=await e.prisma.contest.findMany({where:{OR:[{visibility:"PUBLIC"},{AND:[{visibility:"INSTITUTION"},{institutionId:b.institutionId}]},{AND:[{visibility:"CLASSROOM"},{OR:[{classroom:{students:{some:{id:b.id}}}},{creatorId:b.id}]}]},{creatorId:b.id}]},include:{_count:{select:{problems:!0}}},orderBy:{startTime:"desc"}});return{success:!0,contests:c}}catch(a){return console.error("Failed to fetch contests:",a),{success:!1,error:"Failed to fetch contests"}}}(0,b.registerServerReference)(n,"80ad8df1de46115cbf4e6a7e47dc598cc611fdcba1",null),Object.defineProperty(n,"name",{value:"getPublicContests"});let p=async function(a){return(0,i.cacheTag)(`contest-${a}`),(0,i.cacheLife)("contest-detail"),e.prisma.contest.findUnique({where:{id:a},include:{_count:{select:{problems:!0}},problems:{include:{problem:{select:{id:!0,title:!0,difficulty:!0,slug:!0}}},orderBy:{order:"asc"}}}})};var q=(0,d.cache)(function(){return(0,c.cache)("default","c08470ca0cca037f820a4e0f58851b7e0cf4e3be61",0,p,arguments)});async function r(a){let b=await f.auth.api.getSession({headers:await (0,g.headers)()});try{let c=await q(a);if(!c)return{success:!1,error:"Contest not found"};let d=b?.user,f=d?await e.prisma.contestParticipation.findUnique({where:{userId_contestId:{userId:d.id,contestId:a}}}):null,g=new Date,h=g>=c.startTime,i=d?.id===c.creatorId,j=d?.role==="ADMIN",k=!1;if("PUBLIC"===c.visibility||j?k=!0:d&&(i?k=!0:"INSTITUTION"===c.visibility?k=d.institutionId==c.institutionId:"CLASSROOM"===c.visibility&&(k=!!await e.prisma.classroom.findFirst({where:{id:c.classroomId,students:{some:{id:d.id}}}}))),!k)return{success:!1,error:"Unauthorized access to this contest."};let l=(h||j||i)&&(f?.acceptedRules||i||j),m=!!c.contestPassword,n=l?c.problems:[];if(c.randomizeQuestions&&d&&n.length>0&&!j&&!i){let b=`${d.id}-${a}`,c=0;for(let a=0;a<b.length;a++)c=(c<<5)-c+b.charCodeAt(a)|0;n=[...n].sort((a,b)=>{let d=1e4*Math.sin(c++);return d-Math.floor(d)-.5})}let o=new Set;return d&&(await e.prisma.submission.findMany({where:{userId:d.id,contestId:a,status:"ACCEPTED",problemId:{in:n.map(a=>a.problem.id)}},select:{problemId:!0}})).forEach(a=>o.add(a.problemId)),{success:!0,contest:{...c,problems:n.map(a=>({...a,isSolved:o.has(a.problem.id)})),hasStarted:h,hasEnded:g>c.endTime,canManage:j||i,hasAcceptedRules:f?.acceptedRules||!1,isFinished:f?.isFinished||!1,requiresPassword:m,contestPassword:null,sessionId:f?.sessionId}}}catch(a){return console.error("Failed to fetch contest detail:",a),{success:!1,error:"Failed to fetch contest"}}}async function s(a){let b=await f.auth.api.getSession({headers:await (0,g.headers)()});if(!b?.user)return{success:!1,error:"Unauthorized"};let c=b.user;if(!["ADMIN","INSTITUTION_MANAGER","CONTEST_MANAGER","TEACHER"].includes(c.role))return{success:!1,error:"Unauthorized"};try{let b=k.parse(a),d=b.title.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),f=`${d}-${Date.now()}`,g=await e.prisma.contest.create({data:{title:b.title,slug:f,description:b.description,startTime:b.startTime,endTime:b.endTime,visibility:b.visibility,institutionId:"PUBLIC"!==b.visibility&&b.institutionId||null,classroomId:"CLASSROOM"===b.visibility&&b.classroomId||null,creatorId:c.id,contestPassword:b.contestPassword||null,randomizeQuestions:b.randomizeQuestions||!1,problems:{create:b.problems.map((a,b)=>({problemId:a,order:b}))}}});return(0,i.revalidatePath)("/dashboard/contests"),(0,i.revalidatePath)("/contest"),(0,i.revalidateTag)("contests","max"),{success:!0,contestId:g.id}}catch(b){console.error("Failed to create contest:",b);let a="Failed to create contest";return b instanceof h.z.ZodError?a=b.errors.map(a=>a.message).join(", "):b instanceof Error&&(a=b.message),{success:!1,error:a}}}async function t(a){let b=await f.auth.api.getSession({headers:await (0,g.headers)()});if(!b?.user)return{success:!1,error:"Unauthorized"};let c=b.user;if(!["ADMIN","INSTITUTION_MANAGER","CONTEST_MANAGER","TEACHER"].includes(c.role))return{success:!1,error:"Unauthorized"};try{let b=l.parse(a),d=await e.prisma.$transaction(async a=>{let d=await a.contest.create({data:{title:b.title,slug:b.slug,description:b.description,startTime:b.startTime,endTime:b.endTime,visibility:b.visibility,hidden:b.hidden,backgroundImage:b.backgroundImage,prizes:b.prizes,rules:b.rules,institutionId:"PUBLIC"!==b.visibility&&b.institutionId||null,classroomId:"CLASSROOM"===b.visibility&&b.classroomId||null,creatorId:c.id,contestPassword:b.contestPassword||null,randomizeQuestions:b.randomizeQuestions||!1}});for(let c=0;c<b.problems.length;c++){let e=b.problems[c],f=`${b.slug}-${e.slug||e.title.toLowerCase().replace(/\s+/g,"-")}-${Date.now()}-${c}`,g=await a.problem.create({data:{title:e.title,description:e.description,difficulty:e.difficulty,slug:f,score:e.score||10,domain:e.domain,type:"CONTEST",hidden:!0,testCases:{create:e.testCases},tags:{connect:e.tags?.map(a=>({name:a}))||[]}}});await a.contestProblem.create({data:{contestId:d.id,problemId:g.id,order:c}})}return d});return(0,i.revalidatePath)("/dashboard/contests"),(0,i.revalidatePath)("/contests"),(0,i.revalidatePath)("/contest"),(0,i.revalidateTag)("contests","max"),{success:!0,contestId:d.id}}catch(a){return console.error("Failed to create contest with problems:",a),{success:!1,error:"Failed to create contest"}}}async function u(a){try{let b=await e.prisma.classroom.findMany({where:{institutionId:a},select:{id:!0,name:!0,section:!0}});return{success:!0,classrooms:b}}catch(a){return console.error("Failed to fetch classrooms:",a),{success:!1,error:"Failed to fetch classrooms"}}}async function v(a){try{let b=await e.prisma.problem.findMany({where:{OR:[{title:{contains:a,mode:"insensitive"}},{slug:{contains:a,mode:"insensitive"}}],hidden:!1},select:{id:!0,title:!0,difficulty:!0,slug:!0},take:10});return{success:!0,problems:b}}catch(a){return console.error("Failed to fetch problems:",a),{success:!1,error:"Failed to fetch problems"}}}async function w(a){let b=await f.auth.api.getSession({headers:await (0,g.headers)()});if(!b?.user)return{success:!1,error:"Unauthorized"};try{return await e.prisma.contestParticipation.upsert({where:{userId_contestId:{userId:b.user.id,contestId:a}},update:{acceptedRules:!0},create:{userId:b.user.id,contestId:a,acceptedRules:!0}}),(0,i.revalidatePath)(`/contest/${a}`),{success:!0}}catch(a){return{success:!1,error:"Failed to accept rules"}}}async function x(a){let b=await f.auth.api.getSession({headers:await (0,g.headers)()});if(!b?.user)return{success:!1,error:"Unauthorized"};try{return await e.prisma.contestParticipation.upsert({where:{userId_contestId:{userId:b.user.id,contestId:a}},update:{isFinished:!0,finishedAt:new Date},create:{userId:b.user.id,contestId:a,acceptedRules:!0,isFinished:!0,finishedAt:new Date}}),(0,i.revalidatePath)(`/contest/${a}`),(0,i.revalidatePath)("/problems"),{success:!0}}catch(a){return{success:!1,error:"Failed to finish contest"}}}async function y(a){let b=await f.auth.api.getSession({headers:await (0,g.headers)()});if(!b?.user||!["ADMIN","CONTEST_MANAGER","INSTITUTION_MANAGER","TEACHER"].includes(b.user.role))return{success:!1,error:"Unauthorized"};try{let b=await e.prisma.contest.findUnique({where:{id:a},select:{isFinalized:!0,title:!0}});if(!b)return{success:!1,error:"Contest not found"};if(b.isFinalized)return{success:!1,error:"Contest is already finalized"};let c=await K(a);if(!c.success||!c.students)return{success:!1,error:"Failed to fetch leaderboard"};let d=c.students;if(0===d.length)return await e.prisma.contest.update({where:{id:a},data:{isFinalized:!0}}),{success:!0,message:"Contest finalized (no participants)"};let f=d[0]?.id,g=d[1]?.id,h=d[2]?.id;return await e.prisma.$transaction(async b=>{f&&await b.user.update({where:{id:f},data:{goldBadges:{increment:1}}}),g&&await b.user.update({where:{id:g},data:{silverBadges:{increment:1}}}),h&&await b.user.update({where:{id:h},data:{bronzeBadges:{increment:1}}}),await b.contest.update({where:{id:a},data:{isFinalized:!0}})}),(0,i.revalidatePath)("/dashboard"),(0,i.revalidatePath)(`/profile/${f}`),g&&(0,i.revalidatePath)(`/profile/${g}`),h&&(0,i.revalidatePath)(`/profile/${h}`),(0,i.revalidatePath)(`/contest/${a}`),(0,i.revalidateTag)(`contest-${a}`,"max"),(0,i.revalidateTag)(`leaderboard-${a}`,"max"),{success:!0}}catch(a){return console.error("Failed to finalize contest:",a),{success:!1,error:"Failed to finalize contest"}}}async function z(a,b){let c=await f.auth.api.getSession({headers:await (0,g.headers)()});if(!c?.user)return{success:!1,error:"Unauthorized"};try{let c=await e.prisma.contest.findUnique({where:{id:a},select:{contestPassword:!0}});if(!c)return{success:!1,error:"Contest not found"};if(c.contestPassword&&c.contestPassword!==b)return{success:!1,error:"Invalid contest password"};return{success:!0}}catch(a){return console.error("Failed to verify contest password:",a),{success:!1,error:"Failed to verify password"}}}async function A(a,b){let c=await f.auth.api.getSession({headers:await (0,g.headers)()});if(!c?.user)return{success:!1,error:"Unauthorized"};try{let d=await e.prisma.contest.findUnique({where:{id:a},select:{startTime:!0,endTime:!0,contestPassword:!0}});if(!d)return{success:!1,error:"Contest not found"};if(d.contestPassword&&d.contestPassword!==b)return{success:!1,error:"Invalid contest password"};let f=new Date;if(f<d.startTime)return{success:!1,error:"Contest has not started yet"};if(f>d.endTime)return{success:!1,error:"Contest has already ended"};let g=`${c.user.id}-${a}-${Date.now()}`,h=await e.prisma.contestParticipation.findUnique({where:{userId_contestId:{userId:c.user.id,contestId:a}}});if(h?.isBlocked)return{success:!1,error:"You have been blocked from this contest due to violations"};if(h?.isFinished)return{success:!1,error:"You have already finished this contest"};let i=await e.prisma.contestParticipation.upsert({where:{userId_contestId:{userId:c.user.id,contestId:a}},update:{sessionId:g,sessionStartedAt:f,acceptedRules:!0},create:{userId:c.user.id,contestId:a,sessionId:g,sessionStartedAt:f,acceptedRules:!0}});return{success:!0,sessionId:g,participationId:i.id,totalViolations:i.totalViolations,isFlagged:i.isFlagged}}catch(a){return console.error("Failed to start contest session:",a),{success:!1,error:"Failed to start contest session"}}}async function B(a,b,c,d){let h=await f.auth.api.getSession({headers:await (0,g.headers)()});if(!h?.user)return{success:!1,error:"Unauthorized"};try{let f=await e.prisma.contestParticipation.findUnique({where:{userId_contestId:{userId:h.user.id,contestId:a}}});if(!f)return{success:!1,error:"No active participation found"};let g={TAB_SWITCH:"tabSwitchCount",FULLSCREEN_EXIT:"fullscreenExitCount",COPY_PASTE:"copyPasteCount",DEVTOOLS_OPEN:"devToolsCount",KEYBOARD_SHORTCUT:"keyboardCount",NAVIGATION_ATTEMPT:"navigationCount",MULTI_TAB:"tabSwitchCount",SUSPICIOUS_INPUT:"copyPasteCount"}[b],i=await e.prisma.$transaction(async a=>{let e=await a.contestViolation.findFirst({where:{participationId:f.id},orderBy:{createdAt:"desc"}});if(e&&Date.now()-e.createdAt.getTime()<2e3)return{...f,isFlagged:f.isFlagged,isBlocked:f.isBlocked,totalViolations:f.totalViolations,permanentlyBlocked:f.permanentlyBlocked,tempBlockedUntil:f.tempBlockedUntil};await a.contestViolation.create({data:{participationId:f.id,type:b,message:c,metadata:d??void 0}});let h=f.totalViolations+1,i=null,j=!1,k=!1;return h>=6?(j=!0,k=!0):h>=4&&(i=new Date(Date.now()+3e5),k=!0),await a.contestParticipation.update({where:{id:f.id},data:{[g]:{increment:1},totalViolations:{increment:1},isFlagged:h>=3||f.isFlagged,isBlocked:k,tempBlockedUntil:i,permanentlyBlocked:j}})});return{success:!0,totalViolations:i.totalViolations,isFlagged:i.isFlagged,isBlocked:i.isBlocked,tempBlockedUntil:i.tempBlockedUntil?.toISOString()||null,permanentlyBlocked:i.permanentlyBlocked}}catch(a){return console.error("Failed to log violation:",a),{success:!1,error:"Failed to log violation"}}}async function C(a,b){let c=await f.auth.api.getSession({headers:await (0,g.headers)()});if(!c?.user)return{success:!1,valid:!1,error:"Unauthorized"};try{let d=await e.prisma.contestParticipation.findUnique({where:{userId_contestId:{userId:c.user.id,contestId:a}},include:{contest:{select:{startTime:!0,endTime:!0}}}});if(!d)return{success:!0,valid:!1,reason:"No participation found"};if(d.isBlocked)return{success:!0,valid:!1,reason:"Blocked due to violations"};if(d.isFinished)return{success:!0,valid:!1,reason:"Contest already finished"};if(d.sessionId!==b)return await B(a,"MULTI_TAB","Multiple tabs detected"),{success:!0,valid:!1,reason:"Session mismatch - possible multiple tabs"};if(new Date>d.contest.endTime)return{success:!0,valid:!1,reason:"Contest has ended"};return{success:!0,valid:!0,totalViolations:d.totalViolations,isFlagged:d.isFlagged}}catch(a){return console.error("Failed to validate session:",a),{success:!1,valid:!1,error:"Failed to validate session"}}}async function D(a){let b=await f.auth.api.getSession({headers:await (0,g.headers)()});if(!b?.user)return{eligible:!1,error:"Unauthorized"};try{let c=await e.prisma.contestParticipation.findUnique({where:{userId_contestId:{userId:b.user.id,contestId:a}},include:{contest:{select:{startTime:!0,endTime:!0}}}});if(!c)return{eligible:!1,reason:"No participation found"};if(c.isBlocked)return{eligible:!1,reason:"Blocked due to excessive violations"};if(c.isFinished)return{eligible:!1,reason:"You have already finished this contest"};let d=new Date;if(d<c.contest.startTime)return{eligible:!1,reason:"Contest has not started"};if(d>c.contest.endTime)return{eligible:!1,reason:"Contest has ended"};return{eligible:!0,warnings:c.isFlagged?["Your session has been flagged for review"]:[]}}catch(a){return console.error("Failed to check eligibility:",a),{eligible:!1,error:"Failed to check eligibility"}}}async function E(a){let b=await f.auth.api.getSession({headers:await (0,g.headers)()});if(!b?.user)return{success:!1,error:"Unauthorized"};try{let c=await e.prisma.contestParticipation.findUnique({where:{userId_contestId:{userId:b.user.id,contestId:a}},select:{acceptedRules:!0,isFinished:!0,isFlagged:!0,isBlocked:!0,totalViolations:!0,sessionId:!0,tempBlockedUntil:!0,permanentlyBlocked:!0}});if(c?.tempBlockedUntil&&new Date>c.tempBlockedUntil)return await e.prisma.contestParticipation.update({where:{userId_contestId:{userId:b.user.id,contestId:a}},data:{isBlocked:!1,tempBlockedUntil:null}}),{success:!0,participation:{...c,isBlocked:!1,tempBlockedUntil:null}};return{success:!0,participation:c||null}}catch(a){return{success:!1,error:"Failed to get participation status"}}}async function F(a){let b=await f.auth.api.getSession({headers:await (0,g.headers)()});if(!b?.user)return{success:!1,error:"Unauthorized"};let c=b.user,d=await e.prisma.contest.findUnique({where:{id:a},select:{creatorId:!0}});if(!d)return{success:!1,error:"Contest not found"};if("ADMIN"!==c.role&&"CONTEST_MANAGER"!==c.role&&"TEACHER"!==c.role&&d.creatorId!==c.id)return{success:!1,error:"Unauthorized"};try{let b=await e.prisma.contestParticipation.findMany({where:{contestId:a},include:{user:{select:{id:!0,name:!0,email:!0,image:!0}},violations:{orderBy:{createdAt:"desc"},take:10}},orderBy:[{permanentlyBlocked:"desc"},{isBlocked:"desc"},{totalViolations:"desc"}]});return{success:!0,participants:b}}catch(a){return console.error("Failed to get participants:",a),{success:!1,error:"Failed to get participants"}}}async function G(a,b){let c=await f.auth.api.getSession({headers:await (0,g.headers)()});if(!c?.user)return{success:!1,error:"Unauthorized"};let d=c.user,h=await e.prisma.contest.findUnique({where:{id:a},select:{creatorId:!0}});if(!h)return{success:!1,error:"Contest not found"};if("ADMIN"!==d.role&&"CONTEST_MANAGER"!==d.role&&"TEACHER"!==d.role&&h.creatorId!==d.id)return{success:!1,error:"Unauthorized"};try{return await e.prisma.contestParticipation.update({where:{userId_contestId:{userId:b,contestId:a}},data:{isBlocked:!1,tempBlockedUntil:null,permanentlyBlocked:!1,totalViolations:0,tabSwitchCount:0,fullscreenExitCount:0,copyPasteCount:0,devToolsCount:0,keyboardCount:0,navigationCount:0,isFlagged:!1,unblockedBy:d.id,unblockedAt:new Date}}),(0,i.revalidatePath)(`/dashboard/contests/${a}/participants`),{success:!0}}catch(a){return console.error("Failed to unblock participant:",a),{success:!1,error:"Failed to unblock participant"}}}async function H(a,b){let c=await f.auth.api.getSession({headers:await (0,g.headers)()});if(!c?.user)return{success:!1,error:"Unauthorized"};let d=c.user,h=await e.prisma.contest.findUnique({where:{id:a},select:{creatorId:!0}});if(!h)return{success:!1,error:"Contest not found"};if("ADMIN"!==d.role&&"CONTEST_MANAGER"!==d.role&&"TEACHER"!==d.role&&h.creatorId!==d.id)return{success:!1,error:"Unauthorized"};try{let c=await e.prisma.contestParticipation.findUnique({where:{userId_contestId:{userId:b,contestId:a}},include:{user:{select:{id:!0,name:!0,email:!0}},violations:{orderBy:{createdAt:"desc"}}}});return{success:!0,participation:c}}catch(a){return{success:!1,error:"Failed to get violations"}}}(0,b.registerServerReference)(q,"c08470ca0cca037f820a4e0f58851b7e0cf4e3be61",null),Object.defineProperty(q,"name",{value:"getCachedContest"});let I=async function(a){(0,i.cacheTag)(`leaderboard-${a}`),(0,i.cacheLife)("leaderboard");try{let b=await e.prisma.contestParticipation.findMany({where:{contestId:a},include:{user:{select:{id:!0,name:!0,image:!0}}}}),c=await e.prisma.contest.findUnique({where:{id:a},include:{problems:{include:{problem:{select:{id:!0,title:!0,difficulty:!0,slug:!0,score:!0}}},orderBy:{order:"asc"}}}});if(!c)return{success:!1,error:"Contest not found"};let d=await Promise.all(b.map(async b=>{let d=await e.prisma.submission.findMany({where:{userId:b.userId,contestId:a,createdAt:{gte:c.startTime,lte:c.endTime}},select:{id:!0,status:!0,problemId:!0,createdAt:!0,language:{select:{id:!0,name:!0}}}}),f=new Map,g=new Map,h=new Map,i=new Map;d.forEach(a=>{let b=h.get(a.problemId)||0;if(h.set(a.problemId,b+1),"ACCEPTED"===a.status){let b=f.get(a.problemId)||0,d=c.problems.find(b=>b.problemId===a.problemId),e=d?.problem.score||0;if(e>b){f.set(a.problemId,e);let b=g.get(a.problemId);(!b||a.createdAt<b)&&(g.set(a.problemId,a.createdAt),i.set(a.problemId,a))}}});let j=0,k=0;f.forEach((a,b)=>{j+=a;let d=g.get(b);d&&(k+=d.getTime()-c.startTime.getTime())});let l=c.problems.map(a=>{let b=i.get(a.problemId);return{problemId:a.problemId,title:a.problem.title,slug:a.problem.slug,score:f.get(a.problemId)||0,maxScore:a.problem.score,submissions:h.get(a.problemId)||0,solved:f.has(a.problemId),solvedAt:g.get(a.problemId),language:b?.language?.name||null,languageId:b?.language?.id||null}});return{...b.user,score:j,timeTaken:k,problemsSolved:f.size,problemStats:l}}));return d.sort((a,b)=>b.score!==a.score?b.score-a.score:a.timeTaken-b.timeTaken),{success:!0,students:d,isFinalized:c.isFinalized,problems:c.problems.map(a=>({id:a.problemId,title:a.problem.title,slug:a.problem.slug,maxScore:a.problem.score}))}}catch(a){return console.error("Leaderboard error:",a),{success:!1,error:"Failed to generate leaderboard"}}};var J=(0,d.cache)(function(){return(0,c.cache)("default","c0e243ef3de5d223ce4583d16064cf4bda30aa3e62",0,I,arguments)});(0,b.registerServerReference)(J,"c0e243ef3de5d223ce4583d16064cf4bda30aa3e62",null),Object.defineProperty(J,"name",{value:"getContestLeaderboard"});var K=J;async function L(a){let b=await f.auth.api.getSession({headers:await (0,g.headers)()});if(!b?.user)return{success:!1,error:"Unauthorized"};try{let c=await K(a);if(!c.success||!c.students)return{success:!1,error:"Failed to get ranking"};let d=c.students.findIndex(a=>a.id===b.user.id)+1;return{success:!0,rank:d>0?d:null}}catch(a){return{success:!1,error:"Failed to get ranking"}}}(0,j.ensureServerEntryExports)([o,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,L]),(0,b.registerServerReference)(o,"00832625e68b53b4f2054e042aa76c52995192cece",null),(0,b.registerServerReference)(r,"40e408761adff7d832a403f8b3de67dd3150702624",null),(0,b.registerServerReference)(s,"40662e9ddea2bbf3d0b684f6d080569fe729f1c1c3",null),(0,b.registerServerReference)(t,"401a1a28bd2e49379be125257c4115d7ecc57f70f3",null),(0,b.registerServerReference)(u,"40143a75ea5765fb88ac9bf3c96a0eabcf8c510a58",null),(0,b.registerServerReference)(v,"4098047632820cd0448f2d2528471fa663ac8499b7",null),(0,b.registerServerReference)(w,"400c8385b179b249f8f2b1e04f6bbe29a73028adaa",null),(0,b.registerServerReference)(x,"40f1b84b507cbed77bbd694a76ce511a8893db67cb",null),(0,b.registerServerReference)(y,"406cdc651bddb729aed5c9ed8a61b22fd85586aa37",null),(0,b.registerServerReference)(z,"60e4bb3f837a3366538a85855a444a9a4c1f3ce841",null),(0,b.registerServerReference)(A,"60d3252bd45f48968dec686bb41d7abb72b2b3fa40",null),(0,b.registerServerReference)(B,"78c1cd378517a292ad03dee9242ae6d4c6eb499f21",null),(0,b.registerServerReference)(C,"60d7b7d92c9e22bf280512e3f5de148c2f7a4efd0b",null),(0,b.registerServerReference)(D,"405fb5f68efcec07d64b8a03d4e11d8a1571a1325a",null),(0,b.registerServerReference)(E,"4050b6d7261e7a6fa97816d9dd7891742fa5be61cf",null),(0,b.registerServerReference)(F,"4092871713fd49951fb96de6880895702406eeacf3",null),(0,b.registerServerReference)(G,"6056877ff0b936524f0713c621512340498d9b6a4e",null),(0,b.registerServerReference)(H,"60b64dd74a42f4e7ada0d4314abeb1a11d4e5ab6f3",null),(0,b.registerServerReference)(L,"401a4fbf2ff70b136418170cd4f92105d0d9f9eb7b",null),a.s(["$$RSC_SERVER_CACHE_0",()=>n,"$$RSC_SERVER_CACHE_1",()=>q,"$$RSC_SERVER_CACHE_2",()=>J,"acceptContestRules",()=>w,"checkSubmissionEligibility",()=>D,"createContest",()=>s,"createContestWithProblems",()=>t,"finalizeContest",()=>y,"finishContestAction",()=>x,"getContestDetail",()=>r,"getContestLeaderboard",()=>K,"getContestParticipants",()=>F,"getContestRanking",()=>L,"getInstitutionalClassrooms",()=>u,"getParticipantViolations",()=>H,"getParticipationStatus",()=>E,"getSelectableProblems",()=>v,"getVisibleContests",()=>o,"logContestViolation",()=>B,"startContestSession",()=>A,"unblockParticipant",()=>G,"validateContestSession",()=>C,"verifyContestPassword",()=>z])}];

//# sourceMappingURL=actions_contest_ts_25f09936._.js.map