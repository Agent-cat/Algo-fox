module.exports=[434270,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/module-loading/track-module-loading.external.js",()=>require("next/dist/server/app-render/module-loading/track-module-loading.external.js"))},973365,a=>{"use strict";let b=(0,a.i(170106).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["default",()=>b])},400210,a=>{"use strict";var b=a.i(973365);a.s(["ArrowLeft",()=>b.default])},781560,a=>{"use strict";let b=(0,a.i(170106).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["Trash2",()=>b],781560)},915618,a=>{"use strict";let b=(0,a.i(170106).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],915618)},587532,a=>{"use strict";let b=(0,a.i(170106).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);a.s(["Search",()=>b],587532)},852690,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"trackDynamicImport",{enumerable:!0,get:function(){return g}});let d=a.r(588644),e=a.r(467009),f=a.r(434270);function g(a){if(!(0,e.isThenable)(a))throw Object.defineProperty(new d.InvariantError("`trackDynamicImport` should always receive a promise. Something went wrong in the dynamic imports transform."),"__NEXT_ERROR_CODE",{value:"E677",enumerable:!1,configurable:!0});return(0,f.trackPendingImport)(a),a}},766281,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"trackDynamicImport",{enumerable:!0,get:function(){return d.trackDynamicImport}});let d=a.r(852690)},983926,a=>{"use strict";var b=a.i(405050);let c=(0,b.createServerReference)("f88ea1c2067191c078fad313714852f8fe7db11df1",b.callServer,void 0,b.findSourceMapURL,"getCategoryProblems");a.s(["getCategoryProblems",()=>c])},211129,a=>{"use strict";var b=a.i(405050);let c=(0,b.createServerReference)("60d2264b1f398652eb46eab2bb3759572857722502",b.callServer,void 0,b.findSourceMapURL,"removeProblemFromCategory");a.s(["removeProblemFromCategory",()=>c])},193288,a=>{"use strict";var b=a.i(405050);let c=(0,b.createServerReference)("ff161ca534fa0477106bff83d2b07e07a7d461630c",b.callServer,void 0,b.findSourceMapURL,"getProblems");a.s(["getProblems",()=>c])},332165,a=>{"use strict";var b=a.i(766281),c=a.i(187924),d=a.i(572131),e=a.i(50944),f=a.i(983926),g=a.i(211129),h=a.i(193288),i=a.i(915618),j=a.i(781560),k=a.i(400210),l=a.i(587532),m=a.i(238246),n=a.i(823292);function o(){let o=(0,e.useParams)();(0,e.useRouter)();let p=o?.id,[q,r]=(0,d.useState)(null),[s,t]=(0,d.useState)([]),[u,v]=(0,d.useState)([]),[w,x]=(0,d.useState)(!0),[y,z]=(0,d.useState)(!1),[A,B]=(0,d.useState)(!1),[C,D]=(0,d.useState)("");(0,d.useEffect)(()=>{p&&(E(),F())},[p]);let E=async()=>{try{let{getCategoryById:c}=await (0,b.trackDynamicImport)(a.A(565786)),d=await c(p);d.success?r(d.category):n.toast.error(d.error||"Failed to load category")}catch(a){console.error("Failed to fetch category:",a),n.toast.error("Failed to load category")}},F=async()=>{x(!0);try{let a=await (0,f.getCategoryProblems)(p,1,100);t(a.problems)}catch(a){console.error("Failed to fetch problems:",a),n.toast.error("Failed to load problems")}finally{x(!1)}},G=async()=>{z(!0);try{let a=await (0,h.getProblems)(1,100,"LEARN"),b=new Set(s.map(a=>a.id)),c=a.problems.filter(a=>!b.has(a.id));v(c)}catch(a){console.error("Failed to fetch available problems:",a),n.toast.error("Failed to load available problems")}finally{z(!1)}},H=()=>{B(!0),G()},I=async c=>{let{addProblemToCategory:d}=await (0,b.trackDynamicImport)(a.A(565786)),e=await d(p,c);e.success?(n.toast.success("Problem added to category"),F(),G()):n.toast.error(e.error||"Failed to add problem")},J=async a=>{if(!confirm("Are you sure you want to remove this problem from the category?"))return;let b=await (0,g.removeProblemFromCategory)(p,a);b.success?(n.toast.success("Problem removed from category"),F()):n.toast.error(b.error||"Failed to remove problem")},K=u.filter(a=>a.title.toLowerCase().includes(C.toLowerCase()));return w&&!q?(0,c.jsx)("div",{className:"min-h-screen pt-24 pb-12 px-6 bg-white flex items-center justify-center",children:(0,c.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"})}):(0,c.jsxs)("div",{className:"min-h-screen pt-24 pb-12 px-6 bg-white",children:[(0,c.jsxs)("div",{className:"max-w-6xl mx-auto ml-0",children:[(0,c.jsxs)(m.default,{href:"/admin/categories",className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[(0,c.jsx)(k.ArrowLeft,{className:"w-4 h-4"}),"Back to Categories"]}),(0,c.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:q?.name||"Category Problems"}),(0,c.jsx)("p",{className:"text-gray-500",children:q?.description||"Manage problems in this category"})]}),(0,c.jsxs)("button",{onClick:H,className:"flex items-center gap-2 px-5 py-2.5 bg-orange-600 hover:bg-orange-700 text-white font-semibold rounded-xl transition-all shadow-lg shadow-orange-200",children:[(0,c.jsx)(i.Plus,{className:"w-5 h-5"}),"Add Problem"]})]}),(0,c.jsx)("div",{className:"bg-white border border-gray-100 rounded-2xl shadow-xl shadow-gray-200/50 overflow-hidden",children:w?(0,c.jsx)("div",{className:"p-12 flex justify-center",children:(0,c.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"})}):0===s.length?(0,c.jsxs)("div",{className:"p-12 text-center text-gray-500",children:[(0,c.jsx)("p",{className:"mb-4",children:"No problems in this category yet."}),(0,c.jsxs)("button",{onClick:H,className:"inline-flex items-center gap-2 px-4 py-2 bg-orange-600 hover:bg-orange-700 text-white font-semibold rounded-lg transition-all",children:[(0,c.jsx)(i.Plus,{className:"w-4 h-4"}),"Add First Problem"]})]}):(0,c.jsx)("div",{className:"overflow-x-auto",children:(0,c.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{className:"bg-gray-50 border-b border-gray-100",children:[(0,c.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Title"}),(0,c.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Difficulty"}),(0,c.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider text-right",children:"Actions"})]})}),(0,c.jsx)("tbody",{className:"divide-y divide-gray-100",children:s.map(a=>(0,c.jsxs)("tr",{className:"hover:bg-gray-50/50 transition-colors group",children:[(0,c.jsxs)("td",{className:"px-6 py-4",children:[(0,c.jsx)("div",{className:"font-semibold text-gray-900",children:a.title}),(0,c.jsx)("div",{className:"text-xs text-gray-400 font-mono mt-0.5",children:a.slug})]}),(0,c.jsx)("td",{className:"px-6 py-4",children:(0,c.jsx)("span",{className:`px-2.5 py-1 rounded-full text-xs font-bold border ${(a=>{switch(a){case"EASY":return"text-emerald-700 bg-emerald-50 border-emerald-200";case"MEDIUM":return"text-amber-700 bg-amber-50 border-amber-200";case"HARD":return"text-rose-700 bg-rose-50 border-rose-200";default:return"text-gray-700 bg-gray-50 border-gray-200"}})(a.difficulty)}`,children:a.difficulty})}),(0,c.jsx)("td",{className:"px-6 py-4 text-right",children:(0,c.jsxs)("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,c.jsx)(m.default,{href:`/admin/problems/${a.id}/edit`,className:"p-2 text-gray-400 hover:text-orange-600 hover:bg-orange-50 rounded-lg transition-colors",title:"Edit Problem",children:"Edit"}),(0,c.jsx)("button",{onClick:()=>J(a.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Remove from Category",children:(0,c.jsx)(j.Trash2,{className:"w-4 h-4"})})]})})]},a.id))})]})})})]}),A&&(0,c.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,c.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[80vh] flex flex-col",children:[(0,c.jsxs)("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[(0,c.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Add Problem to Category"}),(0,c.jsx)("button",{onClick:()=>B(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"Ã—"})]}),(0,c.jsxs)("div",{className:"p-6 flex-1 overflow-y-auto",children:[(0,c.jsx)("div",{className:"mb-4",children:(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)(l.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,c.jsx)("input",{type:"text",placeholder:"Search problems...",value:C,onChange:a=>D(a.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]})}),y?(0,c.jsx)("div",{className:"flex justify-center py-8",children:(0,c.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-orange-500"})}):0===K.length?(0,c.jsx)("div",{className:"text-center py-8 text-gray-500",children:C?"No problems found matching your search.":"No available problems. Create new problems first."}):(0,c.jsx)("div",{className:"space-y-2",children:K.map(a=>(0,c.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"font-semibold text-gray-900",children:a.title}),(0,c.jsx)("div",{className:"text-xs text-gray-400 font-mono mt-0.5",children:a.slug})]}),(0,c.jsx)("button",{onClick:()=>I(a.id),className:"px-4 py-2 bg-orange-600 hover:bg-orange-700 text-white font-semibold rounded-lg transition-all",children:"Add"})]},a.id))})]})]})})]})}function p(){return(0,c.jsx)(d.Suspense,{fallback:(0,c.jsx)("div",{className:"min-h-screen pt-24 pb-12 px-6 bg-white flex items-center justify-center",children:(0,c.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"})}),children:(0,c.jsx)(o,{})})}a.s(["default",()=>p])},565786,a=>{a.v(b=>Promise.all(["server/chunks/ssr/actions_6646c1b2._.js"].map(b=>a.l(b))).then(()=>b(75889)))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__9919119f._.js.map