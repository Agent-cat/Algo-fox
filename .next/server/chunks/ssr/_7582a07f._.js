module.exports=[915618,a=>{"use strict";let b=(0,a.i(170106).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],915618)},596221,a=>{"use strict";let b=(0,a.i(170106).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],596221)},781560,a=>{"use strict";let b=(0,a.i(170106).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["Trash2",()=>b],781560)},705151,a=>{"use strict";let b=(0,a.i(170106).default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);a.s(["Copy",()=>b],705151)},941675,667937,a=>{"use strict";let b=(0,a.i(170106).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["default",()=>b],667937),a.s(["Calendar",()=>b],941675)},43867,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(492134),e=a.i(405050);let f=(0,e.createServerReference)("401c0b56e0da3b528a24dc847cca9a8169ec930301",e.callServer,void 0,e.findSourceMapURL,"createInvite"),g=(0,e.createServerReference)("404e29d679764283f39ad846a4fa6f88e3cbdde468",e.callServer,void 0,e.findSourceMapURL,"getInstitutionInvites"),h=(0,e.createServerReference)("4070b35c934e0b3b368b7e82f87c0d943dad42d08a",e.callServer,void 0,e.findSourceMapURL,"toggleInvite"),i=(0,e.createServerReference)("403793a01b4e61bf4760f03221283fe03f82e3feff",e.callServer,void 0,e.findSourceMapURL,"deleteInvite");var j=a.i(179257),k=a.i(705151),l=a.i(915618),m=a.i(781560),n=a.i(941675),o=a.i(660246);let p=(0,a.i(170106).default)("power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);var q=a.i(596221),r=a.i(823292),s=a.i(256711);function t(){let{data:a}=d.authClient.useSession(),[e,t]=(0,c.useState)([]),[u,v]=(0,c.useState)(!0),[w,x]=(0,c.useState)(!1),[y,z]=(0,c.useState)("TEACHER"),[A,B]=(0,c.useState)(void 0),[C,D]=(0,c.useState)(""),E=a?.user?.institutionId,F=async()=>{if(!E)return;v(!0);let a=await g(E);a.success&&a.invites&&t(a.invites),v(!1)};(0,c.useEffect)(()=>{E&&F()},[E]);let G=async()=>{if(E){x(!0);try{let a=await f({institutionId:E,role:y,maxUses:A||void 0,expiresAt:C?new Date(C):void 0});a.success?(r.toast.success("Invite link created"),B(void 0),D(""),F()):r.toast.error(a.error||"Failed to create invite")}catch(a){r.toast.error("An error occurred")}finally{x(!1)}}},H=async a=>{(await h(a)).success?(r.toast.success("Invite status updated"),F()):r.toast.error("Failed to update status")},I=async a=>{confirm("Are you sure you want to delete this invite?")&&((await i(a)).success?(r.toast.success("Invite deleted"),F()):r.toast.error("Failed to delete invite"))};return u&&0===e.length?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,b.jsx)(q.Loader2,{className:"w-8 h-8 animate-spin text-orange-500"})}):(0,b.jsxs)("div",{className:"p-8 max-w-7xl mx-auto space-y-8",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-black text-gray-900 dark:text-white tracking-tight",children:"Invite Links"}),(0,b.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mt-2",children:"Create and manage access links for your staff."})]}),(0,b.jsxs)("button",{onClick:()=>document.getElementById("create-section")?.scrollIntoView({behavior:"smooth"}),className:"md:hidden flex items-center gap-2 px-4 py-2 bg-gray-900 dark:bg-white text-white dark:text-black rounded-xl font-bold text-sm",children:[(0,b.jsx)(l.Plus,{className:"w-4 h-4"}),"New Invite"]})]}),(0,b.jsxs)("div",{id:"create-section",className:"bg-white dark:bg-[#141414] border border-gray-100 dark:border-[#262626] rounded-2xl p-6 shadow-sm",children:[(0,b.jsxs)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-6 flex items-center gap-2",children:[(0,b.jsx)("div",{className:"p-1.5 bg-orange-100 dark:bg-orange-900/20 rounded-lg text-orange-600 dark:text-orange-400",children:(0,b.jsx)(l.Plus,{className:"w-4 h-4"})}),"Create New Invite"]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 items-end",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Role"}),(0,b.jsxs)("select",{value:y,onChange:a=>z(a.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-[#1a1a1a] border border-gray-200 dark:border-[#333] rounded-xl text-sm font-medium focus:ring-2 focus:ring-orange-500 outline-none",children:[(0,b.jsx)("option",{value:"TEACHER",children:"Teacher"}),(0,b.jsx)("option",{value:"CONTEST_MANAGER",children:"Contest Manager"}),(0,b.jsx)("option",{value:"STUDENT",children:"Student"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Max Uses (Optional)"}),(0,b.jsx)("input",{type:"number",min:"1",value:A||"",onChange:a=>B(a.target.value?parseInt(a.target.value):void 0),placeholder:"Unlimited",className:"w-full px-4 py-3 bg-gray-50 dark:bg-[#1a1a1a] border border-gray-200 dark:border-[#333] rounded-xl text-sm font-medium focus:ring-2 focus:ring-orange-500 outline-none"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Expires At (Optional)"}),(0,b.jsx)("input",{type:"datetime-local",value:C,onChange:a=>D(a.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-[#1a1a1a] border border-gray-200 dark:border-[#333] rounded-xl text-sm font-medium focus:ring-2 focus:ring-orange-500 outline-none"})]}),(0,b.jsx)("button",{onClick:G,disabled:w,className:"h-11.5 w-full bg-gray-900 dark:bg-white text-white dark:text-black font-bold rounded-xl hover:opacity-90 transition-opacity disabled:opacity-50 flex items-center justify-center gap-2",children:w?(0,b.jsx)(q.Loader2,{className:"w-4 h-4 animate-spin"}):"Generate Link"})]})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(a=>(0,b.jsxs)("div",{className:`group relative bg-white dark:bg-[#141414] border rounded-2xl p-6 transition-all duration-300 hover:shadow-xl hover:-translate-y-1 ${!a.isActive?"border-gray-200 dark:border-[#262626] opacity-75":"border-gray-200 dark:border-[#262626] hover:border-orange-500/30"}`,children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,b.jsx)("div",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider ${"TEACHER"===a.role?"bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400":"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400"}`,children:a.role.replace("_"," ")}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>H(a.id),className:`p-2 rounded-lg transition-colors ${a.isActive?"text-green-500 hover:bg-green-50 dark:hover:bg-green-900/20":"text-gray-400 hover:bg-gray-100 dark:hover:bg-[#262626]"}`,title:a.isActive?"Deactivate":"Activate",children:(0,b.jsx)(p,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>I(a.id),className:"p-2 text-red-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:(0,b.jsx)(m.Trash2,{className:"w-4 h-4"})})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 bg-gray-50 dark:bg-[#1a1a1a] p-3 rounded-xl border border-gray-100 dark:border-[#262626] group-hover:border-orange-200 dark:group-hover:border-orange-500/20 transition-colors",children:[(0,b.jsx)("div",{className:"p-2 bg-white dark:bg-[#262626] rounded-lg shadow-sm",children:(0,b.jsx)(j.Link,{className:"w-4 h-4 text-gray-500"})}),(0,b.jsx)("code",{className:"flex-1 font-mono text-sm font-bold text-gray-700 dark:text-gray-300 tracking-wider",children:a.code}),(0,b.jsx)("button",{onClick:()=>{var b;let c;return b=a.code,c=`${window.location.origin}/invite/${b}`,void(navigator.clipboard.writeText(c),r.toast.success("Invite link copied to clipboard"))},className:"p-2 hover:bg-white dark:hover:bg-[#262626] rounded-lg transition-colors text-gray-400 hover:text-orange-500",children:(0,b.jsx)(k.Copy,{className:"w-4 h-4"})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-xs font-medium text-gray-500 dark:text-gray-400",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1.5",title:"Uses",children:[(0,b.jsx)(o.Users,{className:"w-3.5 h-3.5"}),(0,b.jsxs)("span",{children:[a.uses," / ",a.maxUses||"âˆž"]})]}),a.expiresAt&&(0,b.jsxs)("div",{className:"flex items-center gap-1.5",title:"Expires",children:[(0,b.jsx)(n.Calendar,{className:"w-3.5 h-3.5"}),(0,b.jsx)("span",{children:(0,s.format)(new Date(a.expiresAt),"MMM d, yyyy")})]})]}),!a.isActive&&(0,b.jsx)("div",{className:"absolute inset-0 bg-white/50 dark:bg-black/50 backdrop-blur-[1px] rounded-2xl flex items-center justify-center",children:(0,b.jsx)("span",{className:"px-4 py-2 bg-black text-white rounded-lg text-xs font-bold uppercase tracking-widest shadow-xl",children:"Deactivated"})})]})]},a.id))}),0===e.length&&!u&&(0,b.jsxs)("div",{className:"text-center py-24 bg-gray-50 dark:bg-[#141414]/50 border border-dashed border-gray-200 dark:border-[#262626] rounded-3xl",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-white dark:bg-[#1a1a1a] rounded-full flex items-center justify-center mx-auto mb-4 shadow-sm",children:(0,b.jsx)(j.Link,{className:"w-6 h-6 text-gray-300 dark:text-gray-600"})}),(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"No invite links generated"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Create your first invite link to start adding members."})]})]})}a.s(["default",()=>t],43867)}];

//# sourceMappingURL=_7582a07f._.js.map