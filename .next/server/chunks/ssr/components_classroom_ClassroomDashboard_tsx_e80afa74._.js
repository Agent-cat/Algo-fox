module.exports=[979834,a=>{"use strict";var b=a.i(766281),c=a.i(187924),d=a.i(572131),e=a.i(819721),f=a.i(583077),g=a.i(290669),h=a.i(284505),i=a.i(630617),j=a.i(50522);function k({activeTab:a,onTabChange:b,onDownload:d,showDownload:e,isTeacher:k,classroomName:l}){let m=[{id:"leaderboard",label:"Leaderboard",icon:f.Trophy},{id:"assignments",label:"Assignments",icon:i.LayoutDashboard},...k?[{id:"tracking",label:"Live Tracking",icon:g.Activity}]:[]];return(0,c.jsxs)("aside",{className:"w-72 h-screen fixed left-0 top-0 pt-24 pb-8 z-40 bg-white/80 dark:bg-[#141414]/90 backdrop-blur-xl border-r border-gray-200/50 dark:border-[#262626] shadow-[4px_0_24px_-12px_rgba(0,0,0,0.1)]",children:[(0,c.jsxs)("div",{className:"px-6 mb-6",children:[(0,c.jsx)("p",{className:"text-xs font-semibold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-2",children:"Classroom"}),(0,c.jsx)("h3",{className:"text-sm font-bold text-gray-900 dark:text-white truncate",title:l,children:l})]}),(0,c.jsx)("nav",{className:"px-4 space-y-1",children:m.map(d=>{let e=a===d.id,f=d.icon;return(0,c.jsxs)("button",{onClick:()=>b(d.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium mb-1 group transition-all ${e?"bg-orange-600 text-white shadow-lg shadow-orange-200 dark:shadow-none":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-[#1a1a1a] hover:text-gray-900 dark:hover:text-gray-200"}`,children:[(0,c.jsx)("div",{className:`p-1.5 rounded-lg transition-colors ${e?"bg-white/20 text-white":"bg-gray-100 dark:bg-[#1a1a1a] text-gray-500 dark:text-gray-400 group-hover:bg-white dark:group-hover:bg-[#262626] group-hover:shadow-sm"}`,children:(0,c.jsx)(f,{className:"w-4 h-4"})}),(0,c.jsx)("span",{children:d.label}),e&&(0,c.jsx)(j.ChevronRight,{className:"w-4 h-4 ml-auto text-white/50"})]},d.id)})}),(0,c.jsx)("div",{className:"absolute bottom-8 left-0 right-0 px-4 space-y-2",children:e&&(0,c.jsxs)("button",{onClick:d,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gray-50 dark:bg-[#1a1a1a] border border-gray-200 dark:border-[#262626] rounded-xl text-xs font-bold uppercase tracking-wider text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-[#262626] hover:text-orange-600 dark:hover:text-orange-500 transition-colors",children:[(0,c.jsx)(h.Download,{className:"w-4 h-4"}),"Export Data"]})}),(0,c.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-white dark:from-[#141414] to-transparent pointer-events-none -z-10"})]})}var l=a.i(587532),m=a.i(546842),n=a.i(781560),o=a.i(596221),p=a.i(238246),q=a.i(571987),r=a.i(346271),s=a.i(262036),t=a.i(405050);let u=(0,t.createServerReference)("602532808556a300ed5e0f4a5f69437cc6db044dc7",t.callServer,void 0,t.findSourceMapURL,"removeStudentFromClassroom");var v=a.i(823292);function w({students:a,isTeacher:b,classroomId:e}){let[g,h]=(0,d.useState)(""),[i,j]=(0,d.useState)(1),[k,t]=(0,d.useState)("score_desc"),[w,x]=(0,d.useState)(0),[y,z]=(0,d.useState)(null),A=(0,d.useMemo)(()=>a.filter(a=>(a.name||"Anonymous User").toLowerCase().includes(g.toLowerCase())&&a.totalScore>=w).sort((a,b)=>{if("score_desc"===k)return b.totalScore-a.totalScore;if("score_asc"===k)return a.totalScore-b.totalScore;let c=a.name||"Anonymous",d=b.name||"Anonymous";return"name_asc"===k?c.localeCompare(d):"name_desc"===k?d.localeCompare(c):0}),[a,g,k,w]),B=Math.ceil(A.length/20),C=A.slice((i-1)*20,20*i),D=async(a,b)=>{if(e&&confirm(`Are you sure you want to remove ${b||"this student"} from the classroom?`)){z(a);try{let b=await u(e,a);b.success?v.toast.success("Student removed successfully"):v.toast.error(b.error||"Failed to remove student")}catch(a){v.toast.error("Something went wrong")}finally{z(null)}}};return 0===a.length?(0,c.jsxs)("div",{className:"bg-white dark:bg-[#141414] p-16 text-center border-t border-gray-100 dark:border-[#262626]",children:[(0,c.jsx)(f.Trophy,{className:"w-12 h-12 text-gray-200 dark:text-gray-700 mx-auto mb-4"}),(0,c.jsx)("h3",{className:"text-xl font-black text-gray-900 dark:text-white mb-1",children:"Leaderboard Empty"}),(0,c.jsx)("p",{className:"text-gray-400 dark:text-gray-500 font-medium text-sm",children:"Waiting for students to start solving ranking problems."})]}):(0,c.jsxs)("div",{className:"bg-white dark:bg-[#141414]",children:[(0,c.jsxs)("div",{className:"p-6 border-b border-gray-100 dark:border-[#262626] flex flex-col xl:flex-row gap-6 justify-between",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)(f.Trophy,{className:"w-5 h-5 text-orange-500"}),(0,c.jsx)("h2",{className:"text-lg font-black text-gray-900 dark:text-white uppercase tracking-tight",children:"Leaderboard"}),(0,c.jsxs)("span",{className:"text-[10px] font-black text-gray-300 dark:text-gray-600 ml-2 uppercase tracking-[0.2em]",children:[a.length," Total"]})]}),(0,c.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 w-full xl:w-auto",children:[(0,c.jsxs)("div",{className:"relative group flex-1 md:w-80",children:[(0,c.jsx)(l.Search,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 dark:text-gray-500 group-focus-within:text-orange-500 transition-colors"}),(0,c.jsx)("input",{type:"text",placeholder:"Search student name...",value:g,onChange:a=>{h(a.target.value),j(1)},className:"w-full pl-11 pr-4 py-2.5 bg-gray-50 dark:bg-[#1a1a1a] border border-gray-100 dark:border-[#333] rounded-lg focus:bg-white dark:focus:bg-[#0a0a0a] focus:border-orange-500 focus:outline-none focus:ring-4 focus:ring-orange-500/5 transition-all text-sm font-bold placeholder:text-gray-300 dark:placeholder:text-gray-600 text-black dark:text-white"})]}),(0,c.jsxs)("div",{className:"flex gap-2",children:[(0,c.jsxs)("select",{value:k,onChange:a=>t(a.target.value),className:"px-4 py-2.5 bg-gray-50 dark:bg-[#1a1a1a] border border-gray-100 dark:border-[#333] rounded-lg text-sm font-bold text-gray-700 dark:text-gray-200 focus:border-orange-500 focus:outline-none outline-none appearance-none cursor-pointer",children:[(0,c.jsx)("option",{value:"score_desc",children:"Highest Score"}),(0,c.jsx)("option",{value:"score_asc",children:"Lowest Score"}),(0,c.jsx)("option",{value:"name_asc",children:"Name (A-Z)"}),(0,c.jsx)("option",{value:"name_desc",children:"Name (Z-A)"})]}),(0,c.jsxs)("select",{value:w,onChange:a=>x(Number(a.target.value)),className:"px-4 py-2.5 bg-gray-50 dark:bg-[#1a1a1a] border border-gray-100 dark:border-[#333] rounded-lg text-sm font-bold text-gray-700 dark:text-gray-200 focus:border-orange-500 focus:outline-none outline-none appearance-none cursor-pointer",children:[(0,c.jsx)("option",{value:0,children:"All Scores"}),(0,c.jsx)("option",{value:100,children:"> 100 Points"}),(0,c.jsx)("option",{value:500,children:"> 500 Points"}),(0,c.jsx)("option",{value:1e3,children:"> 1000 Points"})]})]})]})]}),(0,c.jsx)("div",{className:"overflow-x-auto",children:(0,c.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{className:"bg-gray-50/50 dark:bg-[#1a1a1a]/50 border-b border-gray-100 dark:border-[#262626]",children:[(0,c.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-[0.2em] w-20 text-center",children:"Rank"}),(0,c.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-[0.2em]",children:"Student"}),(0,c.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-[0.2em] text-right",children:"Points"}),(0,c.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-[0.2em] text-center w-32",children:"Action"})]})}),(0,c.jsx)("tbody",{className:"divide-y divide-gray-100 dark:divide-[#262626]",children:(0,c.jsx)(s.AnimatePresence,{mode:"popLayout",children:C.map((a,d)=>{let e=(i-1)*20+d;return(0,c.jsxs)(r.motion.tr,{layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"hover:bg-gray-50/50 dark:hover:bg-[#1a1a1a]/50 transition-colors group",children:[(0,c.jsx)("td",{className:"px-6 py-4 text-center",children:(0,c.jsxs)("span",{className:`text-lg font-black ${0===e?"text-orange-500":"text-gray-300 dark:text-gray-600"} group-hover:text-orange-600 transition-colors`,children:["#",e+1]})}),(0,c.jsx)("td",{className:"px-6 py-4",children:(0,c.jsxs)("div",{className:"flex items-center gap-4",children:[(0,c.jsx)("div",{className:"relative w-10 h-10 rounded overflow-hidden bg-gray-50 dark:bg-[#262626] border border-gray-100 dark:border-[#333] group-hover:border-orange-200 dark:group-hover:border-orange-900 transition-all",children:a.image?(0,c.jsx)(q.default,{src:a.image,alt:a.name||"Student",fill:!0,className:"object-cover"}):(0,c.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-orange-50 dark:bg-orange-500/10 text-orange-600 dark:text-orange-500 font-bold text-sm",children:a.name?.charAt(0).toUpperCase()})}),(0,c.jsxs)("div",{className:"flex flex-col",children:[(0,c.jsx)("span",{className:"text-sm font-bold text-gray-900 dark:text-gray-200 group-hover:text-orange-600 transition-colors",children:a.name||"Anonymous User"}),(0,c.jsx)("span",{className:"text-[10px] font-black text-gray-300 dark:text-gray-600 uppercase tracking-widest leading-none mt-1",children:"Enrolled Student"})]})]})}),(0,c.jsx)("td",{className:"px-6 py-4 text-right",children:(0,c.jsx)("span",{className:"text-xl font-black text-gray-950 dark:text-white tabular-nums group-hover:text-orange-600 transition-colors",children:a.totalScore.toLocaleString()})}),(0,c.jsx)("td",{className:"px-6 py-4 text-center",children:(0,c.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,c.jsx)(p.default,{href:`/profile/${a.id}`,className:"inline-flex items-center justify-center p-2 text-gray-400 dark:text-gray-600 hover:text-orange-600 dark:hover:text-orange-500 transition-colors",title:"View Profile",children:(0,c.jsx)(m.User,{className:"w-4 h-4"})}),b&&(0,c.jsx)("button",{onClick:()=>D(a.id,a.name||""),disabled:y===a.id,className:"inline-flex items-center justify-center p-2 text-gray-400 dark:text-gray-600 hover:text-red-600 dark:hover:text-red-500 transition-colors disabled:opacity-50",title:"Remove Student",children:y===a.id?(0,c.jsx)(o.Loader2,{className:"w-4 h-4 animate-spin"}):(0,c.jsx)(n.Trash2,{className:"w-4 h-4"})})]})})]},a.id)})})})]})}),B>1&&(0,c.jsxs)("div",{className:"p-6 border-t border-gray-100 dark:border-[#262626] flex items-center justify-between",children:[(0,c.jsxs)("p",{className:"text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest",children:["Page ",(0,c.jsx)("span",{className:"text-gray-900 dark:text-white",children:i})," of ",B]}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("button",{onClick:()=>{j(a=>Math.max(1,a-1)),window.scrollTo({top:0,behavior:"smooth"})},disabled:1===i,className:"px-4 py-2 border border-gray-100 dark:border-[#333] text-xs font-black uppercase tracking-widest text-black dark:text-white hover:text-orange-600 dark:hover:text-orange-500 hover:border-orange-500 dark:hover:border-orange-500 disabled:opacity-30 transition-all",children:"Previous"}),(0,c.jsx)("button",{onClick:()=>{j(a=>Math.min(B,a+1)),window.scrollTo({top:0,behavior:"smooth"})},disabled:i===B,className:"px-4 py-2 border border-black dark:border-white bg-black dark:bg-white text-white dark:text-black text-xs font-black uppercase tracking-widest hover:bg-orange-600 dark:hover:bg-gray-200 hover:border-orange-600 dark:hover:border-gray-200 disabled:opacity-30 transition-all",children:"Next"})]})]})]})}var x=a.i(705151),y=a.i(533441);let z=(0,e.default)(async()=>{},{loadableGenerated:{modules:[119011]},loading:()=>(0,c.jsx)("div",{className:"p-8",children:(0,c.jsx)("div",{className:"h-64 animate-pulse bg-gray-100 dark:bg-[#1a1a1a] rounded-2xl"})}),ssr:!1}),A=(0,e.default)(()=>(0,b.trackDynamicImport)(a.A(865928)).then(a=>a.AssignmentsTab),{loadableGenerated:{modules:[293098]},loading:()=>(0,c.jsx)("div",{className:"p-8",children:(0,c.jsx)("div",{className:"h-64 animate-pulse bg-gray-100 dark:bg-[#1a1a1a] rounded-2xl"})})});function B({classroom:a,currentUserId:b}){let[e,f]=(0,d.useState)("leaderboard"),[g,h]=(0,d.useState)(!1),i=a.teacher.id===b;return(0,c.jsxs)("div",{className:`min-h-screen ${i?"pl-0 md:pl-72":""}`,children:[i&&(0,c.jsx)(k,{activeTab:e,onTabChange:f,onDownload:()=>{let b=new Blob([["Rank,Student ID,Name,Total Score",...a.students.map((a,b)=>[b+1,a.id,a.name||"Anonymous",a.totalScore]).map(a=>a.join(","))].join("\n")],{type:"text/csv;charset=utf-8;"}),c=document.createElement("a"),d=URL.createObjectURL(b);c.setAttribute("href",d),c.setAttribute("download",`${a.name.replace(/\s+/g,"_")}_leaderboard.csv`),c.style.visibility="hidden",document.body.appendChild(c),c.click(),document.body.removeChild(c)},showDownload:"leaderboard"===e,isTeacher:i,classroomName:a.name}),(0,c.jsxs)("div",{className:`bg-gray-50/30 dark:bg-[#0a0a0a] min-h-screen ${i?"":"max-w-7xl mx-auto px-6"}`,children:[(0,c.jsx)("div",{className:`pt-24 pb-8 border-b border-gray-100 dark:border-[#262626] ${i?"px-8 md:px-12":""}`,children:(0,c.jsxs)("div",{className:i?"":"max-w-7xl mx-auto",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2 text-xs font-bold text-gray-400 uppercase tracking-widest mb-6",children:[(0,c.jsx)(p.default,{href:"/dashboard/classrooms",className:"hover:text-orange-600 dark:hover:text-orange-500",children:"Classrooms"}),(0,c.jsx)(j.ChevronRight,{className:"w-3 h-3"}),(0,c.jsx)("span",{className:"text-gray-900 dark:text-white",children:a.name})]}),(0,c.jsxs)("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h1",{className:"text-4xl md:text-5xl font-black text-gray-900 dark:text-white tracking-tighter mb-4",children:a.name}),(0,c.jsxs)("div",{className:"flex flex-wrap items-center gap-x-8 gap-y-2",children:[(0,c.jsxs)("div",{className:"flex flex-col",children:[(0,c.jsx)("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-1",children:"Instructor"}),(0,c.jsxs)("span",{className:"text-sm font-bold text-gray-900 dark:text-gray-200 flex items-center gap-2",children:[(0,c.jsx)("div",{className:"w-5 h-5 bg-orange-100 dark:bg-orange-500/10 rounded text-[10px] flex items-center justify-center text-orange-600 dark:text-orange-500",children:a.teacher.name?.charAt(0).toUpperCase()}),a.teacher.name]})]}),(0,c.jsxs)("div",{className:"flex flex-col",children:[(0,c.jsx)("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-1",children:"Subject"}),(0,c.jsx)("span",{className:"text-sm font-bold text-gray-900 dark:text-gray-200",children:a.subject||"Logic & Coding"})]}),(0,c.jsxs)("div",{className:"flex flex-col",children:[(0,c.jsx)("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-1",children:"Section"}),(0,c.jsx)("span",{className:"text-sm font-bold text-gray-900 dark:text-gray-200",children:a.section||"General"})]}),i&&(0,c.jsxs)("div",{className:"flex flex-col",children:[(0,c.jsx)("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-1",children:"Join Link"}),(0,c.jsxs)("button",{onClick:()=>{let b=`${window.location.origin}/join-classroom/${a.joinCode}`;navigator.clipboard.writeText(b),h(!0),v.toast.success("Invitation link copied to clipboard"),setTimeout(()=>h(!1),2e3)},className:"flex items-center gap-2 group",children:[(0,c.jsx)("span",{className:"text-sm font-mono font-black text-orange-600 tracking-wider",children:a.joinCode}),(0,c.jsx)("div",{className:"p-1.5 bg-orange-50 dark:bg-orange-500/10 rounded-lg text-orange-600 dark:text-orange-500 hover:bg-orange-100 dark:hover:bg-orange-500/20 transition-all",children:g?(0,c.jsx)(y.Check,{className:"w-3.5 h-3.5"}):(0,c.jsx)(x.Copy,{className:"w-3.5 h-3.5"})})]})]})]})]}),(0,c.jsx)("div",{className:"flex items-center gap-4",children:(0,c.jsx)(p.default,{href:"/problems",className:"px-6 py-3 bg-gray-900 dark:bg-white text-white dark:text-black text-xs font-black uppercase tracking-widest hover:bg-orange-600 dark:hover:bg-gray-200 transition-all shadow-xl shadow-gray-200 dark:shadow-none",children:"Solve Problems"})})]})]})}),(0,c.jsx)("div",{className:`py-12 ${i?"px-8 md:px-12":""}`,children:(0,c.jsxs)(s.AnimatePresence,{mode:"wait",children:["leaderboard"===e&&(0,c.jsx)(r.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},className:`bg-white dark:bg-[#141414] rounded-2xl ${i?"border-2 border-orange-50 dark:border-[#262626]":"border border-gray-100 dark:border-[#262626] shadow-xl dark:shadow-none"}`,children:(0,c.jsx)(w,{students:a.students,isTeacher:i,classroomId:a.id})},"leaderboard"),"assignments"===e&&(0,c.jsx)(r.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},children:(0,c.jsx)(A,{classroomId:a.id,isTeacher:i})},"assignments"),"tracking"===e&&(0,c.jsx)(r.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},children:(0,c.jsx)(z,{classroomId:a.id})},"tracking")]})})]})]})}a.s(["ClassroomDashboard",()=>B],979834)}];

//# sourceMappingURL=components_classroom_ClassroomDashboard_tsx_e80afa74._.js.map