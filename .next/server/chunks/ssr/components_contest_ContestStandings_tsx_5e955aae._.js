module.exports=[528788,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(583077),e=a.i(753250),f=a.i(546842),g=a.i(786520),h=a.i(167453),i=a.i(641710);let j=(0,a.i(170106).default)("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);var k=a.i(613749),l=a.i(50522),m=a.i(238246),n=a.i(405050);let o=(0,n.createServerReference)("405ad9c2f33591b40398d6fc9aaaa8be1f3cd93b67",n.callServer,void 0,n.findSourceMapURL,"finalizeContest");var p=a.i(93518),q=a.i(596221),r=a.i(823292),s=a.i(50944);function t({contestId:a,isFinalized:d}){let[e,f]=(0,c.useState)(!1),g=(0,s.useRouter)();if(d)return(0,b.jsxs)("div",{className:"px-4 py-2 bg-green-50 dark:bg-green-500/10 text-green-700 dark:text-green-400 rounded-lg text-xs font-bold border border-green-200 dark:border-green-500/20 uppercase tracking-wider flex items-center gap-2",children:[(0,b.jsx)(p.Award,{className:"w-4 h-4"}),"Results Finalized"]});let h=async()=>{if(window.confirm("Are you sure you want to finalize this contest? This will award badges to the top 3 participants and cannot be undone.")){f(!0);try{let b=await o(a);b.success?(r.toast.success(b.message||"Contest finalized and badges awarded!"),g.refresh()):r.toast.error(b.error||"Failed to finalize contest")}catch(a){r.toast.error("An unexpected error occurred")}finally{f(!1)}}};return(0,b.jsxs)("button",{onClick:h,disabled:e,className:"px-4 py-1.5 bg-orange-600 text-white rounded-lg text-xs font-bold border border-orange-700 uppercase tracking-wider hover:bg-orange-700 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[e?(0,b.jsx)(q.Loader2,{className:"w-4 h-4 animate-spin"}):(0,b.jsx)(p.Award,{className:"w-4 h-4"}),"Finalize Results"]})}let u=({language:a,className:c="w-5 h-5"})=>{let d,e;if(!a)return null;let f="string"==typeof a?a.toLowerCase():"";return(0,b.jsx)("div",{title:"string"==typeof a?a:"Language",children:(e=Object.keys(d={javascript:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/javascript/javascript-original.svg",js:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/javascript/javascript-original.svg",python:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/python/python-original.svg",java:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/java/java-original.svg",cpp:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/cplusplus/cplusplus-original.svg","c++":"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/cplusplus/cplusplus-original.svg",c:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/c/c-original.svg",rust:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/rust/rust-plain.svg",go:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/go/go-original.svg",sql:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/mysql/mysql-original.svg"}).find(a=>f.includes(a)))?(0,b.jsx)("img",{src:d[e],alt:f,className:`${c} object-contain`}):(0,b.jsx)("div",{className:`${c} bg-gray-500 text-white flex items-center justify-center font-bold text-[8px] rounded-sm uppercase`,children:f.substring(0,2)})})};function v({students:a,currentUserId:n,contestId:o,isFinalized:p=!1,userRole:q,problems:r=[]}){let[s,v]=(0,c.useState)(1),w=["ADMIN","CONTEST_MANAGER","INSTITUTION_MANAGER","TEACHER"].includes(q||""),x=Math.ceil(a.length/50),y=(0,c.useMemo)(()=>{let b=(s-1)*50;return a.slice(b,b+50)},[a,s]);return 0===a.length?(0,b.jsxs)("div",{className:"bg-white dark:bg-[#141414] rounded-lg border border-gray-200 dark:border-[#262626] p-12 text-center",children:[(0,b.jsx)("div",{className:"bg-gray-100 dark:bg-[#1a1a1a] p-4 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)(d.Trophy,{className:"w-8 h-8 text-gray-400"})}),(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"The arena is silent..."}),(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-400 max-w-xs mx-auto",children:"Standings will be updated as soon as warriors start solving challenges."})]}):(0,b.jsxs)("div",{className:"space-y-6 w-full max-w-full overflow-hidden",children:[(0,b.jsxs)("div",{className:"relative flex flex-col items-center justify-center gap-4 px-2 py-4",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h2",{className:"text-3xl font-black text-gray-900 dark:text-white tracking-tight uppercase",children:"Arena Leaderboard"}),(0,b.jsxs)("p",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-[0.3em] mt-1 opacity-70",children:["Contest Standing â€¢ Page ",s," of ",x]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[w&&(0,b.jsx)(t,{contestId:o,isFinalized:p}),(0,b.jsxs)("div",{className:"px-4 py-1.5 bg-orange-500/5 dark:bg-orange-500/10 border border-orange-500/20 rounded-lg flex items-center gap-2 shadow-sm",children:[(0,b.jsx)(f.User,{className:"w-3.5 h-3.5 text-orange-500"}),(0,b.jsxs)("span",{className:"text-xs font-bold text-orange-600 dark:text-orange-400",children:[a.length," Total Warriors"]})]})]})]}),(0,b.jsxs)("div",{className:"bg-white dark:bg-[#141414] rounded-lg border border-gray-200 dark:border-[#262626] shadow-sm overflow-hidden flex flex-col",children:[(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left border-collapse min-w-[1000px] table-fixed",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-gray-50/80 dark:bg-[#0d0d0d] border-b border-gray-200 dark:border-[#262626]",children:[(0,b.jsx)("th",{className:"sticky left-0 z-20 bg-gray-50/80 dark:bg-[#0d0d0d] px-4 py-4 text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-[0.1em] w-[70px] border-r border-gray-200 dark:border-gray-800 backdrop-blur-sm",children:(0,b.jsx)("div",{className:"flex items-center justify-center",children:"Rank"})}),(0,b.jsx)("th",{className:"sticky left-[70px] z-20 bg-gray-50/80 dark:bg-[#0d0d0d] px-6 py-4 text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-[0.1em] w-[250px] border-r border-gray-200 dark:border-gray-800 backdrop-blur-sm",children:"Warrior"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-[0.1em] text-center w-[100px] border-r border-gray-200 dark:border-gray-800",children:"Score"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-[0.1em] text-center w-[120px] border-r border-gray-200 dark:border-gray-800",children:"Time"}),r.map((a,c)=>(0,b.jsx)("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-[0.1em] text-center min-w-[140px] border-r border-gray-200 dark:border-gray-800 last:border-r-0",children:(0,b.jsxs)("div",{className:"flex flex-col items-center",children:[(0,b.jsxs)("span",{className:"mb-1 text-gray-900 dark:text-white",children:["Q",c+1]}),(0,b.jsx)("span",{className:"text-[9px] lowercase font-medium opacity-50 truncate max-w-[100px]",children:a.title})]})},a.id))]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-100 dark:divide-[#1a1a1a]",children:y.map((a,c)=>{let d,k,l,o=(s-1)*50+c;return(0,b.jsxs)("tr",{className:`group transition-all duration-200 ${a.id===n?"bg-orange-50/30 dark:bg-orange-500/5 shadow-inner":"hover:bg-gray-50/30 dark:hover:bg-white/[0.01]"}`,children:[(0,b.jsx)("td",{className:`sticky left-0 z-10 px-4 py-4 border-r border-gray-200 dark:border-gray-800 ${a.id===n?"bg-orange-50/30 dark:bg-orange-500/5 shadow-inner":"bg-white dark:bg-[#141414]"}`,children:(0,b.jsx)("div",{className:"flex items-center justify-center",children:0===o?(0,b.jsx)("div",{className:"w-7 h-7 bg-yellow-400 rounded flex items-center justify-center shadow-sm",children:(0,b.jsx)(g.Crown,{className:"w-3.5 h-3.5 text-white"})}):1===o?(0,b.jsx)("div",{className:"w-7 h-7 bg-gray-300 rounded flex items-center justify-center shadow-sm",children:(0,b.jsx)(e.Medal,{className:"w-3.5 h-3.5 text-white"})}):2===o?(0,b.jsx)("div",{className:"w-7 h-7 bg-orange-400 rounded flex items-center justify-center shadow-sm",children:(0,b.jsx)(e.Medal,{className:"w-3.5 h-3.5 text-white"})}):(0,b.jsx)("span",{className:"text-sm font-black text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white transition-colors",children:o+1})})}),(0,b.jsx)("td",{className:`sticky left-[70px] z-10 px-6 py-4 border-r border-gray-200 dark:border-gray-800 ${a.id===n?"bg-orange-50/30 dark:bg-orange-500/5 shadow-inner":"bg-white dark:bg-[#141414]"}`,children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-lg overflow-hidden bg-gray-100 dark:bg-[#1a1a1a] border border-gray-200 dark:border-[#262626]",children:a.image?(0,b.jsx)("img",{src:a.image,alt:a.name||"Warrior",className:"w-full h-full object-cover",referrerPolicy:"no-referrer"}):(0,b.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gray-50 dark:bg-[#1a1a1a] text-gray-400",children:(0,b.jsx)(f.User,{className:"w-4 h-4"})})}),(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsx)(m.default,{href:`/profile/${a.id}`,className:"text-xs font-bold text-gray-900 dark:text-white hover:text-orange-500 transition-colors block truncate",children:a.name||"Anonymous Warrior"}),(0,b.jsx)("div",{className:"flex items-center gap-1.5 mt-0.5",children:(0,b.jsxs)("span",{className:"text-[9px] font-black text-emerald-600 dark:text-emerald-400 uppercase tracking-tighter flex items-center gap-0.5",children:[(0,b.jsx)(h.CheckCircle2,{className:"w-2.5 h-2.5"}),a.problemsSolved," Solved"]})})]})]})}),(0,b.jsx)("td",{className:"px-6 py-4 text-center border-r border-gray-100 dark:border-gray-800/50",children:(0,b.jsx)("div",{className:"inline-block px-2 py-0.5 bg-gray-900 dark:bg-white rounded text-[11px] font-black text-white dark:text-black",children:a.score})}),(0,b.jsx)("td",{className:"px-6 py-4 text-center border-r border-gray-100 dark:border-gray-800/50",children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-1 text-[10px] font-mono font-bold text-gray-500 dark:text-gray-400",children:[(0,b.jsx)(i.Clock,{className:"w-3 h-3 opacity-40"}),(k=Math.floor((d=Math.floor(a.timeTaken/1e3))/3600),l=Math.floor(d%3600/60),`${k.toString().padStart(2,"0")}:${l.toString().padStart(2,"0")}:${(d%60).toString().padStart(2,"0")}`)]})}),r.map(c=>{let d=a.problemStats?.find(a=>a.problemId===c.id);return(0,b.jsx)("td",{className:"px-4 py-4 border-r border-gray-100 dark:border-gray-800/50 last:border-r-0",children:(0,b.jsx)("div",{className:"flex flex-col items-center gap-1",children:d?.solved?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(u,{language:d.language,className:"w-6 h-6"}),(0,b.jsxs)("span",{className:"text-[11px] font-black text-emerald-600 dark:text-emerald-400",children:["+",d.score]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1.5 text-[8px] font-bold text-gray-400 uppercase tracking-tighter",children:[(0,b.jsx)("div",{className:"flex items-center gap-0.5",title:"Submissions",children:d.submissions}),(0,b.jsx)("span",{className:"opacity-30",children:"|"}),(0,b.jsx)("div",{className:"flex items-center gap-0.5",title:"Solve Time",children:d.solvedAt?new Date(d.solvedAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"-"})]})]}):(0,b.jsx)("div",{className:"flex flex-col items-center opacity-20",children:d&&d.submissions>0?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"text-[11px] font-black text-red-500",children:"0"}),(0,b.jsxs)("div",{className:"flex items-center gap-0.5 text-[8px] font-bold text-gray-400",children:[(0,b.jsx)(j,{className:"w-2 h-2"}),d.submissions]})]}):(0,b.jsx)("div",{className:"w-5 h-0.5 bg-gray-200 dark:bg-gray-800 rounded-full"})})})},c.id)})]},a.id)})})]})}),x>1&&(0,b.jsxs)("div",{className:"px-6 py-4 bg-gray-50/50 dark:bg-[#0d0d0d] border-t border-gray-200 dark:border-[#262626] flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest",children:["Showing ",(0,b.jsxs)("span",{className:"text-gray-900 dark:text-white",children:[(s-1)*50+1," - ",Math.min(50*s,a.length)]})," of ",a.length]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>v(a=>Math.max(1,a-1)),disabled:1===s,className:"p-2 rounded-lg border border-gray-200 dark:border-[#262626] bg-white dark:bg-[#141414] hover:bg-gray-50 dark:hover:bg-white/5 disabled:opacity-50 transition-colors",children:(0,b.jsx)(k.ChevronLeft,{className:"w-4 h-4"})}),(0,b.jsx)("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,x)},(a,c)=>{let d=s;return(d=s<=3?c+1:s>=x-2?x-4+c:s-2+c)<=0||d>x?null:(0,b.jsx)("button",{onClick:()=>v(d),className:`w-8 h-8 rounded-lg text-xs font-black transition-all ${s===d?"bg-gray-900 dark:bg-white text-white dark:text-black shadow-md":"bg-white dark:bg-[#141414] border border-gray-200 dark:border-[#262626] hover:bg-gray-50 dark:hover:bg-white/5 text-gray-600 dark:text-gray-400"}`,children:d},d)})}),(0,b.jsx)("button",{onClick:()=>v(a=>Math.min(x,a+1)),disabled:s===x,className:"p-2 rounded-lg border border-gray-200 dark:border-[#262626] bg-white dark:bg-[#141414] hover:bg-gray-50 dark:hover:bg-white/5 disabled:opacity-50 transition-colors",children:(0,b.jsx)(l.ChevronRight,{className:"w-4 h-4"})})]})]})]}),x<=1&&a.length>5&&(0,b.jsx)("div",{className:"py-6 text-center",children:(0,b.jsxs)("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 bg-gray-50/50 dark:bg-[#0d0d0d] border border-gray-100 dark:border-[#1a1a1a] rounded-lg",children:[(0,b.jsx)(d.Trophy,{className:"w-3 h-3 text-gray-400"}),(0,b.jsx)("span",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:"Leaderboard Complete"})]})})]})}a.s(["ContestStandings",()=>v],528788)}];

//# sourceMappingURL=components_contest_ContestStandings_tsx_5e955aae._.js.map