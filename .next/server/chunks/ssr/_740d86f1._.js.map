{"version":3,"sources":["../../../../actions/tag.action.ts","../../../../.next-internal/server/app/%28main%29/admin/problems/%5Bid%5D/edit/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["\"use server\";\n\nimport { prisma } from \"@/lib/prisma\";\n\nexport async function searchTags(query: string) {\n    try {\n        const tags = await prisma.tag.findMany({\n            where: {\n                name: {\n                    contains: query,\n                    mode: \"insensitive\",\n                },\n            },\n            take: 10,\n            orderBy: {\n                name: 'asc'\n            }\n        });\n\n        return { success: true, tags };\n    } catch (error) {\n        console.error(\"Failed to search tags:\", error);\n        return { success: false, error: \"Failed to search tags\" };\n    }\n}\n\nexport async function createTag(name: string) {\n    try {\n        const slug = name\n            .toLowerCase()\n            .trim()\n            .replace(/[^\\w\\s-]/g, \"\")\n            .replace(/[\\s_-]+/g, \"-\")\n            .replace(/^-+|-+$/g, \"\");\n\n        const tag = await prisma.tag.upsert({\n            where: { slug },\n            update: {},\n            create: {\n                name,\n                slug,\n            },\n        });\n\n        return { success: true, tag };\n    } catch (error) {\n        console.error(\"Failed to create tag:\", error);\n        return { success: false, error: \"Failed to create tag\" };\n    }\n}\n","export {checkSessionConflict as '00f4c838ce10f91796a39f1558a3b75432fa49882a'} from 'ACTIONS_MODULE0'\nexport {resolveSessionConflict as '409bc5870257fe05de038549e85b0722c4e09c83d4'} from 'ACTIONS_MODULE0'\nexport {getUserScore as '80ee7282f708e60661ecc42477a6d2afba42f1d5ed'} from 'ACTIONS_MODULE1'\nexport {getProblemById as 'c0390893d2e8651afe42f6caae67183044748b6f68'} from 'ACTIONS_MODULE2'\nexport {updateProblem as '6018cfd1a9446b467132bb3005cd5fbc9c7dc25352'} from 'ACTIONS_MODULE2'\nexport {searchTags as '4074b06ca84484bc055023b365e0b346c50832fedb'} from 'ACTIONS_MODULE3'\nexport {createTag as '404f3242dee18020ac1f8e3044d26384a5f88f6c5c'} from 'ACTIONS_MODULE3'\n"],"names":[],"mappings":"0DAEA,EAAA,EAAA,CAAA,CAAA,QAEO,eAAe,EAAW,CAAa,EAC1C,GAAI,CACA,IAAM,EAAO,MAAM,EAAA,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,CACnC,MAAO,CACH,KAAM,CACF,SAAU,EACV,KAAM,aACV,CACJ,EACA,KAAM,GACN,QAAS,CACL,KAAM,KACV,CACJ,GAEA,MAAO,CAAE,SAAS,OAAM,CAAK,CACjC,CAAE,MAAO,EAAO,CAEZ,OADA,QAAQ,KAAK,CAAC,yBAA0B,GACjC,CAAE,SAAS,EAAO,MAAO,uBAAwB,CAC5D,CACJ,CAEO,eAAe,EAAU,CAAY,EACxC,GAAI,CACA,IAAM,EAAO,EACR,WAAW,GACX,IAAI,GACJ,OAAO,CAAC,YAAa,IACrB,OAAO,CAAC,WAAY,KACpB,OAAO,CAAC,WAAY,IAEnB,EAAM,MAAM,EAAA,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,CAChC,MAAO,MAAE,CAAK,EACd,OAAQ,CAAC,EACT,OAAQ,MACJ,EACA,MACJ,CACJ,GAEA,MAAO,CAAE,QAAS,OAAM,CAAI,CAChC,CAAE,MAAO,EAAO,CAEZ,OADA,QAAQ,KAAK,CAAC,wBAAyB,GAChC,CAAE,SAAS,EAAO,MAAO,sBAAuB,CAC3D,CACJ,2CA7CsB,EAsBA,IAtBA,CAAA,EAAA,EAAA,uBAAA,EAAA,EAAA,6CAAA,MAsBA,CAAA,EAAA,EAAA,uBAAA,EAAA,EAAA,6CAAA,2EC1BtB,IAAA,EAAA,EAAA,CAAA,CAAA,QAEA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAEA,EAAA,EAAA,CAAA,CAAA"}