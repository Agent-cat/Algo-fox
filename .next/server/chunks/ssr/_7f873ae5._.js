module.exports=[915618,a=>{"use strict";let b=(0,a.i(170106).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],915618)},596221,a=>{"use strict";let b=(0,a.i(170106).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],596221)},781560,a=>{"use strict";let b=(0,a.i(170106).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["Trash2",()=>b],781560)},613749,a=>{"use strict";let b=(0,a.i(170106).default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);a.s(["ChevronLeft",()=>b],613749)},941675,667937,a=>{"use strict";let b=(0,a.i(170106).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["default",()=>b],667937),a.s(["Calendar",()=>b],941675)},953722,a=>{"use strict";let b=(0,a.i(170106).default)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);a.s(["BookOpen",()=>b],953722)},603314,a=>{"use strict";let b=(0,a.i(170106).default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);a.s(["Shield",()=>b],603314)},992258,a=>{"use strict";let b=(0,a.i(170106).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);a.s(["Mail",()=>b],992258)},394224,895626,a=>{"use strict";var b=a.i(405050);let c=(0,b.createServerReference)("7817dc0ea1b97a601e63ee51f7da7c87f2574923c7",b.callServer,void 0,b.findSourceMapURL,"getInstitutionUsers");a.s(["getInstitutionUsers",()=>c],394224);var d=a.i(187924),e=a.i(572131);let f=(0,b.createServerReference)("40e4a75cb44b36f49c5b25207c30f03e98364fa02b",b.callServer,void 0,b.findSourceMapURL,"deleteStaffMember");var g=a.i(781560),h=a.i(992258),i=a.i(941675),j=a.i(953722),k=a.i(603314),l=a.i(613749),m=a.i(50522),n=a.i(596221),o=a.i(823292),p=a.i(256711);function q({users:a,role:b,pagination:c,onPageChange:k,onRefresh:q,isLoading:s}){let[t,u]=(0,e.useState)(null),v=async a=>{if(confirm("Are you sure you want to remove this user from the institution? They will be downgraded to a regular student (if not already) and removed from the institution.")){u(a);try{(await f(a)).success?(o.toast.success("User removed successfully"),q()):o.toast.error("Failed to remove user")}catch(a){o.toast.error("An error occurred")}finally{u(null)}}};return s?(0,d.jsx)("div",{className:"flex justify-center py-20",children:(0,d.jsx)(n.Loader2,{className:"w-8 h-8 animate-spin text-orange-500"})}):0===a.length?(0,d.jsxs)("div",{className:"text-center py-20 bg-white dark:bg-[#141414] border border-dashed border-gray-200 dark:border-[#262626] rounded-2xl",children:[(0,d.jsx)("div",{className:"w-16 h-16 bg-gray-50 dark:bg-[#1a1a1a] rounded-full flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)(r,{role:b,className:"w-6 h-6 text-gray-300 dark:text-gray-600"})}),(0,d.jsxs)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:["No ",b.toLowerCase().replace("_"," "),"s found"]}),(0,d.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"STUDENT"===b?"Students will appear here once they join your institution.":"Add manually or use invite links to grow your team."})]}):(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(a=>(0,d.jsxs)("div",{className:"group bg-white dark:bg-[#141414] border border-gray-100 dark:border-[#262626] rounded-2xl p-6 transition-all duration-300 hover:shadow-xl hover:-translate-y-1 hover:border-orange-200 dark:hover:border-orange-500/20 relative overflow-hidden",children:[(0,d.jsx)("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,d.jsx)("button",{onClick:()=>v(a.id),disabled:t===a.id,className:"p-2 bg-red-50 dark:bg-red-900/10 text-red-500 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/20 transition-colors",title:"Remove from institution",children:(0,d.jsx)(g.Trash2,{className:"w-4 h-4"})})}),(0,d.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,d.jsx)("div",{className:"w-14 h-14 rounded-2xl bg-gray-50 dark:bg-[#1a1a1a] border border-gray-100 dark:border-[#262626] flex items-center justify-center overflow-hidden shadow-inner",children:a.image?(0,d.jsx)("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover",referrerPolicy:"no-referrer"}):(0,d.jsx)("span",{className:"text-xl font-black text-gray-300 dark:text-gray-600",children:a.name?.[0]})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"font-bold text-gray-900 dark:text-white line-clamp-1",children:a.name}),(0,d.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-gray-500 dark:text-gray-400 mt-1",children:[(0,d.jsx)(h.Mail,{className:"w-3 h-3"}),(0,d.jsx)("span",{className:"truncate max-w-[150px]",children:a.email})]})]})]}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between text-sm py-2 border-t border-gray-50 dark:border-[#1a1a1a]",children:[(0,d.jsx)("span",{className:"text-gray-500 dark:text-gray-400 text-xs font-medium",children:"Joined"}),(0,d.jsxs)("div",{className:"flex items-center gap-1.5 font-bold text-gray-700 dark:text-gray-300 text-xs",children:[(0,d.jsx)(i.Calendar,{className:"w-3 h-3 text-gray-400"}),(0,p.format)(new Date(a.createdAt),"MMM d, yyyy")]})]}),"TEACHER"===b&&(0,d.jsxs)("div",{className:"flex items-center justify-between text-sm py-2 border-t border-gray-50 dark:border-[#1a1a1a]",children:[(0,d.jsx)("span",{className:"text-gray-500 dark:text-gray-400 text-xs font-medium",children:"Classrooms"}),(0,d.jsxs)("div",{className:"flex items-center gap-1.5 font-bold text-gray-700 dark:text-gray-300 text-xs",children:[(0,d.jsx)(j.BookOpen,{className:"w-3 h-3 text-gray-400"}),a._count?.taughtClassrooms||0]})]}),(0,d.jsx)("div",{className:"pt-4 flex items-center justify-between",children:(0,d.jsx)("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-wider ${"TEACHER"===b?"bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400":"CONTEST_MANAGER"===b?"bg-purple-50 dark:bg-purple-900/20 text-purple-600 dark:text-purple-400":"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400"}`,children:b.replace("_"," ")})})]})]},a.id))}),c&&c.pages>1&&(0,d.jsxs)("div",{className:"flex items-center justify-between border-t border-gray-200 dark:border-[#262626] pt-4",children:[(0,d.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Showing ",(0,d.jsx)("span",{className:"font-bold",children:(c.current-1)*c.limit+1})," to ",(0,d.jsx)("span",{className:"font-bold",children:Math.min(c.current*c.limit,c.total)})," of ",(0,d.jsx)("span",{className:"font-bold",children:c.total})," results"]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("button",{onClick:()=>k?.(c.current-1),disabled:c.current<=1,className:"p-2 rounded-lg border border-gray-200 dark:border-[#262626] disabled:opacity-50 hover:bg-gray-50 dark:hover:bg-[#1a1a1a] transition-colors",children:(0,d.jsx)(l.ChevronLeft,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),(0,d.jsx)("span",{className:"text-sm font-bold text-gray-700 dark:text-gray-300 px-2",children:c.current}),(0,d.jsx)("button",{onClick:()=>k?.(c.current+1),disabled:c.current>=c.pages,className:"p-2 rounded-lg border border-gray-200 dark:border-[#262626] disabled:opacity-50 hover:bg-gray-50 dark:hover:bg-[#1a1a1a] transition-colors",children:(0,d.jsx)(m.ChevronRight,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})})]})]})]})}function r({role:a,className:b}){return"TEACHER"===a?(0,d.jsx)(j.BookOpen,{className:b}):"CONTEST_MANAGER"===a?(0,d.jsx)(k.Shield,{className:b}):(0,d.jsx)(r.Default,{className:b})}r.Default=({className:a})=>(0,d.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[(0,d.jsx)("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),(0,d.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,d.jsx)("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),(0,d.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),a.s(["default",()=>q],895626)},190519,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(394224),e=a.i(492134),f=a.i(895626),g=a.i(915618),h=a.i(238246);function i(){let{data:a}=e.authClient.useSession(),[i,j]=(0,c.useState)([]),[k,l]=(0,c.useState)(null),[m,n]=(0,c.useState)(!0),[o,p]=(0,c.useState)(1),q=a?.user?.institutionId,r=async()=>{if(!q)return;n(!0);let a=await (0,d.getInstitutionUsers)(q,"TEACHER",o);a.success&&a.users&&(j(a.users),l(a.pagination)),n(!1)};return(0,c.useEffect)(()=>{q&&r()},[q,o]),(0,b.jsxs)("div",{className:"p-8 max-w-7xl mx-auto space-y-8",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-black text-gray-900 dark:text-white tracking-tight",children:"Teachers"}),(0,b.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mt-2",children:"Manage your academic staff and educators."})]}),(0,b.jsxs)(h.default,{href:"/dashboard/institution/invites",className:"flex items-center gap-2 px-5 py-2.5 bg-gray-900 dark:bg-white text-white dark:text-black rounded-xl font-bold text-sm hover:opacity-90 transition-opacity shadow-lg shadow-gray-200 dark:shadow-none",children:[(0,b.jsx)(g.Plus,{className:"w-4 h-4"}),"Invite Teachers"]})]}),(0,b.jsx)(f.default,{users:i,role:"TEACHER",onRefresh:r,pagination:k,onPageChange:p,isLoading:m})]})}a.s(["default",()=>i])}];

//# sourceMappingURL=_7f873ae5._.js.map