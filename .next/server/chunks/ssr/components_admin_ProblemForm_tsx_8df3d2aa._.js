module.exports=[918627,a=>{"use strict";var b,c,d=a.i(187924),e=a.i(572131),f=a.i(463021),g=a.i(823292),h=a.i(50944),i=a.i(915618),j=a.i(781560),k=a.i(177156),l=a.i(141379),m=a.i(695245),n=a.i(159501),o=a.i(954714),p=a.i(633508),q=a.i(587532),r=a.i(596221),s=a.i(126115),t=a.i(405050);let u=(0,t.createServerReference)("40a66eb7fce2bf848941a179152de159624d1a4e16",t.callServer,void 0,t.findSourceMapURL,"createTag");function v({value:a,onChange:b,placeholder:c="Search or create tags..."}){let[f,h]=(0,e.useState)(""),[j,k]=(0,e.useState)([]),[l,m]=(0,e.useState)(!1),[n,o]=(0,e.useState)(!1),[t,v]=(0,e.useState)(!1),w=(0,e.useRef)(null);(0,e.useEffect)(()=>{let a=setTimeout(()=>{f.trim()?x(f):k([])},300);return()=>clearTimeout(a)},[f]),(0,e.useEffect)(()=>{function a(a){w.current&&!w.current.contains(a.target)&&v(!1)}return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]);let x=async b=>{m(!0);let c=await (0,s.searchTags)(b);if(c.success&&c.tags){let b=new Set(a.map(a=>a.slug));k(c.tags.filter(a=>!b.has(a.slug)))}m(!1),v(!0)},y=c=>{b([...a,c]),h(""),k([]),v(!1)},z=async()=>{if(!f.trim())return;o(!0);let a=await u(f);o(!1),a.success&&a.tag?(y(a.tag),g.toast.success(`Tag "${a.tag.name}" created`)):g.toast.error("Failed to create tag")};return(0,d.jsxs)("div",{className:"space-y-3",ref:w,children:[(0,d.jsx)("div",{className:"flex flex-wrap gap-2",children:a.map(c=>(0,d.jsxs)("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-orange-50 text-orange-700 rounded-full text-sm font-medium border border-orange-100",children:[c.name,(0,d.jsx)("button",{type:"button",onClick:()=>{var d;return d=c.slug,void b(a.filter(a=>a.slug!==d))},className:"ml-2",children:(0,d.jsx)(p.X,{className:"w-3 h-3"})})]},c.slug))}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,d.jsx)(q.Search,{className:"h-4 w-4 text-gray-400"})}),(0,d.jsx)("input",{type:"text",value:f,onChange:a=>{h(a.target.value),v(!0)},onFocus:()=>{f.trim()&&v(!0)},onKeyDown:a=>{"Enter"===a.key&&(a.preventDefault(),j.length>0?y(j[0]):f.trim()&&z())},className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-[#333] rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all placeholder:text-gray-400 dark:placeholder:text-gray-600 bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-white",placeholder:c}),t&&f.trim()&&(0,d.jsx)("div",{className:"absolute z-50 mt-1 w-full bg-white dark:bg-[#1a1a1a] rounded-lg shadow-xl border border-gray-100 dark:border-[#333] max-h-60 overflow-y-auto",children:l?(0,d.jsxs)("div",{className:"p-4 text-center text-gray-400 text-sm flex items-center justify-center gap-2",children:[(0,d.jsx)(r.Loader2,{className:"w-4 h-4 animate-spin"})," Searching..."]}):(0,d.jsxs)("div",{className:"py-1",children:[j.map(a=>(0,d.jsxs)("button",{type:"button",onClick:()=>y(a),className:"w-full text-left px-4 py-2 hover:bg-orange-50 dark:hover:bg-[#262626] text-gray-700 dark:text-gray-300 text-sm transition-colors flex items-center justify-between group",children:[(0,d.jsx)("span",{children:a.name}),(0,d.jsx)(i.Plus,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 text-orange-500"})]},a.slug)),0===j.length&&(0,d.jsxs)("button",{type:"button",onClick:z,className:"w-full text-left px-4 py-3 hover:bg-orange-50 dark:hover:bg-[#262626] text-orange-600 dark:text-orange-400 text-sm transition-colors flex items-center gap-2 border-t border-gray-50 dark:border-[#262626] font-medium",children:[(0,d.jsx)(i.Plus,{className:"w-4 h-4"}),'Create "',f,'"',n&&(0,d.jsx)(r.Loader2,{className:"w-3 h-3 animate-spin ml-auto"})]})]})})]})]})}function w(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function x(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function y(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?x(Object(c),!0).forEach(function(b){var d;d=c[b],b in a?Object.defineProperty(a,b,{value:d,enumerable:!0,configurable:!0,writable:!0}):a[b]=d}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):x(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function z(a){return function b(){for(var c=this,d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return e.length>=a.length?a.apply(this,e):function(){for(var a=arguments.length,d=Array(a),f=0;f<a;f++)d[f]=arguments[f];return b.apply(c,[].concat(e,d))}}}function A(a){return({}).toString.call(a).includes("Object")}function B(a){return"function"==typeof a}var C=z(function(a,b){throw Error(a[b]||a.default)})({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),D=function(a,b){return A(b)||C("changeType"),Object.keys(b).some(function(b){return!Object.prototype.hasOwnProperty.call(a,b)})&&C("changeField"),b},E=function(a){B(a)||C("selectorType")},F=function(a){B(a)||A(a)||C("handlerType"),A(a)&&Object.values(a).some(function(a){return!B(a)})&&C("handlersType")},G=function(a){a||C("initialIsRequired"),A(a)||C("initialType"),Object.keys(a).length||C("initialContent")};function H(a,b){return B(b)?b(a.current):b}function I(a,b){return a.current=y(y({},a.current),b),b}function J(a,b,c){return B(b)?b(a.current):Object.keys(c).forEach(function(c){var d;return null==(d=b[c])?void 0:d.call(b,a.current[c])}),c}var K={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},L=(b=function(a,b){throw Error(a[b]||a.default)},function a(){for(var c=this,d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return e.length>=b.length?b.apply(this,e):function(){for(var b=arguments.length,d=Array(b),f=0;f<b;f++)d[f]=arguments[f];return a.apply(c,[].concat(e,d))}})(K),M=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return function(a){return b.reduceRight(function(a,b){return b(a)},a)}},N={type:"cancelation",msg:"operation is manually canceled"};function O(a){var b=!1,c=new Promise(function(c,d){a.then(function(a){return b?d(N):c(a)}),a.catch(d)});return c.cancel=function(){return b=!0},c}var P=function(a){if(Array.isArray(a))return a}(c=({create:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};G(a),F(b);var c={current:a},d=z(J)(c,b),e=z(I)(c),f=z(D)(a),g=z(H)(c);return[function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(a){return a};return E(a),a(c.current)},function(a){(function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return function(a){return b.reduceRight(function(a,b){return b(a)},a)}})(d,e,f,g)(a)}]}}).create({config:{paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}},isInitialized:!1,resolve:null,reject:null,monaco:null}))||function(a,b){var c=null==a?null:"u">typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=c){var d,e,f,g,h=[],i=!0,j=!1;try{f=(c=c.call(a)).next,!1;for(;!(i=(d=f.call(c)).done)&&(h.push(d.value),2!==h.length);i=!0);}catch(a){j=!0,e=a}finally{try{if(!i&&null!=c.return&&(g=c.return(),Object(g)!==g))return}finally{if(j)throw e}}return h}}(c,2)||function(a,b){if(a){if("string"==typeof a)return w(a,2);var c=({}).toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?w(a,2):void 0}}(c,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),Q=P[0],R=P[1];function S(a){return document.body.appendChild(a)}function T(a){var b,c,d=Q(function(a){return{config:a.config,reject:a.reject}}),e=(b="".concat(d.config.paths.vs,"/loader.js"),c=document.createElement("script"),b&&(c.src=b),c);return e.onload=function(){return a()},e.onerror=d.reject,e}function U(){var a=Q(function(a){return{config:a.config,resolve:a.resolve,reject:a.reject}}),b=window.require;b.config(a.config),b(["vs/editor/editor.main"],function(b){var c=b.m||b;V(c),a.resolve(c)},function(b){a.reject(b)})}function V(a){Q().monaco||R({monaco:a})}var W=new Promise(function(a,b){return R({resolve:a,reject:b})}),X=function(){var a=Q(function(a){return{monaco:a.monaco,isInitialized:a.isInitialized,resolve:a.resolve}});if(!a.isInitialized){if(R({isInitialized:!0}),a.monaco)return a.resolve(a.monaco),O(W);if(window.monaco&&window.monaco.editor)return V(window.monaco),a.resolve(window.monaco),O(W);M(S,T)(U)}return O(W)},Y={display:"flex",position:"relative",textAlign:"initial"},Z={width:"100%"},$={display:"none"},_={display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"},aa=function({children:a}){return e.default.createElement("div",{style:_},a)},ab=(0,e.memo)(function({width:a,height:b,isEditorReady:c,loading:d,_ref:f,className:g,wrapperProps:h}){return e.default.createElement("section",{style:{...Y,width:a,height:b},...h},!c&&e.default.createElement(aa,null,d),e.default.createElement("div",{ref:f,style:{...Z,...!c&&$},className:g}))}),ac=function(a){(0,e.useEffect)(a,[])},ad=function(a,b,c=!0){let d=(0,e.useRef)(!0);(0,e.useEffect)(d.current||!c?()=>{d.current=!1}:a,b)};function ae(){}function af(a,b,c,d){var e,f,g,h,i,j;return e=a,f=d,e.editor.getModel(ag(e,f))||(g=a,h=b,i=c,j=d,g.editor.createModel(h,i,j?ag(g,j):void 0))}function ag(a,b){return a.Uri.parse(b)}(0,e.memo)(function({original:a,modified:b,language:c,originalLanguage:d,modifiedLanguage:f,originalModelPath:g,modifiedModelPath:h,keepCurrentOriginalModel:i=!1,keepCurrentModifiedModel:j=!1,theme:k="light",loading:l="Loading...",options:m={},height:n="100%",width:o="100%",className:p,wrapperProps:q={},beforeMount:r=ae,onMount:s=ae}){let[t,u]=(0,e.useState)(!1),[v,w]=(0,e.useState)(!0),x=(0,e.useRef)(null),y=(0,e.useRef)(null),z=(0,e.useRef)(null),A=(0,e.useRef)(s),B=(0,e.useRef)(r),C=(0,e.useRef)(!1);ac(()=>{let a=X();return a.then(a=>(y.current=a)&&w(!1)).catch(a=>a?.type!=="cancelation"&&console.error("Monaco initialization: error:",a)),()=>{let b;return x.current?(b=x.current?.getModel(),void(i||b?.original?.dispose(),j||b?.modified?.dispose(),x.current?.dispose())):a.cancel()}}),ad(()=>{if(x.current&&y.current){let b=x.current.getOriginalEditor(),e=af(y.current,a||"",d||c||"text",g||"");e!==b.getModel()&&b.setModel(e)}},[g],t),ad(()=>{if(x.current&&y.current){let a=x.current.getModifiedEditor(),d=af(y.current,b||"",f||c||"text",h||"");d!==a.getModel()&&a.setModel(d)}},[h],t),ad(()=>{let a=x.current.getModifiedEditor();a.getOption(y.current.editor.EditorOption.readOnly)?a.setValue(b||""):b!==a.getValue()&&(a.executeEdits("",[{range:a.getModel().getFullModelRange(),text:b||"",forceMoveMarkers:!0}]),a.pushUndoStop())},[b],t),ad(()=>{x.current?.getModel()?.original.setValue(a||"")},[a],t),ad(()=>{let{original:a,modified:b}=x.current.getModel();y.current.editor.setModelLanguage(a,d||c||"text"),y.current.editor.setModelLanguage(b,f||c||"text")},[c,d,f],t),ad(()=>{y.current?.editor.setTheme(k)},[k],t),ad(()=>{x.current?.updateOptions(m)},[m],t);let D=(0,e.useCallback)(()=>{if(!y.current)return;B.current(y.current);let e=af(y.current,a||"",d||c||"text",g||""),i=af(y.current,b||"",f||c||"text",h||"");x.current?.setModel({original:e,modified:i})},[c,b,f,a,d,g,h]),E=(0,e.useCallback)(()=>{!C.current&&z.current&&(x.current=y.current.editor.createDiffEditor(z.current,{automaticLayout:!0,...m}),D(),y.current?.editor.setTheme(k),u(!0),C.current=!0)},[m,k,D]);return(0,e.useEffect)(()=>{t&&A.current(x.current,y.current)},[t]),(0,e.useEffect)(()=>{v||t||E()},[v,t,E]),e.default.createElement(ab,{width:o,height:n,isEditorReady:t,loading:l,_ref:z,className:p,wrapperProps:q})});var ah=function(a){let b=(0,e.useRef)();return(0,e.useEffect)(()=>{b.current=a},[a]),b.current},ai=new Map,aj=(0,e.memo)(function({defaultValue:a,defaultLanguage:b,defaultPath:c,value:d,language:f,path:g,theme:h="light",line:i,loading:j="Loading...",options:k={},overrideServices:l={},saveViewState:m=!0,keepCurrentModel:n=!1,width:o="100%",height:p="100%",className:q,wrapperProps:r={},beforeMount:s=ae,onMount:t=ae,onChange:u,onValidate:v=ae}){let[w,x]=(0,e.useState)(!1),[y,z]=(0,e.useState)(!0),A=(0,e.useRef)(null),B=(0,e.useRef)(null),C=(0,e.useRef)(null),D=(0,e.useRef)(t),E=(0,e.useRef)(s),F=(0,e.useRef)(),G=(0,e.useRef)(d),H=ah(g),I=(0,e.useRef)(!1),J=(0,e.useRef)(!1);ac(()=>{let a=X();return a.then(a=>(A.current=a)&&z(!1)).catch(a=>a?.type!=="cancelation"&&console.error("Monaco initialization: error:",a)),()=>B.current?void(F.current?.dispose(),n?m&&ai.set(g,B.current.saveViewState()):B.current.getModel()?.dispose(),B.current.dispose()):a.cancel()}),ad(()=>{let e=af(A.current,a||d||"",b||f||"",g||c||"");e!==B.current?.getModel()&&(m&&ai.set(H,B.current?.saveViewState()),B.current?.setModel(e),m&&B.current?.restoreViewState(ai.get(g)))},[g],w),ad(()=>{B.current?.updateOptions(k)},[k],w),ad(()=>{B.current&&void 0!==d&&(B.current.getOption(A.current.editor.EditorOption.readOnly)?B.current.setValue(d):d!==B.current.getValue()&&(J.current=!0,B.current.executeEdits("",[{range:B.current.getModel().getFullModelRange(),text:d,forceMoveMarkers:!0}]),B.current.pushUndoStop(),J.current=!1))},[d],w),ad(()=>{let a=B.current?.getModel();a&&f&&A.current?.editor.setModelLanguage(a,f)},[f],w),ad(()=>{void 0!==i&&B.current?.revealLine(i)},[i],w),ad(()=>{A.current?.editor.setTheme(h)},[h],w);let K=(0,e.useCallback)(()=>{if(!(!C.current||!A.current)&&!I.current){E.current(A.current);let e=g||c,j=af(A.current,d||a||"",b||f||"",e||"");B.current=A.current?.editor.create(C.current,{model:j,automaticLayout:!0,...k},l),m&&B.current.restoreViewState(ai.get(e)),A.current.editor.setTheme(h),void 0!==i&&B.current.revealLine(i),x(!0),I.current=!0}},[a,b,c,d,f,g,k,l,m,h,i]);return(0,e.useEffect)(()=>{w&&D.current(B.current,A.current)},[w]),(0,e.useEffect)(()=>{y||w||K()},[y,w,K]),G.current=d,(0,e.useEffect)(()=>{w&&u&&(F.current?.dispose(),F.current=B.current?.onDidChangeModelContent(a=>{J.current||u(B.current.getValue(),a)}))},[w,u]),(0,e.useEffect)(()=>{if(w){let a=A.current.editor.onDidChangeMarkers(a=>{let b=B.current.getModel()?.uri;if(b&&a.find(a=>a.path===b.path)){let a=A.current.editor.getModelMarkers({resource:b});v?.(a)}});return()=>{a?.dispose()}}return()=>{}},[w,v]),e.default.createElement(ab,{width:o,height:p,isEditorReady:w,loading:j,_ref:C,className:q,wrapperProps:r})}),ak=a.i(405784),al=a.i(50522),am=a.i(705151),an=a.i(533441),ao=a.i(340291),ap=a.i(413902);let aq=ao.LANGUAGES.filter(a=>82!==a.id);function ar({value:a,onChange:b,useFunctionTemplate:c,onUseFunctionTemplateChange:f}){let[g,h]=(0,e.useState)(new Set),[i,j]=(0,e.useState)(null),{theme:k,systemTheme:l}=(0,ap.useTheme)(),m="dark"===("system"===k?l:k),n=(0,e.useMemo)(()=>{let b=new Map;return a.forEach(a=>b.set(a.languageId,a)),b},[a]),o=(c,d,e)=>{let f=n.get(c),g=f?{...f,[d]:e}:{languageId:c,functionTemplate:"",driverCode:"",[d]:e},h=a.filter(a=>a.languageId!==c);h.push(g),b(h)},p=a=>n.get(a)||{languageId:a,functionTemplate:"",driverCode:""};return(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)("div",{className:"bg-gray-50 dark:bg-[#141414] rounded-xl p-4 border border-gray-200 dark:border-[#262626]",children:(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsx)("button",{type:"button",onClick:()=>f(!1),className:`flex-1 px-4 py-3 rounded-lg text-sm font-medium transition-all border-2 ${!c?"bg-white dark:bg-[#1a1a1a] border-orange-500 text-orange-700 dark:text-orange-400 shadow-sm":"bg-transparent border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-[#1a1a1a]"}`,children:(0,d.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,d.jsx)("span",{className:"font-semibold",children:"Use Default"}),(0,d.jsx)("span",{className:"text-xs opacity-75",children:"Standard boilerplate code"})]})}),(0,d.jsx)("button",{type:"button",onClick:()=>f(!0),className:`flex-1 px-4 py-3 rounded-lg text-sm font-medium transition-all border-2 ${c?"bg-white dark:bg-[#1a1a1a] border-orange-500 text-orange-700 dark:text-orange-400 shadow-sm":"bg-transparent border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-[#1a1a1a]"}`,children:(0,d.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,d.jsx)("span",{className:"font-semibold",children:"Use Function"}),(0,d.jsx)("span",{className:"text-xs opacity-75",children:"Custom function template + driver"})]})})]})}),c&&(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Language Templates"}),(0,d.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Define function signature and driver code for each language"})]}),(0,d.jsx)("div",{className:"border border-gray-200 dark:border-[#262626] rounded-xl overflow-hidden",children:aq.map((a,c)=>{let e,f=g.has(a.id),k=p(a.id),l=!!((e=p(a.id)).functionTemplate||e.driverCode);return(0,d.jsxs)("div",{className:c>0?"border-t border-gray-200 dark:border-[#262626]":"",children:[(0,d.jsxs)("div",{className:"w-full flex items-center justify-between px-4 py-3 bg-gray-50 dark:bg-[#1a1a1a] hover:bg-gray-100 dark:hover:bg-[#202020] transition-colors",children:[(0,d.jsxs)("button",{type:"button",onClick:()=>{var b;return b=a.id,void h(a=>{let c=new Set(a);return c.has(b)?c.delete(b):c.add(b),c})},className:"flex items-center gap-3 flex-1",children:[f?(0,d.jsx)(ak.ChevronDown,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"}):(0,d.jsx)(al.ChevronRight,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"}),(0,d.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-200",children:a.name}),l&&(0,d.jsx)("span",{className:"px-2 py-0.5 bg-green-100 dark:bg-green-500/10 text-green-700 dark:text-green-400 text-xs rounded-full font-medium",children:"Configured"})]}),f&&l&&(0,d.jsx)("button",{type:"button",onClick:()=>{var c;let d;!(d=p(c=a.id)).functionTemplate&&!d.driverCode||(b(aq.map(a=>({languageId:a.id,functionTemplate:d.functionTemplate,driverCode:d.driverCode}))),j(c),setTimeout(()=>j(null),2e3))},className:"flex items-center gap-1.5 px-2 py-1 text-xs font-medium text-gray-600 dark:text-gray-400 hover:text-orange-600 dark:hover:text-orange-400 hover:bg-orange-50 dark:hover:bg-orange-500/10 rounded transition-colors",children:i===a.id?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(an.Check,{className:"w-3 h-3"}),"Copied!"]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(am.Copy,{className:"w-3 h-3"}),"Copy to all"]})})]}),f&&(0,d.jsxs)("div",{className:"p-4 bg-white dark:bg-[#141414] space-y-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("label",{className:"block text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:["Function Template",(0,d.jsx)("span",{className:"font-normal text-gray-400 dark:text-gray-500 ml-2",children:"(What user sees as boilerplate)"})]}),(0,d.jsx)("div",{className:"border border-gray-200 dark:border-[#333] rounded-lg overflow-hidden h-40",children:(0,d.jsx)(aj,{height:"100%",language:a.monacoLanguage,value:k.functionTemplate,theme:m?"vs-dark":"vs-light",onChange:b=>o(a.id,"functionTemplate",b||""),options:{minimap:{enabled:!1},fontSize:13,lineNumbers:"on",scrollBeyondLastLine:!1,automaticLayout:!0,padding:{top:8}},loading:(0,d.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,d.jsx)(r.Loader2,{className:"w-5 h-5 text-orange-500 animate-spin"})})})})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("label",{className:"block text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:["Driver Code",(0,d.jsx)("span",{className:"font-normal text-gray-400 dark:text-gray-500 ml-2",children:"(Hidden - calls user's function)"})]}),(0,d.jsx)("div",{className:"border border-gray-200 dark:border-[#333] rounded-lg overflow-hidden h-48",children:(0,d.jsx)(aj,{height:"100%",language:a.monacoLanguage,value:k.driverCode,theme:m?"vs-dark":"vs-light",onChange:b=>o(a.id,"driverCode",b||""),options:{minimap:{enabled:!1},fontSize:13,lineNumbers:"on",scrollBeyondLastLine:!1,automaticLayout:!0,padding:{top:8}},loading:(0,d.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,d.jsx)(r.Loader2,{className:"w-5 h-5 text-orange-500 animate-spin"})})})}),(0,d.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"This code wraps the user's implementation. Include input parsing and function call."})]})]})]},a.id)})}),(0,d.jsx)("div",{className:"bg-blue-50 dark:bg-blue-500/10 border border-blue-200 dark:border-blue-500/20 rounded-lg p-3",children:(0,d.jsxs)("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:[(0,d.jsx)("strong",{children:"Tip:"}),' Define the function signature in "Function Template" and the I/O handling in "Driver Code". When running, the system combines: ',(0,d.jsx)("code",{className:"bg-blue-100 dark:bg-blue-500/20 px-1 rounded",children:"driver code + user's function"})]})})]})]})}let as=o.object({languageId:o.number(),functionTemplate:o.string(),driverCode:o.string()}),at=o.object({title:o.string().min(1,"Title is required"),slug:o.string().min(1,"Slug is required"),description:o.string().min(1,"Description is required"),difficulty:o.nativeEnum(f.Difficulty),hidden:o.boolean(),hiddenQuery:o.string().optional().nullable(),tags:o.array(o.string()).optional(),testCases:o.array(o.object({input:o.string(),output:o.string().min(1,"Output is required"),hidden:o.boolean().optional()})).min(1,"At least one test case is required"),useFunctionTemplate:o.boolean().optional(),functionTemplates:o.array(as).optional(),solution:o.string().optional().nullable()});function au({initialData:a,onSubmit:b,submitLabel:c,domain:f="DSA",redirectPath:o}){let[p,q]=(0,e.useState)(!1),[r,s]=(0,e.useState)(1),[t,u]=(0,e.useState)(a?.tags||[]),[w,x]=(0,e.useState)(a?.useFunctionTemplate||!1),[y,z]=(0,e.useState)(a?.functionTemplates||[]);(0,e.useEffect)(()=>{a?.useFunctionTemplate!==void 0&&x(a.useFunctionTemplate),a?.functionTemplates&&z(a.functionTemplates)},[a]);let A=(0,h.useRouter)(),B="DSA"===f,C=B?5:4,{register:D,control:E,handleSubmit:F,watch:G,setValue:H,trigger:I,formState:{errors:J}}=(0,m.useForm)({resolver:(0,n.zodResolver)(at),defaultValues:{title:a?.title||"",slug:a?.slug||"",description:a?.description||"",difficulty:a?.difficulty||"EASY",hidden:a?.hidden||!1,hiddenQuery:a?.hiddenQuery||"",testCases:a?.testCases?.length?a.testCases:[{input:"",output:"",hidden:!1}],tags:a?.tags?.map(a=>a.slug)||[],useFunctionTemplate:a?.useFunctionTemplate||!1,functionTemplates:a?.functionTemplates||[],solution:a?.solution||""}}),{fields:K,append:L,remove:M}=(0,m.useFieldArray)({control:E,name:"testCases"}),N=G("hidden"),O=B?[{id:1,name:"Basic Details"},{id:2,name:"Description"},{id:3,name:"Solution"},{id:4,name:"Test Cases"},{id:5,name:"Code Templates"}]:[{id:1,name:"Basic Details"},{id:2,name:"Description"},{id:3,name:"Solution"},{id:4,name:"Test Cases"}],P=async a=>{a?.preventDefault(),a?.stopPropagation();(1===r?await I(["title","slug","difficulty"]):2===r?await I(["description"]):3===r?await I(["solution"]):4!==r||await I(["testCases"]))&&r<C&&s(a=>a+1)};async function Q(a){if(p)return;q(!0);let c={...a,hidden:a.hidden,hiddenQuery:"SQL"===f&&a.hiddenQuery?.trim()||null,domain:f,tags:t.map(a=>a.slug),useFunctionTemplate:!!B&&w,functionTemplates:B&&w?y:[]},d=await b(c);d.success?(g.toast.success("Saved successfully"),void 0!==o&&(A.push(o||"/admin/problems"),A.refresh())):g.toast.error(d.error||"Something went wrong"),q(!1)}return(0,d.jsxs)("div",{className:"bg-white dark:bg-[#141414] border border-gray-200 dark:border-[#262626] rounded-2xl shadow-sm overflow-hidden",children:[(0,d.jsx)("div",{className:"border-b border-gray-100 dark:border-[#262626] bg-gray-50/50 dark:bg-[#1a1a1a] p-6",children:(0,d.jsx)("div",{className:"flex items-center justify-between max-w-2xl mx-auto",children:O.map(a=>(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsxs)("div",{className:`
                                w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold transition-colors
                                ${r>=a.id?"bg-orange-600 text-white":"bg-gray-200 dark:bg-[#333] text-gray-500 dark:text-gray-400"}
                            `,children:[a.id,"                            "]}),(0,d.jsx)("span",{className:`text-sm font-medium ${r>=a.id?"text-gray-900 dark:text-white":"text-gray-400 dark:text-gray-600"}`,children:a.name}),a.id<C&&(0,d.jsx)("div",{className:"w-12 h-0.5 bg-gray-200 mx-2"})]},a.id))})}),(0,d.jsxs)("form",{onSubmit:F(Q),className:"p-8",children:[1===r&&(0,d.jsxs)("div",{className:"space-y-6 max-w-2xl mx-auto animation-fade-in",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Problem Title"}),(0,d.jsx)("input",{...D("title"),placeholder:"e.g. Two Sum",className:"w-full px-4 py-3 rounded-lg border border-gray-200 dark:border-[#333] focus:border-orange-500 dark:focus:border-orange-500 focus:ring-2 focus:ring-orange-100 dark:focus:ring-orange-500/10 outline-none transition-all placeholder:text-gray-400 dark:placeholder:text-gray-600 font-medium text-gray-900 dark:text-white bg-white dark:bg-[#0a0a0a]"}),J.title&&(0,d.jsx)("p",{className:"text-xs text-red-500",children:J.title.message})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Slug"}),(0,d.jsx)("input",{...D("slug"),placeholder:"e.g. two-sum",className:"w-full px-4 py-3 rounded-lg border border-gray-200 dark:border-[#333] focus:border-orange-500 dark:focus:border-orange-500 focus:ring-2 focus:ring-orange-100 dark:focus:ring-orange-500/10 outline-none transition-all placeholder:text-gray-400 dark:placeholder:text-gray-600 font-medium text-gray-900 dark:text-white bg-white dark:bg-[#0a0a0a]"}),J.slug&&(0,d.jsx)("p",{className:"text-xs text-red-500",children:J.slug.message})]}),(0,d.jsxs)("div",{className:`grid gap-6 ${"SQL"===f?"grid-cols-2":"grid-cols-1"}`,children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Difficulty"}),(0,d.jsxs)("select",{...D("difficulty"),className:"w-full px-4 py-3 rounded-lg border border-gray-200 dark:border-[#333] focus:border-orange-500 dark:focus:border-orange-500 focus:ring-2 focus:ring-orange-100 dark:focus:ring-orange-500/10 outline-none transition-all bg-white dark:bg-[#0a0a0a] font-medium text-gray-700 dark:text-gray-300",children:[(0,d.jsx)("option",{value:"EASY",children:"Easy"}),(0,d.jsx)("option",{value:"MEDIUM",children:"Medium"}),(0,d.jsx)("option",{value:"HARD",children:"Hard"})]})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Tags"}),(0,d.jsx)(v,{value:t,onChange:a=>{u(a),H("tags",a.map(a=>a.slug))}})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Hidden"}),(0,d.jsx)("div",{className:"space-y-2 flex flex-col justify-end",children:(0,d.jsxs)("button",{type:"button",onClick:()=>H("hidden",!N),className:`w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg text-sm font-semibold transition-colors border ${N?"bg-gray-50 dark:bg-[#1a1a1a] text-gray-600 dark:text-gray-400 border-gray-200 dark:border-[#333]":"bg-green-50 dark:bg-green-500/10 text-green-700 dark:text-green-400 border-green-200 dark:border-green-500/20"}`,children:[N?(0,d.jsx)(l.EyeOff,{className:"w-4 h-4"}):(0,d.jsx)(k.Eye,{className:"w-4 h-4"}),N?"Hidden Problem":"Visible Problem"]})})]})]})]}),2===r&&(0,d.jsxs)("div",{className:"space-y-4 max-w-4xl mx-auto animation-fade-in",children:[(0,d.jsx)("label",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Description (Markdown)"}),(0,d.jsx)("textarea",{...D("description"),rows:15,placeholder:"# Problem Description...",className:"w-full px-4 py-3 rounded-lg border border-gray-200 dark:border-[#333] focus:border-orange-500 dark:focus:border-orange-500 focus:ring-2 focus:ring-orange-100 dark:focus:ring-orange-500/10 outline-none transition-all font-mono text-sm leading-relaxed text-gray-900 dark:text-gray-100 bg-white dark:bg-[#0a0a0a] placeholder:text-gray-400 dark:placeholder:text-gray-600"}),J.description&&(0,d.jsx)("p",{className:"text-xs text-red-500",children:J.description.message}),"SQL"===f&&(0,d.jsxs)("div",{className:"space-y-2 mt-6",children:[(0,d.jsxs)("label",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:["Hidden Query (Optional)",(0,d.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400 font-normal ml-2",children:"This SQL query will be prepended to the user's code before execution"})]}),(0,d.jsx)("textarea",{...D("hiddenQuery"),rows:5,placeholder:"-- e.g. CREATE TABLE temp_table AS SELECT * FROM ...",className:"w-full px-4 py-3 rounded-lg border border-gray-200 dark:border-[#333] focus:border-orange-500 dark:focus:border-orange-500 focus:ring-2 focus:ring-orange-100 dark:focus:ring-orange-500/10 outline-none transition-all font-mono text-sm leading-relaxed text-gray-900 dark:text-gray-100 bg-white dark:bg-[#0a0a0a]"})]})]}),3===r&&(0,d.jsxs)("div",{className:"space-y-4 max-w-4xl mx-auto animation-fade-in",children:[(0,d.jsx)("label",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Solution (Markdown)"}),(0,d.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:"This solution will be visible only to users who have successfully solved the problem."}),(0,d.jsx)("textarea",{...D("solution"),rows:15,placeholder:"# Detailed Solution...",className:"w-full px-4 py-3 rounded-lg border border-gray-200 dark:border-[#333] focus:border-orange-500 dark:focus:border-orange-500 focus:ring-2 focus:ring-orange-100 dark:focus:ring-orange-500/10 outline-none transition-all font-mono text-sm leading-relaxed text-gray-900 dark:text-gray-100 bg-white dark:bg-[#0a0a0a]"}),J.solution&&(0,d.jsx)("p",{className:"text-xs text-red-500",children:J.solution.message})]}),4===r&&(0,d.jsxs)("div",{className:"space-y-6 max-w-3xl mx-auto animation-fade-in",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Test Cases"}),(0,d.jsxs)("button",{type:"button",onClick:()=>L({input:"",output:"",hidden:!1}),className:"flex items-center gap-2 px-3 py-1.5 text-orange-600 hover:bg-orange-50 rounded-lg text-sm font-medium transition-colors",children:[(0,d.jsx)(i.Plus,{className:"w-4 h-4"}),"Add Case"]})]}),(0,d.jsxs)("div",{className:"space-y-4",children:[K.map((a,b)=>(0,d.jsxs)("div",{className:"flex gap-4 p-4 border border-gray-100 dark:border-[#262626] rounded-xl bg-gray-50/50 dark:bg-[#1a1a1a] hover:border-orange-200 dark:hover:border-orange-500/30 transition-colors",children:[(0,d.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,d.jsxs)("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:["INPUT ","SQL"===f&&(0,d.jsx)("span",{className:"text-[10px] font-normal opacity-70 ml-1",children:"(OPTIONAL)"})]}),(0,d.jsx)("textarea",{...D(`testCases.${b}.input`),className:"w-full px-3 py-2 rounded-md border border-gray-200 dark:border-[#333] focus:border-orange-500 dark:focus:border-orange-500 outline-none text-sm font-mono bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-gray-100",rows:2})]}),(0,d.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,d.jsx)("label",{className:"text-xs font-medium text-gray-500",children:"OUTPUT"}),(0,d.jsx)("textarea",{...D(`testCases.${b}.output`),className:"w-full px-3 py-2 rounded-md border border-gray-200 dark:border-[#333] focus:border-orange-500 dark:focus:border-orange-500 outline-none text-sm font-mono bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-gray-100",rows:2})]}),(0,d.jsxs)("div",{className:"flex flex-col gap-2 pt-6 items-center",children:[(0,d.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer group",title:"Hidden Test Case",children:[(0,d.jsx)("input",{type:"checkbox",...D(`testCases.${b}.hidden`),className:"w-4 h-4 rounded border-gray-300 dark:border-[#444] text-orange-600 focus:ring-orange-500 dark:bg-[#0a0a0a] cursor-pointer"}),(0,d.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium group-hover:text-gray-700 dark:group-hover:text-gray-200 transition-colors",children:"Hidden"})]}),(0,d.jsx)("button",{type:"button",onClick:()=>M(b),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",children:(0,d.jsx)(j.Trash2,{className:"w-4 h-4"})})]})]},a.id)),J.testCases&&(0,d.jsx)("p",{className:"text-xs text-red-500",children:J.testCases.root?.message||"Invalid test cases"})]})]}),B&&5===r&&(0,d.jsxs)("div",{className:"space-y-6 max-w-4xl mx-auto animation-fade-in",children:[(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Code Templates"}),(0,d.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Choose how users will start solving this problem."})]}),(0,d.jsx)(ar,{value:y,onChange:z,useFunctionTemplate:w,onUseFunctionTemplateChange:x})]}),(0,d.jsxs)("div",{className:"mt-8 pt-6 border-t border-gray-100 dark:border-[#262626] flex justify-between",children:[(0,d.jsx)("button",{type:"button",onClick:()=>{s(a=>a-1)},disabled:1===r,className:"px-6 py-2.5 rounded-lg text-sm font-medium text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-[#1a1a1a] hover:text-gray-900 dark:hover:text-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Back"}),r<C?(0,d.jsx)("button",{type:"button",onClick:P,className:"px-6 py-2.5 rounded-lg bg-gray-900 dark:bg-white text-white dark:text-gray-900 text-sm font-medium hover:bg-gray-800 dark:hover:bg-gray-200 transition-colors",children:"Next Step"}):(0,d.jsx)("button",{type:"submit",disabled:p,className:"px-8 py-2.5 rounded-lg bg-orange-600 text-white text-sm font-bold hover:bg-orange-700 transition-colors disabled:opacity-70 flex items-center gap-2",children:p?"Saving...":c})]})]})]})}a.s(["default",()=>au],918627)}];

//# sourceMappingURL=components_admin_ProblemForm_tsx_8df3d2aa._.js.map