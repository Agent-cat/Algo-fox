(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,180127,e=>{"use strict";let a=(0,e.i(475254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["default",()=>a])},871689,e=>{"use strict";var a=e.i(180127);e.s(["ArrowLeft",()=>a.default])},761911,e=>{"use strict";let a=(0,e.i(475254).default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);e.s(["Users",()=>a],761911)},98919,e=>{"use strict";let a=(0,e.i(475254).default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);e.s(["Shield",()=>a],98919)},595468,e=>{"use strict";let a=(0,e.i(475254).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>a],595468)},503116,e=>{"use strict";let a=(0,e.i(475254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>a],503116)},223622,e=>{"use strict";let a=(0,e.i(475254).default)("ban",[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Ban",()=>a],223622)},878894,e=>{"use strict";let a=(0,e.i(475254).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>a],878894)},643027,e=>{"use strict";var a=e.i(843476),t=e.i(271645),r=e.i(618566),s=e.i(871689),l=e.i(761911),d=e.i(878894),i=e.i(223622),c=e.i(503116),n=e.i(595468),x=e.i(664659),o=e.i(475254);let g=(0,o.default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),m=(0,o.default)("lock-open",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);var h=e.i(98919),p=e.i(846696),y=e.i(95187);let u=(0,y.createServerReference)("4092871713fd49951fb96de6880895702406eeacf3",y.callServer,void 0,y.findSourceMapURL,"getContestParticipants"),k=(0,y.createServerReference)("6056877ff0b936524f0713c621512340498d9b6a4e",y.callServer,void 0,y.findSourceMapURL,"unblockParticipant");function b(){let e=(0,r.useParams)(),o=(0,r.useRouter)(),y=e.id,[b,f]=(0,t.useState)([]),[j,N]=(0,t.useState)(!0),[v,w]=(0,t.useState)(null),[B,C]=(0,t.useState)(null);(0,t.useEffect)(()=>{A()},[y]);let A=async()=>{N(!0);let e=await u(y);e.success&&e.participants?f(e.participants.map(e=>({...e,violations:e.violations.map(e=>({...e,createdAt:e.createdAt instanceof Date?e.createdAt.toISOString():e.createdAt}))}))):p.toast.error(e.error||"Failed to load participants"),N(!1)},S=async e=>{C(e);let a=await k(y,e);a.success?(p.toast.success("Participant unblocked successfully"),A()):p.toast.error(a.error||"Failed to unblock participant"),C(null)},M=b.filter(e=>e.isBlocked||e.permanentlyBlocked).length,P=b.filter(e=>e.isFlagged&&!e.isBlocked).length;return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-[#0a0a0a]",children:[(0,a.jsx)("div",{className:"bg-white dark:bg-[#141414] border-b border-gray-200 dark:border-[#262626] sticky top-0 z-10",children:(0,a.jsx)("div",{className:"max-w-6xl mx-auto px-4 py-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("button",{onClick:()=>o.back(),className:"p-2 hover:bg-gray-100 dark:hover:bg-[#1a1a1a] rounded-lg transition-colors text-gray-500 dark:text-gray-400",children:(0,a.jsx)(s.ArrowLeft,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Contest Participants"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"View violations and manage blocked participants"})]})]})})}),(0,a.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,a.jsx)("div",{className:"bg-white dark:bg-[#141414] rounded-xl p-4 border border-gray-200 dark:border-[#262626]",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-500/10 rounded-lg flex items-center justify-center",children:(0,a.jsx)(l.Users,{className:"w-5 h-5 text-blue-600 dark:text-blue-500"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:b.length}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Participants"})]})]})}),(0,a.jsx)("div",{className:"bg-white dark:bg-[#141414] rounded-xl p-4 border border-gray-200 dark:border-[#262626]",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-red-100 dark:bg-red-500/10 rounded-lg flex items-center justify-center",children:(0,a.jsx)(i.Ban,{className:"w-5 h-5 text-red-600 dark:text-red-500"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:M}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Blocked"})]})]})}),(0,a.jsx)("div",{className:"bg-white dark:bg-[#141414] rounded-xl p-4 border border-gray-200 dark:border-[#262626]",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-yellow-100 dark:bg-yellow-500/10 rounded-lg flex items-center justify-center",children:(0,a.jsx)(d.AlertTriangle,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-500"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:P}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Flagged"})]})]})}),(0,a.jsx)("div",{className:"bg-white dark:bg-[#141414] rounded-xl p-4 border border-gray-200 dark:border-[#262626]",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-500/10 rounded-lg flex items-center justify-center",children:(0,a.jsx)(h.Shield,{className:"w-5 h-5 text-green-600 dark:text-green-500"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:b.filter(e=>0===e.totalViolations).length}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Clean"})]})]})})]}),(0,a.jsx)("div",{className:"bg-white dark:bg-[#141414] rounded-xl border border-gray-200 dark:border-[#262626] overflow-hidden",children:j?(0,a.jsx)("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:"Loading participants..."}):0===b.length?(0,a.jsx)("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:"No participants yet"}):(0,a.jsx)("div",{className:"divide-y divide-gray-100 dark:divide-[#262626]",children:b.map(e=>(0,a.jsxs)("div",{className:"hover:bg-gray-50 dark:hover:bg-[#1a1a1a]",children:[(0,a.jsxs)("div",{className:"p-4 flex items-center justify-between cursor-pointer",onClick:()=>w(v===e.id?null:e.id),children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gray-200 dark:bg-[#262626] rounded-full flex items-center justify-center overflow-hidden",children:e.user.image?(0,a.jsx)("img",{src:e.user.image,alt:"",className:"w-full h-full object-cover",referrerPolicy:"no-referrer"}):(0,a.jsx)("span",{className:"text-gray-600 dark:text-gray-400 font-medium",children:e.user.name?.charAt(0)||"?"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.user.name}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.user.email})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[e.permanentlyBlocked?(0,a.jsxs)("span",{className:"px-2 py-1 bg-red-100 dark:bg-red-500/10 text-red-700 dark:text-red-400 text-xs font-medium rounded-full flex items-center gap-1",children:[(0,a.jsx)(i.Ban,{className:"w-3 h-3"})," Permanently Blocked"]}):e.tempBlockedUntil&&new Date(e.tempBlockedUntil)>new Date?(0,a.jsxs)("span",{className:"px-2 py-1 bg-orange-100 dark:bg-orange-500/10 text-orange-700 dark:text-orange-400 text-xs font-medium rounded-full flex items-center gap-1",children:[(0,a.jsx)(c.Clock,{className:"w-3 h-3"})," Temp Blocked"]}):e.isBlocked?(0,a.jsxs)("span",{className:"px-2 py-1 bg-red-100 dark:bg-red-500/10 text-red-700 dark:text-red-400 text-xs font-medium rounded-full flex items-center gap-1",children:[(0,a.jsx)(i.Ban,{className:"w-3 h-3"})," Blocked"]}):e.isFlagged?(0,a.jsxs)("span",{className:"px-2 py-1 bg-yellow-100 dark:bg-yellow-500/10 text-yellow-700 dark:text-yellow-400 text-xs font-medium rounded-full flex items-center gap-1",children:[(0,a.jsx)(d.AlertTriangle,{className:"w-3 h-3"})," Flagged"]}):e.unblockedAt?(0,a.jsxs)("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-500/10 text-green-700 dark:text-green-400 text-xs font-medium rounded-full flex items-center gap-1",children:[(0,a.jsx)(n.CheckCircle2,{className:"w-3 h-3"})," Unblocked"]}):(0,a.jsx)("span",{className:"px-2 py-1 bg-gray-100 dark:bg-[#1a1a1a] text-gray-700 dark:text-gray-300 text-xs font-medium rounded-full",children:"Active"}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:`text-lg font-bold ${e.totalViolations>=6?"text-red-600":e.totalViolations>=4?"text-orange-600":e.totalViolations>=1?"text-yellow-600":"text-green-600"}`,children:e.totalViolations}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Violations"})]}),v===e.id?(0,a.jsx)(g,{className:"w-5 h-5 text-gray-400"}):(0,a.jsx)(x.ChevronDown,{className:"w-5 h-5 text-gray-400"})]})]}),v===e.id&&(0,a.jsx)("div",{className:"px-4 pb-4 border-t border-gray-100 dark:border-[#262626] bg-gray-50 dark:bg-[#1a1a1a]",children:(0,a.jsxs)("div",{className:"pt-4",children:[(e.isBlocked||e.permanentlyBlocked)&&(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsxs)("button",{onClick:a=>{a.stopPropagation(),S(e.userId)},disabled:B===e.userId,className:"px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[(0,a.jsx)(m,{className:"w-4 h-4"}),B===e.userId?"Unblocking...":"Unblock Participant"]})}),(0,a.jsx)("p",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Recent Violations:"}),0===e.violations.length?(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No violations recorded"}):(0,a.jsx)("div",{className:"space-y-2",children:e.violations.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 bg-white dark:bg-[#141414] rounded-lg border border-gray-200 dark:border-[#262626]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"px-2 py-0.5 bg-red-100 dark:bg-red-500/10 text-red-700 dark:text-red-400 text-xs rounded font-medium",children:e.type.replace(/_/g," ")}),e.message&&(0,a.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.message})]}),(0,a.jsx)("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:new Date(e.createdAt).toLocaleTimeString()})]},e.id))})]})})]},e.id))})})]})]})}e.s(["default",()=>b],643027)}]);