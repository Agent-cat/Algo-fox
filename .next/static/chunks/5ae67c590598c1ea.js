(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,595468,e=>{"use strict";let a=(0,e.i(475254).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>a],595468)},463059,e=>{"use strict";let a=(0,e.i(475254).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>a],463059)},373375,e=>{"use strict";let a=(0,e.i(475254).default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);e.s(["ChevronLeft",()=>a],373375)},664030,e=>{"use strict";let a=(0,e.i(475254).default)("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]);e.s(["Trophy",()=>a],664030)},687130,e=>{"use strict";let a=(0,e.i(475254).default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);e.s(["Filter",()=>a],687130)},248256,e=>{"use strict";let a=(0,e.i(475254).default)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);e.s(["Globe",()=>a],248256)},284614,e=>{"use strict";let a=(0,e.i(475254).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>a],284614)},607486,e=>{"use strict";let a=(0,e.i(475254).default)("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]]);e.s(["Building2",()=>a],607486)},842009,e=>{"use strict";let a=(0,e.i(475254).default)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);e.s(["Award",()=>a],842009)},784243,243553,e=>{"use strict";var a=e.i(475254);let r=(0,a.default)("medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);e.s(["Medal",()=>r],784243);let t=(0,a.default)("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);e.s(["Crown",()=>t],243553)},205813,e=>{"use strict";var a=e.i(95187);let r=(0,a.createServerReference)("009f0a1e5777df118a0513af529d00d008ce515130",a.callServer,void 0,a.findSourceMapURL,"getInstitutions");e.s(["getInstitutions",()=>r])},912933,e=>{"use strict";var a=e.i(843476),r=e.i(271645),t=e.i(95187);let s=(0,t.createServerReference)("609409ea906081354499a1d8542ce166007483e325",t.callServer,void 0,t.findSourceMapURL,"getLeaderboardData");var d=e.i(846932),l=e.i(664030),i=e.i(784243),o=e.i(284614),c=e.i(243553),n=e.i(595468),x=e.i(373375),h=e.i(463059);let g=(0,e.i(475254).default)("rotate-cw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);var m=e.i(687130),b=e.i(607486),u=e.i(248256),y=e.i(842009),p=e.i(672136),f=e.i(205813),k=e.i(522016);function v(){let{data:e}=p.authClient.useSession(),[t,v]=(0,r.useState)([]),[w,j]=(0,r.useState)(!0),[N,M]=(0,r.useState)(1),[S,C]=(0,r.useState)("all"),[L,z]=(0,r.useState)([]),[A,R]=(0,r.useState)(!1),[H,q]=(0,r.useState)(!1),[I,$]=(0,r.useState)(!1);(0,r.useEffect)(()=>{e?.user?.role==="ADMIN"&&(R(!0),(async()=>{let e=await (0,f.getInstitutions)();e.success&&e.institutions&&z(e.institutions)})())},[e]);let T=async(e=!1)=>{e?$(!0):j(!0);try{let a=await s(S,e);v(a)}catch(e){console.error("Failed to fetch leaderboard",e)}finally{j(!1),$(!1)}};(0,r.useEffect)(()=>{T()},[S]);let U=Math.ceil(t.length/50),F=(0,r.useMemo)(()=>{let e=(N-1)*50;return t.slice(e,e+50)},[t,N]);return w?(0,a.jsxs)("div",{className:"min-h-screen dark:bg-[#0a0a0a] pt-12",children:[(0,a.jsx)("div",{className:"relative mb-12 bg-white dark:bg-[#0a0a0a] border-b border-gray-100 dark:border-[#262626] pb-32 overflow-hidden",children:(0,a.jsx)("div",{className:"absolute left-0 right-0 top-0 -z-10 m-auto h-77.5 w-77.5 rounded-full bg-orange-500 opacity-20 dark:opacity-30 blur-[100px]"})}),(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-6",children:(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-32 bg-white dark:bg-[#141414] rounded-3xl border border-gray-100 dark:border-[#262626] shadow-sm",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"w-16 h-16 border-4 border-orange-100 dark:border-orange-500/20 rounded-full"}),(0,a.jsx)("div",{className:"absolute top-0 left-0 w-16 h-16 border-4 border-orange-600 rounded-full border-t-transparent animate-spin"})]}),(0,a.jsx)("p",{className:"mt-6 text-gray-600 dark:text-gray-400 font-bold tracking-tight",children:"Loading leaderboard..."})]})})]}):(0,a.jsxs)("div",{className:"min-h-screen dark:bg-[#0a0a0a] pt-12",children:[(0,a.jsxs)("div",{className:"relative  bg-white dark:bg-[#0a0a0a] border-b border-gray-100 dark:border-[#262626] pb-32 overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute left-0 right-0 top-0 -z-10 m-auto h-77.5 w-77.5 rounded-full bg-orange-500 opacity-20 dark:opacity-30 blur-[100px]"}),(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-6 relative z-10",children:(0,a.jsxs)("div",{className:"flex flex-col items-center text-center gap-4",children:[(0,a.jsxs)("div",{className:"relative group cursor-default",children:[(0,a.jsx)("div",{className:"absolute -inset-1 rounded-full"}),(0,a.jsxs)("div",{className:"relative inline-flex items-center gap-2 px-6 py-2 bg-white dark:bg-[#0a0a0a] text-orange-600 dark:text-orange-500 rounded-full text-sm font-bold uppercase tracking-wider border border-orange-100 dark:border-orange-500/20",children:[(0,a.jsx)(l.Trophy,{className:"w-4 h-4"}),"Leaderboard"]})]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:["all"===S?"Global Standings":L.find(e=>e.id===S)?.name||"Campus Standings"," â€¢ ",t.length," Warriors"]})]})})]}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-6 relative -mt-16",children:[A&&(0,a.jsxs)("div",{className:"mb-6 flex flex-col items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("button",{onClick:()=>q(!H),className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-[#141414] border border-gray-200 dark:border-[#262626] rounded-xl text-xs font-bold uppercase tracking-wider text-gray-600 dark:text-gray-400 hover:text-orange-500 dark:hover:text-orange-400 transition-colors shadow-sm",children:[(0,a.jsx)(m.Filter,{className:"w-3.5 h-3.5"}),"Filter by Campus"]}),(0,a.jsxs)("button",{onClick:()=>T(!0),disabled:I,className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-[#141414] border border-gray-200 dark:border-[#262626] rounded-xl text-xs font-bold uppercase tracking-wider text-gray-600 dark:text-gray-400 hover:text-orange-500 dark:hover:text-orange-400 transition-colors shadow-sm disabled:opacity-50",children:[(0,a.jsx)(g,{className:`w-3.5 h-3.5 ${I?"animate-spin":""}`}),"Refresh"]})]}),H&&(0,a.jsxs)(d.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex flex-wrap justify-center gap-2 p-4 bg-white/80 dark:bg-[#141414]/80 backdrop-blur-xl rounded-2xl border border-gray-200 dark:border-[#262626] shadow-lg",children:[(0,a.jsxs)("button",{onClick:()=>C("all"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-bold uppercase transition-all ${"all"===S?"bg-orange-500 text-white shadow-lg shadow-orange-500/20":"bg-gray-50 dark:bg-[#1a1a1a] text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-white/5"}`,children:[(0,a.jsx)(u.Globe,{className:"w-3.5 h-3.5"}),"All Institutions"]}),L.map(e=>(0,a.jsxs)("button",{onClick:()=>C(e.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-bold uppercase transition-all ${S===e.id?"bg-orange-500 text-white shadow-lg shadow-orange-500/20":"bg-gray-50 dark:bg-[#1a1a1a] text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-white/5"}`,children:[(0,a.jsx)(b.Building2,{className:"w-3.5 h-3.5"}),e.name]},e.id))]})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-[#141414] rounded-2xl border border-gray-200 dark:border-[#262626] shadow-sm overflow-hidden",children:[(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-left border-collapse min-w-[800px]",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"bg-gray-50 dark:bg-[#0d0d0d] border-b border-gray-200 dark:border-[#262626]",children:[(0,a.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider w-20",children:"Rank"}),(0,a.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Warrior"}),(0,a.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider text-center",children:"Difficulty"}),(0,a.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider text-center w-32",children:"Points"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-100 dark:divide-[#1a1a1a]",children:F.map((r,t)=>{let s=(N-1)*50+t,d=r.userId===e?.user?.id;return(0,a.jsxs)("tr",{className:`group transition-all duration-200 ${d?"bg-orange-50/50 dark:bg-orange-500/5":"hover:bg-gray-50 dark:hover:bg-white/[0.02]"}`,children:[(0,a.jsx)("td",{className:"px-6 py-5",children:(0,a.jsx)("div",{className:"flex items-center justify-center",children:0===s?(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-full flex items-center justify-center shadow-lg shadow-yellow-500/30",children:(0,a.jsx)(c.Crown,{className:"w-5 h-5 text-white"})}):1===s?(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-gray-300 to-gray-500 rounded-full flex items-center justify-center shadow-lg shadow-gray-400/30",children:(0,a.jsx)(i.Medal,{className:"w-5 h-5 text-white"})}):2===s?(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-400 to-orange-600 rounded-full flex items-center justify-center shadow-lg shadow-orange-500/30",children:(0,a.jsx)(i.Medal,{className:"w-5 h-5 text-white"})}):(0,a.jsxs)("span",{className:"text-sm font-bold text-gray-400 dark:text-gray-500",children:["#",s+1]})})}),(0,a.jsx)("td",{className:"px-6 py-5",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-xl overflow-hidden bg-gray-100 dark:bg-[#1a1a1a] border border-gray-200 dark:border-[#262626] flex-shrink-0",children:r.image?(0,a.jsx)("img",{src:r.image,alt:r.name,className:"w-full h-full object-cover",referrerPolicy:"no-referrer"}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:(0,a.jsx)(o.User,{className:"w-6 h-6"})})}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsx)(k.default,{href:`/profile/${r.userId}`,className:"text-sm font-bold text-gray-900 dark:text-white hover:text-orange-500 dark:hover:text-orange-400 transition-colors block truncate",children:r.name}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5 mt-1",children:[(0,a.jsx)(n.CheckCircle2,{className:"w-3.5 h-3.5 text-emerald-500"}),(0,a.jsxs)("span",{className:"text-xs font-medium text-emerald-600 dark:text-emerald-400",children:[r.problemsSolved," solved"]})]})]})]})}),(0,a.jsx)("td",{className:"px-6 py-5",children:(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs font-medium",children:[(0,a.jsxs)("span",{className:"text-emerald-500",children:[r.stats.easy,"E"]}),(0,a.jsxs)("span",{className:"text-amber-500",children:[r.stats.medium,"M"]}),(0,a.jsxs)("span",{className:"text-rose-500",children:[r.stats.hard,"H"]})]}),(0,a.jsx)("div",{className:"w-full h-2 bg-gray-100 dark:bg-gray-800 flex rounded-full overflow-hidden",children:r.problemsSolved>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"h-full bg-emerald-500",style:{width:`${r.stats.easy/r.problemsSolved*100}%`}}),(0,a.jsx)("div",{className:"h-full bg-amber-500",style:{width:`${r.stats.medium/r.problemsSolved*100}%`}}),(0,a.jsx)("div",{className:"h-full bg-rose-500",style:{width:`${r.stats.hard/r.problemsSolved*100}%`}})]}):(0,a.jsx)("div",{className:"w-full h-full bg-gray-200 dark:bg-gray-800"})})]})}),(0,a.jsx)("td",{className:"px-6 py-5 text-center",children:(0,a.jsxs)("div",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-gray-900 dark:bg-white rounded-lg",children:[(0,a.jsx)(y.Award,{className:"w-3.5 h-3.5 text-orange-400 dark:text-orange-500"}),(0,a.jsx)("span",{className:"text-sm font-bold text-white dark:text-black",children:r.totalScore.toLocaleString()})]})})]},r.userId)})})]})}),U>1&&(0,a.jsxs)("div",{className:"px-6 py-4 bg-gray-50 dark:bg-[#0d0d0d] border-t border-gray-200 dark:border-[#262626] flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:["Showing ",(0,a.jsxs)("span",{className:"text-gray-900 dark:text-white font-bold",children:[(N-1)*50+1," - ",Math.min(50*N,t.length)]})," of ",t.length]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>M(e=>Math.max(1,e-1)),disabled:1===N,className:"p-2 rounded-lg border border-gray-200 dark:border-[#262626] bg-white dark:bg-[#141414] hover:bg-gray-50 dark:hover:bg-white/5 disabled:opacity-50 transition-colors",children:(0,a.jsx)(x.ChevronLeft,{className:"w-4 h-4"})}),(0,a.jsxs)("span",{className:"text-xs font-bold text-gray-600 dark:text-gray-400",children:["Page ",(0,a.jsx)("span",{className:"text-gray-900 dark:text-white",children:N})," of ",U]}),(0,a.jsx)("button",{onClick:()=>M(e=>Math.min(U,e+1)),disabled:N===U,className:"p-2 rounded-lg border border-gray-200 dark:border-[#262626] bg-white dark:bg-[#141414] hover:bg-gray-50 dark:hover:bg-white/5 disabled:opacity-50 transition-colors",children:(0,a.jsx)(h.ChevronRight,{className:"w-4 h-4"})})]})]})]})]})]})}e.s(["default",()=>v],912933)}]);