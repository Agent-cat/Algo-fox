(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,360946,e=>{"use strict";var a=e.i(843476),r=e.i(271645),s=e.i(95187);let t=(0,s.createServerReference)("802795cc36fc28f8a5abe150bc3a8f49de861174c5",s.callServer,void 0,s.findSourceMapURL,"getCourseAllocations"),l=(0,s.createServerReference)("60c2e1a72d096d3c7e7e0c1e61858d61d675213bad",s.callServer,void 0,s.findSourceMapURL,"updateYearAllocations");var o=e.i(846696);function d(){let[e,s]=(0,r.useState)([]),[d,i]=(0,r.useState)(!0),[c,n]=(0,r.useState)(!1),[u,x]=(0,r.useState)({}),m=["DSA","SQL"],b=[1,2,3,4];async function g(){i(!0);let e=await t();if(e.success&&e.allocations){s(e.allocations);let a={};b.forEach(r=>{a[r]=e.allocations.filter(e=>e.year===r).map(e=>e.domain)}),x(a)}i(!1)}(0,r.useEffect)(()=>{g()},[]);let h=async e=>{n(!0);let a=u[e]||[],r=await l(e,a);r.success?(o.toast.success(`Year ${e} allocations updated successfully`),await g()):o.toast.error(r.error||"Failed to update allocations"),n(!1)};return d?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-[#0a0a0a] flex items-center justify-center transition-colors",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading allocations..."})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-[#0a0a0a] py-8 px-4 sm:px-6 lg:px-8 transition-colors",children:(0,a.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Course Allocation Management"}),(0,a.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Allocate courses to different academic years. Students will only see courses allocated to their year."})]}),(0,a.jsx)("div",{className:"space-y-6",children:b.map(e=>(0,a.jsxs)("div",{className:"bg-white dark:bg-[#141414] rounded-lg shadow-sm border border-gray-200 dark:border-[#262626] p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:["Year ",e]}),(0,a.jsx)("button",{onClick:()=>h(e),disabled:c,className:"px-4 py-2 bg-orange-500 text-white rounded-lg font-medium hover:bg-orange-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Saving...":"Save"})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:m.map(r=>{let s=(u[e]||[]).includes(r);return(0,a.jsx)("button",{onClick:()=>{x(a=>{let s=a[e]||[],t=s.includes(r)?s.filter(e=>e!==r):[...s,r];return{...a,[e]:t}})},className:`p-4 rounded-lg border-2 transition-all text-left ${s?"border-orange-500 bg-orange-50 dark:bg-orange-500/10":"border-gray-200 dark:border-[#333] bg-white dark:bg-[#1a1a1a] hover:border-gray-300 dark:hover:border-[#444]"}`,children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:r}),s&&(0,a.jsx)("svg",{className:"w-5 h-5 text-orange-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]})},r)})})]},e))}),(0,a.jsx)("div",{className:"mt-8 bg-blue-50 dark:bg-blue-500/10 border border-blue-200 dark:border-blue-500/20 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-blue-500 dark:text-blue-400 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,a.jsx)("div",{className:"ml-3",children:(0,a.jsxs)("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[(0,a.jsx)("strong",{children:"Note:"})," Students will only see courses allocated to their academic year. Admins, teachers, institution managers, and contest managers can view all courses regardless of allocations."]})})]})})]})})}e.s(["default",()=>d],360946)}]);