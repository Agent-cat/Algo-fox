(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,531278,e=>{"use strict";let r=(0,e.i(475254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>r],531278)},180127,e=>{"use strict";let r=(0,e.i(475254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["default",()=>r])},871689,e=>{"use strict";var r=e.i(180127);e.s(["ArrowLeft",()=>r.default])},800253,e=>{"use strict";var r=e.i(95187);let t=(0,r.createServerReference)("6079c58c3044096e2e3c0e124762f766628d945274",r.callServer,void 0,r.findSourceMapURL,"updateCategory");e.s(["updateCategory",()=>t])},191515,e=>{"use strict";var r=e.i(843476),t=e.i(271645),a=e.i(618566),s=e.i(800253),l=e.i(846696),o=e.i(522016),i=e.i(871689),d=e.i(531278),n=e.i(653145),c=e.i(994814),g=e.i(362201);let m=g.object({name:g.string().min(1,"Name is required"),slug:g.string().min(1,"Slug is required").regex(/^[a-z0-9]+(?:-[a-z0-9]+)*$/,"Slug must be lowercase, alphanumeric, and hyphen-separated"),description:g.string().optional(),order:g.number().int()});function u(){let g=(0,a.useParams)(),u=(0,a.useRouter)(),x=g?.id,[p,h]=(0,t.useState)(!0),[b,y]=(0,t.useState)(!1),[f,j]=(0,t.useState)(null),{register:N,handleSubmit:v,reset:w,formState:{errors:S}}=(0,n.useForm)({resolver:(0,c.zodResolver)(m),defaultValues:{name:"",slug:"",description:"",order:0}});(0,t.useEffect)(()=>{x&&C()},[x]);let C=async()=>{try{let{getCategoryById:r}=await e.A(139557),t=await r(x);t.success&&t.category?(j(t.category),w({name:t.category.name,slug:t.category.slug,description:t.category.description||"",order:t.category.order})):l.toast.error(t.error||"Failed to load category")}catch(e){console.error("Failed to fetch category:",e),l.toast.error("Failed to load category")}finally{h(!1)}},F=async e=>{y(!0);try{let r=await (0,s.updateCategory)(x,{name:e.name,description:e.description||void 0,slug:e.slug,order:e.order});r.success?(l.toast.success("Category updated successfully"),u.push("/admin/categories"),u.refresh()):l.toast.error(r.error||"Failed to update category")}catch(e){console.error("Failed to update category:",e),l.toast.error("Failed to update category")}finally{y(!1)}};return p?(0,r.jsx)("div",{className:"min-h-screen pt-24 pb-12 px-6 bg-white flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"})}):f?(0,r.jsx)("div",{className:"min-h-screen pt-24 pb-12 px-6 bg-white",children:(0,r.jsxs)("div",{className:"max-w-2xl mx-auto ml-0",children:[(0,r.jsxs)(o.default,{href:"/admin/categories",className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[(0,r.jsx)(i.ArrowLeft,{className:"w-4 h-4"}),"Back to Categories"]}),(0,r.jsxs)("div",{className:"bg-white border border-gray-100 rounded-2xl shadow-xl shadow-gray-200/50 p-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Edit Category"}),(0,r.jsx)("p",{className:"text-gray-500 mb-8",children:"Update category details."}),(0,r.jsxs)("form",{onSubmit:v(F),className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Category Name *"}),(0,r.jsx)("input",{...N("name"),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all placeholder:text-gray-400",placeholder:"e.g., Arrays & Strings"}),S.name&&(0,r.jsx)("p",{className:"text-xs text-red-500 mt-1",children:S.name.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"slug",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Slug *"}),(0,r.jsx)("input",{...N("slug"),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all font-mono text-sm placeholder:text-gray-400",placeholder:"arrays-strings"}),(0,r.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"URL-friendly identifier"}),S.slug&&(0,r.jsx)("p",{className:"text-xs text-red-500 mt-1",children:S.slug.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"description",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),(0,r.jsx)("textarea",{...N("description"),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all resize-none placeholder:text-gray-400",placeholder:"Brief description of this category..."}),S.description&&(0,r.jsx)("p",{className:"text-xs text-red-500 mt-1",children:S.description.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"order",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Display Order"}),(0,r.jsx)("input",{...N("order",{valueAsNumber:!0}),type:"number",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all placeholder:text-gray-400",placeholder:"0"}),(0,r.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Lower numbers appear first"}),S.order&&(0,r.jsx)("p",{className:"text-xs text-red-500 mt-1",children:S.order.message})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4 pt-4",children:[(0,r.jsxs)("button",{type:"submit",disabled:b,className:"px-6 py-3 bg-orange-600 hover:bg-orange-700 text-white font-semibold rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[b&&(0,r.jsx)(d.Loader2,{className:"w-4 h-4 animate-spin"}),b?"Updating...":"Update Category"]}),(0,r.jsx)(o.default,{href:"/admin/categories",className:"px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold rounded-lg transition-all",children:"Cancel"})]})]})]})]})}):(0,r.jsx)("div",{className:"min-h-screen pt-24 pb-12 px-6 bg-white text-center",children:(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Category Not Found"})})}function x(){return(0,r.jsx)(t.Suspense,{fallback:(0,r.jsx)("div",{className:"min-h-screen pt-24 pb-12 px-6 bg-white flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"})}),children:(0,r.jsx)(u,{})})}e.s(["default",()=>x])},139557,e=>{e.v(r=>Promise.all(["static/chunks/7af1d85bba8a8d08.js"].map(r=>e.l(r))).then(()=>r(974848)))}]);