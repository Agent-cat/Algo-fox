(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,531278,e=>{"use strict";let r=(0,e.i(475254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>r],531278)},727612,e=>{"use strict";let r=(0,e.i(475254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>r],727612)},643531,e=>{"use strict";let r=(0,e.i(475254).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>r],643531)},37727,e=>{"use strict";let r=(0,e.i(475254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>r],37727)},174886,e=>{"use strict";let r=(0,e.i(475254).default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);e.s(["Copy",()=>r],174886)},221345,e=>{"use strict";let r=(0,e.i(475254).default)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);e.s(["Link",()=>r],221345)},564693,106074,971497,e=>{"use strict";var r=e.i(95187);let a=(0,r.createServerReference)("6063cd483379a41c765892304ba2c4b6076f9fe25a",r.callServer,void 0,r.findSourceMapURL,"checkCodeChefUser");e.s(["checkCodeChefUser",()=>a],564693);let t=(0,r.createServerReference)("60f28e01956bf5c9d597a2fde65801b141c59b3d64",r.callServer,void 0,r.findSourceMapURL,"checkCodeforcesUser");e.s(["checkCodeforcesUser",()=>t],106074);let s=(0,r.createServerReference)("602e4c595e83925f2fb97d138792c6c901bc6651d1",r.callServer,void 0,r.findSourceMapURL,"checkLeetCodeUser");e.s(["checkLeetCodeUser",()=>s],971497)},778917,e=>{"use strict";let r=(0,e.i(475254).default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);e.s(["ExternalLink",()=>r],778917)},238063,e=>{"use strict";var r=e.i(95187);let a=(0,r.createServerReference)("401adb5bf0163fd65ff314479b20d5a44231d975ab",r.callServer,void 0,r.findSourceMapURL,"updateUserInfo");e.s(["updateUserInfo",()=>a])},581418,e=>{"use strict";let r=(0,e.i(475254).default)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["ShieldCheck",()=>r],581418)},506934,e=>{"use strict";var r=e.i(843476),a=e.i(653145),t=e.i(271645),s=e.i(531278),d=e.i(727612),o=e.i(643531);let l=(0,e.i(475254).default)("github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);var i=e.i(37727),c=e.i(581418),n=e.i(221345),h=e.i(846696),f=e.i(238063),x=e.i(564693),u=e.i(106074),g=e.i(971497),m=e.i(657688),b=e.i(174886),p=e.i(778917),y=e.i(95187);let k=(0,y.createServerReference)("6025b82b45ad39180ed262d4932bb5045a0e8415db",y.callServer,void 0,y.findSourceMapURL,"verifyCodeChefOwnership"),v=(0,y.createServerReference)("60544a97665a44c2f404559d69526b2c7b9f0295a2",y.callServer,void 0,y.findSourceMapURL,"verifyCodeforcesOwnership"),j=(0,y.createServerReference)("601fb0da0dfc97022be5342d2cad339f22823cb918",y.callServer,void 0,y.findSourceMapURL,"verifyLeetCodeOwnership");function C({platform:e,handle:a,onClose:d,onSuccess:o}){let[l,c]=(0,t.useState)(1),[n,f]=(0,t.useState)(!1),[x]=(0,t.useState)(()=>Math.random().toString(36).substring(2,10)),u="Codeforces"===e,g="LeetCode"===e,m=`https://www.codechef.com/users/${a}/edit`;u&&(m="https://codeforces.com/settings/social"),g&&(m="https://leetcode.com/profile/");let y="Name";u&&(y="First Name"),g&&(y="Name");let C=async()=>{f(!0);try{let r;(r=u?await v(a,x):g?await j(a,x):await k(a,x)).success?(h.toast.success(`${e} profile verified successfully!`),o(),d()):h.toast.error(r.error||`Verification failed. Please check if the ${y} is updated correctly.`)}catch(e){h.toast.error("An error occurred during verification")}finally{f(!1)}};return(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:(0,r.jsxs)("div",{className:"bg-white dark:bg-[#1a1a1a] rounded-2xl w-full max-w-md p-6 shadow-2xl border border-gray-200 dark:border-[#333] relative animate-in zoom-in-95 duration-200",children:[(0,r.jsx)("button",{onClick:d,className:"absolute top-4 right-4 p-2 text-gray-500 hover:bg-gray-100 dark:hover:bg-[#262626] rounded-full transition-colors",children:(0,r.jsx)(i.X,{className:"w-5 h-5"})}),(0,r.jsxs)("div",{className:"mb-6 text-center",children:[(0,r.jsxs)("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:["Verify your ",e," profile"]}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Step ",l," / 3"]})]}),1===l&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"text-center space-y-4",children:[(0,r.jsxs)("p",{className:"text-gray-600 dark:text-gray-300",children:["Open your ",e," profile settings in a new tab."]}),(0,r.jsxs)("a",{href:m,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400 rounded-xl font-medium hover:bg-orange-200 dark:hover:bg-orange-900/50 transition-colors",children:["Open ",e," Settings ",(0,r.jsx)(p.ExternalLink,{className:"w-4 h-4"})]})]}),(0,r.jsx)("button",{onClick:()=>c(2),className:"w-full py-3 bg-orange-600 hover:bg-orange-700 text-white font-medium rounded-xl transition-colors",children:"Continue"})]}),2===l&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("p",{className:"text-gray-600 dark:text-gray-300 mb-2",children:["Paste this verification code in your ",(0,r.jsx)("strong",{children:y})]}),(0,r.jsx)("p",{className:"text-xs text-gray-400",children:"(You can change it back after verification)"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-gray-50 dark:bg-[#0a0a0a] border border-gray-200 dark:border-[#333] rounded-xl",children:[(0,r.jsx)("code",{className:"flex-1 text-center font-mono text-lg font-bold text-gray-900 dark:text-gray-100 tracking-wider",children:x}),(0,r.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(x),h.toast.success("Code copied to clipboard")},className:"p-2 text-gray-500 hover:text-orange-600 hover:bg-orange-50 dark:hover:bg-orange-900/20 rounded-lg transition-colors",title:"Copy Code",children:(0,r.jsx)(b.Copy,{className:"w-5 h-5"})})]})]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("button",{onClick:()=>c(1),className:"flex-1 py-3 bg-gray-100 dark:bg-[#262626] text-gray-700 dark:text-gray-300 font-medium rounded-xl hover:bg-gray-200 dark:hover:bg-[#333] transition-colors",children:"Back"}),(0,r.jsx)("button",{onClick:()=>c(3),className:"flex-1 py-3 bg-orange-600 hover:bg-orange-700 text-white font-medium rounded-xl transition-colors",children:"I've pasted the code"})]})]}),3===l&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"text-center space-y-4",children:[(0,r.jsxs)("p",{className:"text-gray-600 dark:text-gray-300",children:["Make sure you saved your profile changes on ",e," using the verification code."]}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Click verify below to confirm ownership."})]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("button",{onClick:()=>c(2),disabled:n,className:"flex-1 py-3 bg-gray-100 dark:bg-[#262626] text-gray-700 dark:text-gray-300 font-medium rounded-xl hover:bg-gray-200 dark:hover:bg-[#333] transition-colors disabled:opacity-50",children:"Back"}),(0,r.jsx)("button",{onClick:C,disabled:n,className:"flex-1 py-3 bg-orange-600 hover:bg-orange-700 text-white font-medium rounded-xl transition-colors flex items-center justify-center gap-2 disabled:opacity-70",children:n?(0,r.jsx)(s.Loader2,{className:"w-5 h-5 animate-spin"}):`Verify ${e} Profile`})]})]})]})})}var N=e.i(618566);let w=({id:e,label:a,iconSrc:l,placeholder:h,urlPrefix:f,form:b,onSubmit:p,handleDisconnect:y,isLoading:k,initialValue:v,onVerify:j,isVerified:C})=>{let{register:N,watch:w,formState:{errors:S}}=b,H=w(e),L=function(e,r){let[a,s]=(0,t.useState)(e);return(0,t.useEffect)(()=>{let r=setTimeout(()=>{s(e)},500);return()=>{clearTimeout(r)}},[e,500]),a}(H,0),[M,V]=(0,t.useState)(null),[U,R]=(0,t.useState)(!1),P=H===v&&!!H;return(0,t.useEffect)(()=>{(async()=>{if(!L||L===v)return V(null);if("codeChefHandle"===e){R(!0);let e=await (0,x.checkCodeChefUser)(L);R(!1),V(e.success)}if("codeforcesHandle"===e){R(!0);let e=await (0,u.checkCodeforcesUser)(L);R(!1),V(e.success)}if("leetCodeHandle"===e){R(!0);let e=await (0,g.checkLeetCodeUser)(L);R(!1),V(e.success)}})()},[L,e,v]),(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-[#1a1a1a]/50 rounded-xl border border-gray-100 dark:border-[#262626]",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 w-1/4",children:["string"==typeof l?(0,r.jsx)(m.default,{src:l,alt:a,width:24,height:24,className:"rounded-sm object-contain"}):l,(0,r.jsx)("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:a})]}),(0,r.jsxs)("div",{className:"flex-1 flex gap-2",children:[(0,r.jsxs)("div",{className:"flex-1 flex items-center bg-white dark:bg-[#0a0a0a] border border-gray-200 dark:border-[#333] rounded-lg px-3 overflow-hidden relative",children:[f&&(0,r.jsx)("span",{className:"text-gray-400 text-sm whitespace-nowrap mr-1",children:f}),(0,r.jsx)("input",{...N(e),className:"flex-1 py-2 bg-transparent border-none outline-none text-sm",placeholder:h}),(0,r.jsx)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:U?(0,r.jsx)(s.Loader2,{className:"w-4 h-4 animate-spin text-gray-400"}):!0===M?(0,r.jsx)(o.Check,{className:"w-4 h-4 text-green-500"}):!1===M&&L?(0,r.jsx)(i.X,{className:"w-4 h-4 text-red-500"}):null})]}),P?(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[C?(0,r.jsxs)("div",{className:"flex items-center gap-1.5 px-3 py-2 bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-400 text-xs font-bold rounded-lg border border-green-200 dark:border-green-800",children:[(0,r.jsx)(c.ShieldCheck,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Verified"})]}):j?(0,r.jsx)("button",{onClick:()=>j(H),className:"px-3 py-2 bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 text-xs font-medium rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/40 transition-colors",children:"Verify Now"}):(0,r.jsx)("div",{className:"flex items-center justify-center w-10 h-10 bg-gray-100 dark:bg-gray-800 text-gray-500 rounded-lg",title:"Linked",children:(0,r.jsx)(n.Link,{className:"w-4 h-4"})}),(0,r.jsx)("button",{onClick:()=>y(e),className:"flex items-center justify-center w-10 h-10 border border-gray-200 dark:border-[#333] hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-600 hover:border-red-200 dark:hover:border-red-800 rounded-lg transition-colors",title:"Disconnect",children:(0,r.jsx)(d.Trash2,{className:"w-4 h-4"})})]}):(0,r.jsx)("button",{onClick:()=>p(e),disabled:k===e||!1===M,className:"px-4 py-2 bg-white dark:bg-[#0a0a0a] border border-gray-200 dark:border-[#333] hover:bg-gray-50 dark:hover:bg-[#1a1a1a] text-sm font-medium rounded-lg transition-colors min-w-[80px] disabled:opacity-50",children:k===e?(0,r.jsx)(s.Loader2,{className:"w-4 h-4 animate-spin mx-auto"}):"Save"})]})]})};function S({user:e}){let s=(0,N.useRouter)(),[d,o]=(0,t.useState)(null),[i,c]=(0,t.useState)(null),n=(0,a.useForm)({defaultValues:{leetCodeHandle:e.leetCodeHandle||"",codeChefHandle:e.codeChefHandle||"",codeforcesHandle:e.codeforcesHandle||"",githubHandle:e.githubHandle||""}}),{getValues:x,setValue:u,watch:g,reset:m}=n,b=!!e.githubHandle||!!g("githubHandle"),p=async e=>{o(e);let r=x();try{let a={leetCodeHandle:r.leetCodeHandle,codeChefHandle:r.codeChefHandle,codeforcesHandle:r.codeforcesHandle,githubHandle:r.githubHandle},t=await (0,f.updateUserInfo)(a);t.success?(h.toast.success(`${e} handle updated successfully`),m(r)):h.toast.error(t.error||"Failed to update profile")}catch(e){h.toast.error("Something went wrong")}finally{o(null)}},y=async e=>{u(e,""),await p(e)};return(0,r.jsxs)("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[i&&(0,r.jsx)(C,{platform:i.platform,handle:i.handle,onClose:()=>c(null),onSuccess:()=>{c(null),s.refresh(),h.toast.success("CodeChef profile verified successfully")}}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold font-mono text-gray-900 dark:text-gray-100",children:"Platforms"}),(0,r.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:"You can update and verify your platform details here."})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h2",{className:"text-lg font-medium font-mono text-gray-900 dark:text-gray-100",children:"Development"}),(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-[#1a1a1a]/50 rounded-xl border border-gray-100 dark:border-[#262626]",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(l,{className:"w-6 h-6 text-gray-900 dark:text-gray-100"}),(0,r.jsx)("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Github"})]}),b?(0,r.jsxs)("button",{className:"px-4 py-2 bg-white dark:bg-[#0a0a0a] border border-gray-200 dark:border-[#333] text-sm font-medium rounded-lg",children:["Connected as ",g("githubHandle")]}):(0,r.jsx)("button",{className:"px-4 py-2 bg-gray-900 text-white dark:bg-white dark:text-gray-900 text-sm font-medium rounded-lg hover:opacity-90 transition-opacity",children:"Connect"})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h2",{className:"text-lg font-medium font-mono text-gray-900 dark:text-gray-100",children:"Problem Solving"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)(w,{id:"leetCodeHandle",label:"LeetCode",iconSrc:"/handles_logos/leetcode.png",placeholder:"username",urlPrefix:"https://leetcode.com/u/",form:n,onSubmit:p,handleDisconnect:y,isLoading:d,initialValue:e.leetCodeHandle||"",onVerify:e=>c({platform:"LeetCode",handle:e}),isVerified:e.leetCodeVerified||!1}),(0,r.jsx)(w,{id:"codeChefHandle",label:"CodeChef",iconSrc:"/handles_logos/codechef.png",placeholder:"username",urlPrefix:"https://www.codechef.com/users/",form:n,onSubmit:p,handleDisconnect:y,isLoading:d,initialValue:e.codeChefHandle||"",onVerify:e=>c({platform:"CodeChef",handle:e}),isVerified:e.codeChefVerified||!1}),(0,r.jsx)(w,{id:"codeforcesHandle",label:"CodeForces",iconSrc:"/handles_logos/codeforces.png",placeholder:"username",urlPrefix:"https://codeforces.com/profile/",form:n,onSubmit:p,handleDisconnect:y,isLoading:d,initialValue:e.codeforcesHandle||"",onVerify:e=>c({platform:"Codeforces",handle:e}),isVerified:e.codeforcesVerified||!1})]})]})]})}e.s(["PlatformSettings",()=>S],506934)}]);